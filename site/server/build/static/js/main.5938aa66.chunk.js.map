{"version":3,"sources":["views/Test/Test.js","components/Users/Profile.js","components/Developer/Developer.js","views/Admin/AdminPage.js","views/LiveEmStatus/LiveEmStatus.js","views/SiteSetup/SiteSetup.js","views/Energy/Energy.js","components/Test/TrialTestContainer.js","views/TrialTest/TrialTest.js","routes.js","views/UserProfile/UserProfile.js","views/SocketDevTest/SocketDevTest.js","views/Developer/Developer.js","components/Data/TrialTestsTable.js","components/Users/UserNavbar.js","assets/jss/material-dashboard-react/components/snackbarContentStyle.js","components/Snackbar/Snackbar.js","components/Users/UserFunctions.js","components/Grid/GridItem.js","assets/img/egg.png","assets/jss/material-dashboard-react/layouts/adminStyle.js","components/CircularProgress/CircularProgress.js","components/Test/LiveFloorplanWrapper.js","components/Test/LiveLights.js","assets/jss/material-dashboard-react.js","components/SiteSetup/Devices.js","components/SiteSetup/Buildings.js","components/SiteSetup/Levels.js","assets/jss/material-dashboard-react/components/footerStyle.js","components/Footer/Footer.js","components/Grid/GridContainer.js","components/power/SummaryCard.jsx","components/NoDataIndication/NoDataIndicationTable.js","components/Data/TrialTestsTableSelf.js","assets/jss/material-dashboard-react/components/cardIconStyle.js","components/Card/CardIcon.js","assets/jss/material-dashboard-react/components/cardFooterStyle.js","components/Card/CardFooter.js","assets/img/sidebar-2.jpg","components/Popup/Popup.js","components/Developer/TestComponentDev.js","components/Test/LiveFloorPlan.js","components/Developer/ManualCommand.js","components/Developer/SocketDev.js","components/Users/AdminPage.js","components/Users/Register.js","components/SiteUserManagement/SiteUserManagement.js","components/DevTestSockets/DevTestContainer.js","components/DevTestSockets/Sites.js","components/DevTestSockets/Building.js","components/DevTestSockets/SelectDevices.js","components/DevTestSockets/TestContainer.js","components/LiveEmStatus/LiveEmStatus.js","components/LiveEmStatus/Overwatch.js","components/LiveEmStatus/UnassignedDevices.js","components/Test/LiveSensors.js","components/LiveEmStatus/UnassignedSensors.js","components/SiteSetup/SiteSetup.js","components/SiteSetup/EditBuilding.js","components/Data/GroupsTable.js","components/SiteSetup/Sensors.js","components/power/Dashboard.jsx","components/Test/TrialTest.js","components/Test/ChooseTestType.js","layouts/Guest.js","views/Notauthorized/Notauthorized.js","assets/jss/material-dashboard-react/dropdownStyle.js","assets/jss/material-dashboard-react/components/headerLinksStyle.js","assets/jss/material-dashboard-react/components/buttonStyle.js","components/CustomButtons/Button.js","assets/jss/material-dashboard-react/components/customInputStyle.js","components/CustomInput/CustomInput.js","components/Navbars/AdminNavbarLinks.js","assets/jss/material-dashboard-react/components/sidebarStyle.js","components/Sidebar/Sidebar.js","layouts/Admin.js","components/Users/Login.js","views/LoginPage/LoginPage.js","index.js","components/SiteSetup/NewBuilding.js","components/SiteSetup/NewLevel.js","components/Data/DeviceTableEditable.js","components/Data/Floorplan.js","components/Test/OverwatchFloorplanWrapper.js","assets/jss/material-dashboard-react/components/cardStyle.js","components/Card/Card.js","assets/jss/material-dashboard-react/components/cardBodyStyle.js","components/Card/CardBody.js","assets/jss/material-dashboard-react/components/cardHeaderStyle.js","components/Card/CardHeader.js"],"names":["lightText","fontWeight","textDecoration","marginBottom","useStyles","makeStyles","cardCategoryWhite","color","margin","fontSize","marginTop","cardTitleWhite","minHeight","fontFamily","lineHeight","root","height","flexGrow","maxWidth","Profile","state","first_name","last_name","email","errors","access","token","localStorage","usertoken","decoded","jwt_decode","role_name","this","setState","className","Component","Developer","ManualCommand","SocketDev","TrialTestContainer","TrialTest","devices","dashboardRoutes","path","name","icon","component","classes","GridContainer","justify","GridItem","xs","sm","md","Card","CardHeader","CardBody","LiveEmStatus","layout","hidden","style","textAlign","SiteSetup","PersonIcon","AdminPage","columnsGl","GroupsTable","props","filterTests","rowId","axios","get","global","BASE_URL","headers","Authorization","then","response","errorsCsv","data","testsFiltered","tests","filter","test","id","errorsFiltered","error","trial_tests_id","handleSort","table","sortContext","locationFormatter","column","colIndex","sortElement","filterElement","display","flexDirection","text","togglePopup","showPopup","backDisabled","justFinishedTest","lastTest","location","fromDashboard","console","log","columns","dataField","sort","headerStyle","colum","width","textFilter","headerFormatter","whiteSpace","textOverflow","overflow","selectFilter","options","Finished","Cancelled","dateFilter","dateStyle","formatter","cell","moment","format","rowEvents","onClick","e","row","sizePerPageList","value","length","disabled","transform","documentGenerated","float","history","push","closePopup","bootstrap4","noDataIndication","ref","n","wrapperClasses","bordered","hover","keyField","filterFactory","rowStyle","cursor","pagination","paginationFactory","withRouter","UserNavbar","isHidden","preventDefault","removeItem","decode","loginRegLink","to","userLink","logOut","bind","comp","exp","Date","getTime","backgroundColor","hexToRgb","grayColor","boxShadow","top","left","position","borderRadius","overflowY","map","item","index","key","marginLeft","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","src","logo","alt","snackbarContentStyle","defaultFont","flexWrap","padding","whiteColor","minWidth","blackColor","top20","top40","info","infoColor","infoBoxShadow","success","successColor","successBoxShadow","warning","warningColor","warningBoxShadow","danger","dangerColor","dangerBoxShadow","primary","primaryColor","primaryBoxShadow","rose","roseColor","roseBoxShadow","message","close","iconButton","infoIcon","successIcon","warningIcon","dangerIcon","primaryIcon","roseIcon","iconMessage","paddingLeft","actionRTL","marginRight","styles","Snackbar","place","open","rtlActive","action","messageClasses","classNames","undefined","IconButton","closeNotification","anchorOrigin","vertical","indexOf","horizontal","ContentProps","register","newUser","post","password","role","sites","res","loginVar","login","user","setItem","catch","err","grid","children","rest","module","exports","appStyle","theme","wrapper","mainPanel","breakpoints","up","drawerWidth","transition","maxHeight","overflowScrolling","content","container","CircularProgressWithLabel","hr","duration","hours","min","minutes","sec","seconds","variant","size","bottom","right","alignItems","justifyContent","LiveFloorplanWrapper","devicesGrouped","_","groupBy","liveDevices","subArr","i","typography","spacing","opacity","blink","animationName","animationDuration","animationTimingFunction","animationIterationCount","textField","card","borderTopLeftRadius","borderTopRightRadius","heading","paddingTop","changeButton","LiveFloorPlan","React","useState","anchorEl","setAnchorEl","openedPopoverId","setOpenedPopoverId","openedContextMenu","setOpenedContextMenu","floorplanURL","setFloorplanURL","floorplanNotFound","setFloorplanNotFound","comment","setComment","setDevices","activeDrags","setActiveDrags","setSuccess","setSelectedFile","handleCloseContextMenu","handleHover","event","deviceId","currentTarget","handleClose","onChange","target","useEffect","clickedLevel","responseType","URL","createObjectURL","onStart","onStop","Boolean","dragHandlers","liveDevices_","level","overflowX","border","backgroundRepeat","backgroundSize","backgroundImage","gutterBottom","accept","selectedFile","files","idxDot","lastIndexOf","extFile","substr","toLowerCase","FormData","append","alert","el","status","includes","x","fp_coordinates_left","y","fp_coordinates_bot","onDrag","ui","deltaY","deltaX","handleDrag","bounds","openContextMenu","onMouseEnter","onMouseLeave","onTouchStart","onTouchEnd","onClose","aria-labelledby","device_id","node_id","autoFocus","label","addComment","find","device","method","url","topic","timeout","refreshData","checkConnectivity","pointerEvents","transformOrigin","clickedBuilding","clickedGroup","assignLight","input","replace","Error","first","second","last","toUpperCase","parseInt","paddingRight","warningCardHeader","background","successCardHeader","dangerCardHeader","infoCardHeader","primaryCardHeader","roseCardHeader","title","borderTop","buildings","addEmpty","updateData","a","result","bulkEdit","update_data","updateDevice","addDevice","levels_id","deleteDevice","editable","onBulkUpdate","changes","Promise","resolve","reject","bulkEditDevices","onRowAdd","newData","handleEditDevice","onRowUpdate","oldData","onRowDelete","actions","tooltip","isFreeAction","field","lookup","onRowClick","rowData","updateBuilding","buildings_id","building","address","addBuilding","sites_id","clickedSite","deleteBuilding","setTimeout","handleEditBuilding","handleClickBuilding","Levels","updateLevel","level_name","description","addLevel","deleteLevel","handleEditLevel","handleClickLevel","levels","footerStyle","block","textTransform","footer","list","inlineBlock","Footer","List","ListItem","getYear","href","Loading","SummaryCard","total_data","line_data","loading","power_consumption","direction","line","toFixed","TrialTestsTableSelf","intervalTests","trialTests","setInterval","clearInterval","cardIconStyle","cardIcon","CardIcon","cardIconClasses","cardFooterStyle","cardFooter","cardFooterProfile","cardFooterPlain","cardFooterStats","cardFooterChart","CardFooter","plain","profile","stats","chart","cardFooterClasses","Popup","reportData","renderPDF","generatePDF","downloadReport","window","Blob","link","document","createElement","setAttribute","created_at","body","appendChild","click","downloadOfficialReport","successful","forEach","lights","in","site","NoDataIndication","timer","gwMessage","errorMessage","isTest","testCounter","step","userInput","disabledBackBtn","disabledFinish","disabledStartAll","disabledApply","disabledAbort","finishClicked","abortClicked","clickedStartAll","testFinished","testid","testData","selectedAction","deviceManual","responses","textInput","deviceColumns","editor","Type","SELECT","getOptions","setOptions","selectOptions","cellContent","rowIndex","devicesFiltered","selectedDevices","selectedDevicesLive","selectedDevicesCols","testColumns","align","powercut","progress","durationStart","clicked","cutPowerSingle","testInfo","intervalCheck","test_id","every","finish_clicked","abort_clicked","cut_all_clicked","handleStart","cutPowerAll","saveTest","abortTest","confirm","goToStepTwo","devSetRelayOn","mqtt_topic","devSetRelayOff","devGetOnOff","devGetLedState","devGetGW","SEND_TOPIC","setLightOn","setLightOff","getLdrReading","light_node_id","getBatVoltage","volt_reading_node_id","handleSelect","callSites","usersId","siteName","light","handleChangeSite","handleSelectAction","clearSelected","hasAccess","selectRow","mode","clickToSelect","onSelect","isSelect","prevState","onSelectAll","rows","selectRowLiveDevices","clickToEdit","optionsSelected","indicatorColor","textColor","centered","nodeAddress","mqtt_topic_out","checked","cellEdit","cellEditFactory","afterSaveCell","oldValue","newValue","blurToSave","withStyles","sensors","reading","voltage","command","messages","sendCommand","inputOnChange","socket","send","onChangeRadio","changeEvent","clientName","c","blabla","omnom","AdminComponent","users","callUsers","usersCopy","canEdit","revokeAccess","foundUser","findIndex","JSON","stringify","Register","validateForm","valid","Object","values","onChangeSelect","selectedOption","selectedRole","formDisabled","onChangeSelectSites","selectedSites","play","roles","onSubmit","accessLevel","validEmailRegex","RegExp","noValidate","htmlFor","placeholder","closeMenuOnSelect","selectedSite","isMulti","UserManagement","deleteUser","found","expandRow","renderer","showExpandColumn","onlyOneExpanding","expandByColumnOnly","expandHeaderColumnRenderer","isAnyExpands","expandColumnRenderer","expanded","done","beforeSaveCell","self","async","DevTestSockets","paperRoot","root2","scroller","TabPanel","other","p","CenteredTabs","setValue","setClickedSite","setSocket","tabsDisabled","setTabsDisabled","setLiveDevices","stage","setStage","setClickedBldng","gwState","setGwState","checkStatus","socketName","gwStatus","siteCheck","socket_name","toggleTabs","initiateTest","setClickedBuilding","scrollButtons","a11yProps","initiate","modalRoot","buildingStyle","crumbleNavigation","tableFadeIn","animationFillMode","paper","Building","setBuildings","cardCategory","cardTitle","Devices","setSelectedDevices","lights_id","TestContainer","setSites","setLevels","setSiteName","setBackDisabled","setClickedLevel","setClickedGroup","callBuildings","siteID","callLevels","buildingID","callDevices","levelID","Overwatch","setLights","setResponse","setMode","setSensors","callLightsFloorplans","lgt_groups_id","callSensorsFloorplans","prevLights","assignSensor","sensor","prevSensors","UnassignedDevices","battery","ldr","sensor_type","clickedLevelDetails","clickedBuildingDetails","createNewBuilding","createNewLevel","buildingName","buildingAddress","levelName","saveNewBuilding","building_name","refresh","saveNewLevel","handleNewBuilding","handleNewLevel","setBuildingName","setBuildingAddress","setLevelName","callSensors","dataUpdate","tableData","dataDelete","indexDel","splice","handleEditSensor","keys","handleAddEmptyDevices","promise","EditBuilding","_isMounted","handleDelete","delete","SnackbarDeleteCopy","parse","SnackbarDelete","showSnackbarDelete","callLightsGroups","callLights","callGroups","callAllGroups","uniqueArray","thing","_thing","levels_name","_building","buildings_name","obj","autoClose","time","stateObject","closeDelete","closeSnackbar","setStateObject","validator","saveRecords","newRows","updateDataLength","showSnackbarEdit","clearInsertCounter","clearNewRows","snackbarPlace","snackbarColor","showSnackbarReusable","snackbarMsg","revertRecords","renderCheck","selectOptions2","showTooltip","showSnackbar","showSnackbarCancel","lightscolumns","zIndex","AddAlert","colName","object","resultLights","parentID","parent_id","Dashboard","measurements","dayGraphDateFormat","Intl","DateTimeFormat","weekday","month","day","hour","graphDateFormat","power","current","show","time_range","summary","month_total","month_line","three_months_total","three_months_line","year_total","year_total_line","loadingAgg","datasets_defaults","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","pointRadius","yAxisTitles","mapValues","l","point","epoch","split","v","parseFloat","chartReference","createRef","onMeasureChangeValue","onTimeRangeChangeValue","fetchData","lines","concat","x_1","fetchColumns","range","measure","d","points","fetchAggregate","interval","graph","data_","labels","datasets","dataset","scales","yAxes","scaleLabel","labelString","three_months","year","year_line","m","control","testType","Array","from","join","test_type","handleChangeType","handleChange","RadioButtonsGroup","switchRoutes","routes","prop","Guest","getRoute","pathname","dropdownStyle","buttonLink","down","links","linkText","popperClose","pooperResponsive","WebkitBoxShadow","popperNav","willChange","dropdown","listStyle","WebkitBackgroundClip","backgroundClip","dropdownItem","WebkitTransition","MozTransition","OTransition","MsTransition","clear","headerLinksStyle","search","paddingBottom","searchButton","searchIcon","notifications","verticalAlign","manager","searchWrapper","buttonStyle","button","letterSpacing","touchAction","white","simple","transparent","lg","round","justIcon","RegularButton","muiClasses","btnClasses","Button","customInputStyle","underline","underlineError","underlineSuccess","labelRoot","labelRootError","labelRootSuccess","feedback","formControl","CustomInput","formControlProps","labelText","labelProps","inputProps","labelClasses","underlineClasses","FormControl","InputLabel","Input","AdminNavbarLinks","openNotification","setOpenNotification","openProfile","setOpenProfile","handleCloseNotification","handleCloseProfile","innerWidth","icons","Hidden","mdUp","implementation","aria-owns","aria-haspopup","contains","Popper","disablePortal","TransitionProps","placement","Grow","Paper","ClickAwayListener","onClickAway","MenuList","MenuItem","Divider","sidebarStyle","drawerPaper","visibility","drawerPaperRTL","logoLink","logoLinkRTL","logoImage","img","backgroundPosition","itemLink","itemIcon","itemIconRTL","itemText","itemTextRTL","whiteFont","purple","blue","green","orange","red","sidebarWrapper","activePro","activeRoute","routeName","image","logoText","listItemClasses","whiteFontClasses","activeClassName","Icon","ListItemText","rtlName","disableTypography","Drawer","anchor","handleDrawerToggle","ModalProps","keepMounted","smDown","Admin","bgImage","mobileOpen","setMobileOpen","resizeFunction","navigator","platform","addEventListener","removeEventListener","Login","start","end","LoginPage","hist","createBrowserHistory","basename","checkAuth","getItem","CheckAuthInterval","AuthRoute","render","exact","ReactDOM","NotAuthorized","getElementById","insertCounter","groups","buildingsFiltered","isClickedBuilding","groupsFiltered","events","columnIndex","isClickedLevel","group_id","group","stopPropagation","groupName","group_name","isClickedGroup","deleteGroup","levelsFiltered","some","last_id","openModal","modalOpen","closeModal","levelOpenModal","levelModalOpen","levelCloseModal","getModalStyle","handleCreateBuilding","newBuildingName","levels_count","newLevelCount","handleCreateLevel","prompt","showSnackBarCancel","moveHandle","showSnackbarSuccess","insertHandle","lightsCopy","lastId","insertGroup","changeHandler","modalStyle","people","person","showInsertPopup","Floorplan","objectURL","deltaPosition","controlledPosition","adjustXPos","adjustYPos","onControlledDrag","onControlledDragStop","onChangeHandler","clickedLvl","handleSavePositions","handleClick","devicesWhenUpdate","cardStyle","wordWrap","cardPlain","cardProfile","cardChart","cardClasses","cardBodyStyle","cardBody","flex","WebkitBoxFlex","cardBodyPlain","cardBodyProfile","cardBodyClasses","cardHeaderStyle","cardHeader","borderBottom","cardHeaderPlain","cardHeaderStats","cardHeaderIcon","cardHeaderClasses"],"mappings":";4LA+CMA,EAAY,CAChBC,WAAY,MACZC,eAAgB,OAChBC,aAAc,QAGVC,EAAYC,YAzCH,CACbC,kBAAmB,CACjB,4BAA6B,CAC3BC,MAAO,wBACPC,OAAQ,IACRC,SAAU,OACVC,UAAW,IACXP,aAAc,KAEhB,0BAA2B,CACzBI,MAAO,YAGXI,eAAgB,CACdJ,MAAO,UACPG,UAAW,MACXE,UAAW,OACXX,WAAY,MACZY,WAAY,6CACZV,aAAc,MACdD,eAAgB,OAChB,UAAW,CACTK,MAAO,OACPE,SAAU,MACVR,WAAY,MACZa,WAAY,MAGhBC,KAAM,CACJC,OAAQ,MACRC,SAAU,IACVC,SAAU,S,qDCkBCC,E,kDAzDb,aAAe,IAAD,8BACZ,gBACKC,MAAQ,CACXC,WAAY,GACZC,UAAW,GACXC,MAAO,GACPC,OAAQ,GACRC,OAAQ,IAPE,E,gEAYZ,IAAMC,EAAQC,aAAaC,UACrBC,EAAUC,IAAWJ,GACvBD,EAASI,EAAQE,UAErBC,KAAKC,SAAS,CACZZ,WAAYQ,EAAQR,WACpBC,UAAWO,EAAQP,UACnBC,MAAOM,EAAQN,MACfE,OAAQA,M,+BAKV,OACE,yBAAKS,UAAU,aACb,yBAAKA,UAAU,6BACb,yBAAKA,UAAU,oBACb,wBAAIA,UAAU,eAAd,YAEF,2BAAOA,UAAU,0BACf,+BACE,4BACE,0CACA,4BAAKF,KAAKZ,MAAMC,aAElB,4BACE,yCACA,4BAAKW,KAAKZ,MAAME,YAElB,4BACE,qCACA,4BAAKU,KAAKZ,MAAMG,QAElB,4BACE,2CACA,4BAAKS,KAAKZ,MAAMK,iB,GAhDVU,a,+BCCDC,E,uKAEjB,OACE,6BACE,kBAAC,IAAD,MACA,kBAACC,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,W,GAN+BH,a,aC8CjC/B,EAAYC,YAxCH,CACbC,kBAAmB,CACjB,4BAA6B,CAC3BC,MAAO,wBACPC,OAAQ,IACRC,SAAU,OACVC,UAAW,IACXP,aAAc,KAEhB,0BAA2B,CACzBI,MAAO,YAGXI,eAAgB,CACdJ,MAAO,UACPG,UAAW,MACXE,UAAW,OACXX,WAAY,MACZY,WAAY,6CACZV,aAAc,MACdD,eAAgB,OAChB,UAAW,CACTK,MAAO,OACPE,SAAU,MACVR,WAAY,MACZa,WAAY,MAGhBC,KAAM,CACJC,OAAQ,MACRC,SAAU,IACVC,SAAU,OAEZlB,UAAW,CACTC,WAAY,MACZC,eAAgB,OAChBC,aAAc,U,0BCKZC,EAAYC,YAxCH,CACbC,kBAAmB,CACjB,4BAA6B,CAC3BC,MAAO,wBACPC,OAAQ,IACRC,SAAU,OACVC,UAAW,IACXP,aAAc,KAEhB,0BAA2B,CACzBI,MAAO,YAGXI,eAAgB,CACdJ,MAAO,UACPG,UAAW,MACXE,UAAW,OACXX,WAAY,MACZY,WAAY,6CACZV,aAAc,MACdD,eAAgB,OAChB,UAAW,CACTK,MAAO,OACPE,SAAU,MACVR,WAAY,MACZa,WAAY,MAGhBC,KAAM,CACJC,OAAQ,MACRC,SAAU,IACVC,SAAU,OAEZlB,UAAW,CACTC,WAAY,MACZC,eAAgB,OAChBC,aAAc,U,aCIZC,EAAYC,YAxCH,CACbC,kBAAmB,CACjB,4BAA6B,CAC3BC,MAAO,wBACPC,OAAQ,IACRC,SAAU,OACVC,UAAW,IACXP,aAAc,KAEhB,0BAA2B,CACzBI,MAAO,YAGXI,eAAgB,CACdJ,MAAO,UACPG,UAAW,MACXE,UAAW,OACXX,WAAY,MACZY,WAAY,6CACZV,aAAc,MACdD,eAAgB,OAChB,UAAW,CACTK,MAAO,OACPE,SAAU,MACVR,WAAY,MACZa,WAAY,MAGhBC,KAAM,CACJC,OAAQ,MACRC,SAAU,IACVC,SAAU,OAEZlB,UAAW,CACTC,WAAY,MACZC,eAAgB,OAChBC,aAAc,U,aCIZC,EAAYC,YAxCH,CACbC,kBAAmB,CACjB,4BAA6B,CAC3BC,MAAO,wBACPC,OAAQ,IACRC,SAAU,OACVC,UAAW,IACXP,aAAc,KAEhB,0BAA2B,CACzBI,MAAO,YAGXI,eAAgB,CACdJ,MAAO,UACPG,UAAW,MACXE,UAAW,OACXX,WAAY,MACZY,WAAY,6CACZV,aAAc,MACdD,eAAgB,OAChB,UAAW,CACTK,MAAO,OACPE,SAAU,MACVR,WAAY,MACZa,WAAY,MAGhBC,KAAM,CACJC,OAAQ,MACRC,SAAU,IACVC,SAAU,OAEZlB,UAAW,CACTC,WAAY,MACZC,eAAgB,OAChBC,aAAc,U,aC5CGoC,E,4MACnBnB,MAAQ,G,oGAIN,OACE,6BACE,kBAACoB,EAAA,EAAD,CAAWC,QAAS,U,GAPoBN,aCwC1C/B,EAAYC,YA9BH,CACbC,kBAAmB,CACjB,4BAA6B,CAC3BC,MAAO,wBACPC,OAAQ,IACRC,SAAU,OACVC,UAAW,IACXP,aAAc,KAEhB,0BAA2B,CACzBI,MAAO,YAGXI,eAAgB,CACdJ,MAAO,UACPG,UAAW,MACXE,UAAW,OACXX,WAAY,MACZY,WAAY,6CACZV,aAAc,MACdD,eAAgB,OAChB,UAAW,CACTK,MAAO,OACPE,SAAU,MACVR,WAAY,MACZa,WAAY,QClBlB,IAAM4B,EAAkB,CACtB,CACEC,KAAM,kBACNC,KAAM,iBACNC,KAAM,MACNC,UL4BW,WACb,IAAMC,EAAU3C,IAEhB,OACE,6BACE,kBAAC4C,EAAA,EAAD,CAAeC,QAAQ,UACrB,kBAACC,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC5B,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYhD,MAAM,WAChB,wBAAI2B,UAAWa,EAAQpC,gBAAvB,mBAEF,kBAAC6C,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,YKvCVC,OAAQ,SACRjC,OAAQ,EACRkC,QAAQ,GAUV,CACEhB,KAAM,mBACNC,KAAM,kBACNC,KAAM,gBACNC,UTaW,WACb,IAAMC,EAAU3C,IAEhB,OACE,6BAgBE,kBAAC4C,EAAA,EAAD,KACE,kBAACE,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIO,MAAO,CAAEC,UAAW,WACpD,wBAAID,MAAO5D,GAAX,kBAGJ,kBAACgD,EAAA,EAAD,CAAeC,QAAQ,UACrB,kBAACC,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC5B,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYhD,MAAM,WAChB,wBAAI2B,UAAWa,EAAQpC,gBAAvB,iBAEF,kBAAC6C,EAAA,EAAD,KACE,kBAAC,IAAD,YS5CVE,OAAQ,SACRjC,OAAQ,EACRkC,QAAQ,GAEV,CACEhB,KAAM,QACNC,KAAM,YACNC,KAAM,iBACNC,UDNW,WACb,IAAMC,EAAU3C,IAEhB,OACE,6BACE,kBAAC4C,EAAA,EAAD,CAAeC,QAAQ,UACrB,kBAACC,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC5B,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYhD,MAAM,QAChB,wBAAI2B,UAAWa,EAAQpC,gBAAvB,cAEF,kBAAC6C,EAAA,EAAD,KACE,kBAAC,EAAD,YCLVE,OAAQ,SACRjC,OAAQ,EACRkC,QAAQ,GASV,CACEhB,KAAM,cACNC,KAAM,aACNC,KAAM,wBACNC,UJdW,WACb,IAAMC,EAAU3C,IAEhB,OACE,6BACE,kBAAC4C,EAAA,EAAD,CAAeC,QAAQ,UACrB,kBAACC,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC5B,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYhD,MAAM,WAChB,wBAAI2B,UAAWa,EAAQpC,gBAAvB,eAEF,kBAAC6C,EAAA,EAAD,KACE,kBAACM,EAAA,EAAD,YIGVJ,OAAQ,SACRjC,OAAQ,EACRkC,QAAQ,GAEV,CACEhB,KAAM,UACNC,KAAM,SACNC,KAAM,MACNC,UHvBW,WACb,IAAMC,EAAU3C,IAEhB,OACE,6BACE,kBAAC4C,EAAA,EAAD,CAAeC,QAAQ,UACrB,kBAACC,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC5B,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYhD,MAAM,WAChB,wBAAI2B,UAAWa,EAAQpC,gBAAvB,oBAEF,kBAAC6C,EAAA,EAAD,KACE,kBAAC,IAAD,YGYVE,OAAQ,SACRjC,OAAQ,EACRkC,QAAQ,GAEV,CACEhB,KAAM,WACNC,KAAM,eACNC,KAAMkB,IACNjB,UC9EW,WAEb,OACE,6BACE,kBAACE,EAAA,EAAD,KACE,kBAACE,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC5B,kBAAC,EAAD,UDyENK,OAAQ,SACRjC,OAAQ,EACRkC,QAAQ,GAEV,CACEhB,KAAM,kBACNC,KAAM,cACNC,KAAM,yBACNC,UN1CW,WACb,IAAMC,EAAU3C,IAChB,OACE,kBAAC4C,EAAA,EAAD,KACE,kBAACE,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC5B,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYhD,MAAM,QAChB,wBAAI2B,UAAWa,EAAQpC,gBAAvB,yBAEF,kBAAC6C,EAAA,EAAD,KACE,kBAACQ,EAAA,EAAD,WMiCRN,OAAQ,SACRjC,OAAQ,EACRkC,QAAQ,GAEV,CACEhB,KAAM,mBACNC,KAAM,cACNC,KAAM,iBACNC,UE5DW,WAGb,OACE,6BACE,kBAACE,EAAA,EAAD,CAAeC,QAAQ,UACrB,kBAACC,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC5B,kBAAC,IAAD,UFsDNK,OAAQ,SACRjC,OAAQ,GACRkC,QAAQ,GAEV,CACEhB,KAAM,aACNC,KAAM,YACNC,KAAM,iBACNC,UGvGW,WAEb,OACE,6BACE,kBAACE,EAAA,EAAD,CAAeC,QAAQ,UACrB,kBAACC,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC5B,2EAEF,kBAACH,EAAA,EAAD,CAAUC,GAAI,IACZ,kBAAC,EAAD,UH+FNO,OAAQ,SACRjC,OAAQ,GACRkC,QAAQ,IAIGjB,O,mOIxGXuB,EAAY,GAEVC,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IA4CRC,YAAc,SAACC,GACbC,IACGC,IAAIC,EAAOC,SAAW,uCAAyCJ,EAAO,CACrEK,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL,EAAK5C,SAAS,CACZ6C,UAAWD,EAASE,KACpBV,MAAOA,EACPW,cAAe,EAAKb,MAAMc,MAAMC,QAAO,SAACC,GACtC,OAAIA,EAAKC,KAAOf,EACPc,EACK,QAEhBE,eAAgB,EAAKjE,MAAMI,OAAO0D,QAAO,SAACI,GACxC,OAAIA,EAAMC,iBAAmBlB,EACpBiB,EACK,cAjEL,EAuEnBE,WAAa,WACX,EAAKC,MAAMC,YAAYF,WAAWvB,EAAU,KAxE3B,EA2EnB0B,kBAAoB,SAACC,EAAQC,EAAT,GAAsD,EAAjCC,YAAkC,IAArBC,EAAoB,EAApBA,cACpD,OACE,yBAAKnC,MAAO,CAAEoC,QAAS,OAAQC,cAAe,WAC3CF,EACAH,EAAOM,OA/EK,EAoFnBC,YAAc,WACZ,EAAKlE,SACH,CACEmE,WAAY,EAAKhF,MAAMgF,YAEzB,kBAC2B,IAAzB,EAAKhF,MAAMgF,UACP,EAAKnE,SAAS,CAAEoE,cAAc,IAC9B,EAAKpE,SAAS,CAAEoE,cAAc,QA1FtC,EAAKjF,MAAQ,CACXgF,WAAW,EACX/B,MAAO,KACPY,MAAO,GACPD,cAAe,GACfxD,OAAQ,GACR6D,eAAgB,GAChBP,UAAW,GACXuB,cAAc,GAVC,E,gEAcE,IAAD,OAClB/B,IACGC,IAAIC,EAAOC,SAAW,kCAAmC,CACxDC,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL,EAAK5C,SAAS,CAAET,OAAQqD,EAASE,OAC7B,EAAKZ,MAAMmC,kBAAoB,EAAKnC,MAAMoC,WAC5C,EAAKnC,YAAY,EAAKD,MAAMoC,UAC5B,EAAKJ,eAIL,EAAKhC,MAAMqC,SAASpF,QACwB,IAA5C,EAAK+C,MAAMqC,SAASpF,MAAMqF,gBAE1BC,QAAQC,IACN,EAAKxC,MAAMqC,SAASpF,MAAMqF,cAC1B,EAAKtC,MAAMqC,SAASpF,MAAMmF,SAC1B,EAAKpC,MAAMqC,SAASpF,OAEtB,EAAKgD,YAAY,EAAKD,MAAMqC,SAASpF,MAAMmF,UAC3C,EAAKJ,kBAGXnE,KAAKwD,e,+BAsDG,IAAD,OAWDoB,EAAU,CACd,CACEC,UAAW,KACXX,KAAM,KACNY,MAAM,EACNC,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,UAGpB,CACEJ,UAAW,OACXX,KAAM,OACNY,MAAM,EACN5B,OAAQgC,uBACRH,YAAa,WACX,MAAO,CACLE,MAAO,UAGXE,gBAAiBnF,KAAK2D,kBACtB/B,MAAO,CACLwD,WAAY,SACZC,aAAc,WACdC,SAAU,WAGd,CACET,UAAW,WACXX,KAAM,WACNY,MAAM,EACN5B,OAAQgC,uBACRH,YAAa,WACX,MAAO,CACLE,MAAO,UAGXE,gBAAiBnF,KAAK2D,kBACtB/B,MAAO,CACLwD,WAAY,SACZC,aAAc,WACdC,SAAU,WAGd,CACET,UAAW,QACXX,KAAM,SACNY,MAAM,EACN5B,OAAQgC,uBACRH,YAAa,WACX,MAAO,CACLE,MAAO,UAGXE,gBAAiBnF,KAAK2D,kBACtB/B,MAAO,CACLwD,WAAY,SACZC,aAAc,WACdC,SAAU,WAGd,CACET,UAAW,aACXX,KAAM,YACNY,MAAM,EACN5B,OAAQgC,uBACRvD,QAAQ,EACRoD,YAAa,WACX,MAAO,CACLE,MAAO,UAGXE,gBAAiBnF,KAAK2D,kBACtB/B,MAAO,CACLwD,WAAY,SACZC,aAAc,WACdC,SAAU,WAGd,CACET,UAAW,SACXX,KAAM,UACNY,MAAM,EACNC,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,UAGpB,CACEJ,UAAW,SACXX,KAAM,WACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,SACXX,KAAM,SACNY,MAAM,EACN5B,OAAQqC,uBAAa,CACnBC,QAvGgB,CACpBC,SAAU,WACV,cAAe,cACfC,UAAW,eAsGTP,gBAAiBnF,KAAK2D,kBACtBoB,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,UAGpB,CACEJ,UAAW,OACXX,KAAM,OACNY,MAAM,EACN5B,OAAQgC,uBACRC,gBAAiBnF,KAAK2D,kBACtBoB,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,UAQpB,CACEJ,UAAW,aACXX,KAAM,aACNY,MAAM,EACN5B,OAAQyC,qBAAW,CAAEC,UAAW,CAAEX,MAAO,QAASzG,OAAQ,SAC1DqH,UAtIkB,SAACC,GACrB,OAAO,8BAAOC,IAAOD,GAAME,OAAO,wBAsIhCb,gBAAiBnF,KAAK2D,kBACtBoB,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,YAKtBhD,EAAY2C,EAEZ,IAAMqB,EAAY,CAChBC,QAAS,SAACC,EAAGC,GACX,EAAKhE,YAAYgE,EAAIhD,IACrB,EAAKe,gBAIHqB,EAAU,CACda,gBAAiB,CACf,CACEnC,KAAM,IACNoC,MAAO,GAET,CACEpC,KAAM,KACNoC,MAAO,IAET,CACEpC,KAAM,MACNoC,MAAOtG,KAAKmC,MAAMc,MAAMsD,UAK9B,OACE,yBAAK3E,MAAO,CAAElD,UAAW,KACvB,kBAAC,IAAD,CACE8H,SAAUxG,KAAKZ,MAAMiF,aACrB9F,MAAM,UACNqD,MAAO,CAAE6E,UAAW,iBAAkBjI,OAAQ,QAC9C0H,QAAS,WACP,EAAKjG,SAAS,CAAEyG,mBAAmB,IACnC,EAAKvC,gBAGP,kBAAC,IAAD,oBAEF,kBAAC,IAAD,CACE5F,MAAM,UACNqD,MAAO,CAAEpD,OAAQ,OAAQmI,MAAO,SAChCT,QAAS,kBAAM,EAAK/D,MAAMyE,QAAQC,KAAK,iBAEvC,kBAAC,IAAD,aAEA7G,KAAKZ,MAAMgF,UAiBX,kBAAC,IAAD,CACEA,UAAWpE,KAAKZ,MAAMgF,UACtBpB,cAAehD,KAAKZ,MAAM4D,cAC1BK,eAAgBrD,KAAKZ,MAAMiE,eAC3BP,UAAW9C,KAAKZ,MAAM0D,UACtBT,MAAOrC,KAAKZ,MAAMiD,MAClB6B,KAAK,qCACL4C,WAAY,kBAAM,EAAK3C,iBAvBzB,kBAAC,IAAD,CACE4C,YAAU,EACVC,iBAAkB,mBAClBC,IAAK,SAACC,GAAD,OAAQ,EAAKzD,MAAQyD,GAC1BC,eAAe,mBACfC,UAAU,EACVC,OAAK,EACLC,SAAS,KACTvE,KAAM/C,KAAKmC,MAAMc,MACjB2B,QAASA,EACT1B,OAAQqE,MACRtB,UAAWA,EACXuB,SAAU,CAAEC,OAAQ,WACpBC,WAAYC,IAAkBnC,U,GA5ShBrF,aA8TXyH,gBAAW1F,K,0KCvUpB2F,G,yDACJ,aAAe,IAAD,8BACZ,gBACKzI,MAAQ,CACXC,WAAY,GACZC,UAAW,GACXC,MAAO,GACPC,OAAQ,GACRsI,UAAU,GAPA,E,mDAWP3B,GACLA,EAAE4B,iBACFpI,aAAaqI,WAAW,aACxBhI,KAAKmC,MAAMyE,QAAQC,KAAnB,O,0CAIA,GAAIlH,aAAaC,UAAW,CAC1B,IAAMC,EAAUoI,IAAOtI,aAAaC,WACpCI,KAAKC,SAAS,CACZZ,WAAYQ,EAAQR,WACpBC,UAAWO,EAAQP,UACnBC,MAAOM,EAAQN,W,+BAKX,IAAD,OACD2I,EACJ,wBAAIhI,UAAU,cACZ,wBAAIA,UAAU,eAAe0B,MAAO,CAAEnD,SAAU,UAC9C,kBAAC,IAAD,CAAM0J,GAAG,SAASjI,UAAU,uBAA5B,aAOAkI,EACJ,6BACE,wBAAIlI,UAAU,cACZ,wBAAIA,UAAU,gBACZ,kBAAC,IAAD,CACEiI,GAAG,iBACHjI,UAAU,0BACV0B,MAAO,CAAEnD,SAAU,WAElBuB,KAAKZ,MAAMC,WALd,IAK2BW,KAAKZ,MAAME,YAGxC,wBAAIY,UAAU,gBACZ,yBACEgG,QAASlG,KAAKqI,OAAOC,KAAKtI,MAC1BE,UAAU,0BACV0B,MAAO,CAAEnD,SAAU,WAHrB,aAYJ8J,EAAOL,EAEPvI,aAAaC,YAGb2I,EAFcN,IAAOtI,aAAaC,WAA5B4I,KACE,IAAIC,MAAOC,UAAY,IACxBR,EACKE,GAEhB,OACE,yBACElI,UAAU,2DACV0B,MAAO,CACL+G,gBAAiB,QAAUC,YAASC,IAAU,IAAM,IACpD1K,aAAc,QACdM,SAAU,QACVqK,UAAW,sCACX9J,OAAQ,QAEVoE,GAAG,YAEF,IACApD,KAAKZ,MAAM0I,SAAW,KACrB,yBACElG,MAAO,CACLmH,IAAK,OACLC,KAAM,OACNhK,OAAQ,QACRiG,MAAO,OACPgE,SAAU,WACVN,gBAAiB,UACjBO,aAAc,kBACdC,UAAW,WAGb,wBAAIvH,MAAO,CAAEoC,QAAS,WACnBtD,IAAgB0I,KAAI,SAACC,EAAMC,GAAP,OACnB,wBAAIC,IAAKD,EAAO1H,MAAO,CAAE1D,eAAgB,SACvC,kBAAC,IAAD,CACEiK,GAAI,SAAWkB,EAAK1I,KACpBuF,QAAS,WACP,EAAKjG,SAAS,CAAE6H,UAAW,EAAK1I,MAAM0I,aAGxC,uBACElG,MAAO,CACLnD,SAAU,MACV+K,WAAY,OACZtL,eAAgB,OAChBK,MAAO,UAGR8K,EAAKzI,WAIV,IACJ,yBACEgB,MAAO,CACLC,UAAW,OACX8E,MAAO,OACPlI,SAAU,UAGX8J,KAKR5I,aAAaC,UACZ,4BACEM,UAAU,6BACV0B,MAAO,CAAElD,UAAW,OAAQM,OAAQ,OACpCyK,KAAK,SACLC,cAAY,WACZC,cAAY,oBACZC,gBAAc,mBACdC,gBAAc,QACdC,aAAW,oBACX5D,QAAS,kBAAM,EAAKjG,SAAS,CAAE6H,UAAW,EAAK1I,MAAM0I,aAErD,0BACE5H,UAAU,sBACV0B,MAAO,CAAE5C,OAAQ,MAAOT,MAAO,YAGjC,KACJ,kBAAC,IAAD,CACE2B,UAAU,4CACViI,GAAG,oBAEH,yBACE4B,IAAKC,IACL/E,MAAM,OACNjG,OAAO,OACPkB,UAAU,2BACV+J,IAAI,SATR,iBAaA,yBACE/J,UAAU,kDACVkD,GAAG,oBAEFmF,Q,GAxKcpI,cA+KVyH,gBAAWC,I,2KCrDXqC,EA9Gc,CAC3BnL,KAAK,2BACAoL,KADD,IAEFC,SAAU,QACVnB,SAAU,WACVoB,QAAS,YACTvL,WAAY,OACZX,aAAc,OACdM,SAAU,OACVkK,gBAAiB2B,IACjB/L,MAAOsK,IAAU,GACjBK,aAAc,MACdqB,SAAU,QACVrL,SAAU,QACV4J,UACE,0BACAF,YAAS0B,KACT,gCACA1B,YAAS4B,KACT,gCACA5B,YAAS0B,KACT,WAEJG,MAAO,CACL1B,IAAK,QAEP2B,MAAO,CACL3B,IAAK,QAEP4B,KAAK,aACHhC,gBAAiBiC,IAAU,GAC3BrM,MAAO+L,KACJO,KAELC,QAAQ,aACNnC,gBAAiBoC,IAAa,GAC9BxM,MAAO+L,KACJU,KAELC,QAAQ,aACNtC,gBAAiBuC,IAAa,GAC9B3M,MAAO+L,KACJa,KAELC,OAAO,aACLzC,gBAAiB0C,IAAY,GAC7B9M,MAAO+L,KACJgB,KAELC,QAAQ,aACN5C,gBAAiB6C,IAAa,GAC9BjN,MAAO+L,KACJmB,KAELC,KAAK,aACH/C,gBAAiBgD,IAAU,GAC3BpN,MAAO+L,KACJsB,KAELC,QAAS,CACPxB,QAAS,IACTrG,QAAS,QACT9E,SAAU,OAEZ4M,MAAO,CACL7G,MAAO,OACPjG,OAAQ,QAEV+M,WAAY,CACV9G,MAAO,OACPjG,OAAQ,OACRqL,QAAS,OAEXxJ,KAAM,CACJmD,QAAS,QACTgF,KAAM,OACNC,SAAU,WACVF,IAAK,MACLrK,UAAW,QACXuG,MAAO,OACPjG,OAAQ,QAEVgN,SAAU,CACRzN,MAAOqM,IAAU,IAEnBqB,YAAa,CACX1N,MAAOwM,IAAa,IAEtBmB,YAAa,CACX3N,MAAO2M,IAAa,IAEtBiB,WAAY,CACV5N,MAAO8M,IAAY,IAErBe,YAAa,CACX7N,MAAOiN,IAAa,IAEtBa,SAAU,CACR9N,MAAOoN,IAAU,IAEnBW,YAAa,CACXC,YAAa,OACbvI,QAAS,SAEXwI,UAAW,CACThD,WAAY,OACZiD,YAAa,SClHXrO,EAAYC,YAAWqO,GAEd,SAASC,EAASxK,GAC/B,IAAMpB,EAAU3C,IACRyN,EAAwD1J,EAAxD0J,QAAStN,EAA+C4D,EAA/C5D,MAAOuN,EAAwC3J,EAAxC2J,MAAOjL,EAAiCsB,EAAjCtB,KAAM+L,EAA2BzK,EAA3ByK,MAAOC,EAAoB1K,EAApB0K,KAAMC,EAAc3K,EAAd2K,UAC9CC,EAAS,GACPC,EAAiBC,IAAW,eAC/BlM,EAAQuL,iBAAuBY,IAATrM,IAezB,YAbcqM,IAAVpB,IACFiB,EAAS,CACP,kBAACI,EAAA,EAAD,CACEjN,UAAWa,EAAQgL,WACnBxC,IAAI,QACJO,aAAW,QACXvL,MAAM,UACN2H,QAAS,kBAAM/D,EAAMiL,sBAErB,kBAAC,IAAD,CAAOlN,UAAWa,EAAQ+K,WAK9B,kBAAC,IAAD,CACEuB,aAAc,CACZC,UAAkC,IAAxBV,EAAMW,QAAQ,KAAc,SAAW,MACjDC,YAC0B,IAAxBZ,EAAMW,QAAQ,KACV,QACwB,IAAxBX,EAAMW,QAAQ,KACd,SACA,SAERV,KAAMA,EACNhB,QACE,kCACYqB,IAATrM,EAAqB,kBAACsB,EAAMtB,KAAP,CAAYX,UAAWa,EAAQF,OAAW,KAChE,0BAAMX,UAAW8M,GAAiBnB,IAGtCkB,OAAQA,EACRU,aAAc,CACZ1M,QAAS,CACPhC,KAAMgC,EAAQhC,KAAO,IAAMgC,EAAQxC,GACnCsN,QAAS9K,EAAQ8K,QACjBkB,OAAQE,IAAW,eAAGlM,EAAQyL,UAAYM,U,kCCzDpD,sIAEaY,EAAW,SAACC,GACvB,OAAOrL,IACJsL,KAAKpL,EAAOC,SAAW,kBAAmB,CACzCpD,WAAYsO,EAAQtO,WACpBC,UAAWqO,EAAQrO,UACnBC,MAAOoO,EAAQpO,MACfsO,SAAUF,EAAQE,SAClBC,KAAMH,EAAQG,KACdC,MAAOJ,EAAQI,QAEhBnL,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,OAGPC,EAAW,GACTC,EAAQ,SAACC,GACpB,OAAO7L,IACJsL,KAAKpL,EAAOC,SAAW,eAAgB,CACtClD,MAAO4O,EAAK5O,MACZsO,SAAUM,EAAKN,WAEhBjL,MAAK,SAACoL,GAEL,OADArO,aAAayO,QAAQ,YAAaJ,EAAIjL,MAC/BiL,EAAIjL,QAEZsL,OAAM,SAACC,GACFA,EAAIzL,UACNoL,EAAWK,EAAIzL,SAASE,KACxB2B,QAAQC,IAAI2J,EAAIzL,WACXoL,EAAW,qD,kIClBlB7P,EAAYC,YANH,CACbkQ,KAAM,CACJlE,QAAS,uBAME,SAASnJ,EAASiB,GAC/B,IAAMpB,EAAU3C,IACRoQ,EAAsBrM,EAAtBqM,SAAaC,EAFiB,YAERtM,EAFQ,cAGtC,OACE,kBAAC,IAAD,eAAMkH,MAAI,GAAKoF,EAAf,CAAqBvO,UAAWa,EAAQwN,OACrCC,K,oBCpBPE,EAAOC,QAAU,IAA0B,iC,2DCmC5BC,IA7BE,SAACC,GAAD,YAAY,CAC3BC,QAAS,CACP7F,SAAU,WACVF,IAAK,IACL/J,OAAQ,SAEV+P,UAAU,4CACPF,EAAMG,YAAYC,GAAG,MAAQ,CAC5BhK,MAAM,eAAD,OAAiBiK,IAAjB,SAFA,yBAIG,QAJH,yBAKG,YALH,sBAMA,SANA,GAOJC,KAPI,IAQPC,UAAW,OACXnK,MAAO,OACPoK,kBAAmB,UAErBC,QAAS,CACP5Q,UAAW,OACX2L,QAAS,YACTzL,UAAW,uBAEb2Q,cACAnG,IAAK,CACH1K,UAAW,W,iCC/Bf,gFAMe,SAAS8Q,EAA0BrN,GAChD,IAAIsN,EAAKtN,EAAMuN,SAASC,QACpBC,EAAMzN,EAAMuN,SAASG,UACrBC,EAAM3N,EAAMuN,SAASK,UACzB,OACE,kBAAC,IAAD,CAAK9G,SAAS,WAAWjF,QAAQ,eAC/B,kBAAC,IAAD,eAAkBgM,QAAQ,SAASC,KAAM,IAAQ9N,IACjD,kBAAC,IAAD,CACE4G,IAAK,EACLC,KAAM,EACNkH,OAAQ,EACRC,MAAO,EACPlH,SAAS,WACTjF,QAAQ,OACRoM,WAAW,SACXC,eAAe,UAEf,kBAAC,IAAD,CACEL,QAAQ,UACRlP,UAAU,MACVvC,MAAM,iBAHR,UAIKkR,EAJL,YAIWG,EAJX,YAIkBE,Q,kJCvBLQ,E,4MACnBlR,MAAQ,CACNmR,eAAgB,I,kEAIhB,IAAIA,EAAiBC,IAAEC,QAAQzQ,KAAKmC,MAAMuO,YAAa,aACvD1Q,KAAKC,SAAS,CAAEsQ,eAAgBA,M,+BAIhC,IAAIA,EAAiBC,IAAEC,QAAQzQ,KAAKmC,MAAMuO,YAAa,aACvD,OACE,6BACGF,IAAEpH,IAAImH,GAAgB,SAACI,EAAQC,GAC9B,OAAO,kBAAC,IAAD,CAAerH,IAAKqH,EAAGF,YAAaC,Y,GAfHxQ,c,iRCgB5C/B,EAAYC,aAAW,SAACwQ,GAAD,MAAY,CACvCgC,WAAY,CACVxG,QAASwE,EAAMiC,QAAQ,GACvB7L,MAAO,QAET,qBAAsB,CACpB,KAAM,CAAE8L,QAAS,OACjB,MAAO,CAAEA,QAAS,OAClB,MAAO,CAAEA,QAAS,KAClB,MAAO,CAAEA,QAAS,OAClB,OAAQ,CAAEA,QAAS,QAErBC,MAAO,CACLzS,MAAO,UACP0S,cAAe,WACfC,kBAAmB,OACnBC,wBAAyB,SACzBC,wBAAyB,YAE3BC,UAAW,CACT7H,WAAYqF,EAAMiC,QAAQ,GAC1BrE,YAAaoC,EAAMiC,QAAQ,GAC3B7L,MAAO,QAETqM,KAAM,CACJ3K,MAAO,OACP1B,MAAO,OACPmK,UAAW,OACX5Q,OAAQ,OACR2Q,WAAY,OACZ9E,QAAS,MACTkH,oBAAqB,OACrBC,qBAAsB,OACtB7I,gBAAiB,wBACjBpK,MAAO,WAETkT,QAAS,CACP9K,MAAO,OACP4F,YAAa,MACbmF,WAAY,MACZ7P,UAAW,SACXrD,OAAQ,OACRmK,gBAAiB,UACjBO,aAAc,QACdjE,MAAO,OACPjG,OAAQ,OACRT,MAAO,QACPkO,YAAa,OAEfkF,aAAc,CACZ3N,QAAS,eACTxF,OAAQ,WAIG,SAASoT,EAAczP,GACpC,IAAMpB,EAAU3C,IAD2B,EAEXyT,IAAMC,SAAS,MAFJ,mBAEpCC,EAFoC,KAE1BC,EAF0B,OAGGH,IAAMC,SAAS,MAHlB,mBAGpCG,EAHoC,KAGnBC,EAHmB,OAIOL,IAAMC,UAAS,GAJtB,mBAIpCK,EAJoC,KAIjBC,EAJiB,OAKHP,IAAMC,SAAS,IALZ,mBAKpCO,EALoC,KAKtBC,EALsB,OAMOT,IAAMC,SAAS,IANtB,mBAMpCS,EANoC,KAMjBC,EANiB,OAObX,IAAMC,SAAS,IAPF,mBAOpCW,EAPoC,KAO3BC,EAP2B,OAQbb,IAAMC,SAAS,IARF,mBAQpCrR,EARoC,KAQ3BkS,EAR2B,OASLd,IAAMC,SAAS,GATV,mBASpCc,EAToC,KASvBC,EATuB,QAUbhB,IAAMC,UAAS,GAVF,qBAUpChH,GAVoC,MAU3BgI,GAV2B,SAWHjB,IAAMC,WAXH,qBAWtBiB,IAXsB,aAsBrCC,GAAyB,WAC7BZ,EAAqB,OAGjBa,GAAc,SAACC,EAAOC,GAC1BnB,EAAYkB,EAAME,eAClBlB,EAAmBiB,IAGfE,GAAc,WAClBrB,EAAY,MACZE,EAAmB,OAGfoB,GAAW,SAACnN,GAChBuM,EAAWvM,EAAEoN,OAAOjN,QA+BtBkN,qBAAU,WAAO,IACP/S,EAAY0B,EAAZ1B,QACRkS,EAAWlS,GACX6B,IACGC,IAAIC,EAAOC,SAAW,yBAA2BN,EAAMsR,aAAc,CACpE/Q,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1C8T,aAAc,SAEfrF,OAAM,SAACC,GACN5J,QAAQC,IAAI2J,GACZkE,EAAqB,6BAEtB5P,MAAK,SAACC,GACDA,GAAUyP,EAAgBqB,IAAIC,gBAAgB/Q,EAASE,YAG9D,CAACZ,EAAM1B,UAEV,IA0BMoT,GAAU,WACdhB,EAAeD,EAAc,IAGzBkB,GAAS,WACbjB,EAAeD,EAAc,IAqCzBxP,GADO2Q,QAAQhC,GACH,sBAAmB7E,EAC/B8G,GAAe,CAAEH,QAASA,GAASC,OAAQA,IAE3CG,GAAe9R,EAAMuO,YAE3B,OACE,6BACE,yBAAKxQ,UAAWa,EAAQuQ,MACtB,kBAAC,IAAD,CAAYtB,QAAQ,KAAKpO,MAAO,CAAElD,UAAW,QAA7C,SACSuV,GAAa1N,OAAS,EAAI0N,GAAa,GAAGC,MAAQ,KAAM,IADjE,eAEeD,GAAa1N,OAAS,EAAI0N,GAAa1N,OAAS,EAC7D,uBAAG3E,MAAO,CAAE+E,MAAO,aAGvB,yBACE/E,MAAO,CACLuS,UAAW,SACXlP,MAAO,OACPjG,OAAQ,OACRoV,OAAQ,oBAGV,yBAEExS,MAAO,CACL5C,OAAQ,QACRiG,MAAO,SACPoP,iBAAkB,YAClBC,eAAgB,UAChBC,gBAAgB,OAAD,OAASlC,EAAT,MAEjBpI,IAAI,eAEJ,yBAAKrI,MAAO,CAAEqD,MAAO,OAAQjG,OAAQ,OAAQiK,SAAU,aACpDgL,GAAa1N,OAAS,EACpBgM,EAGC,6BACE,kBAAC,IAAD,CAAYvC,QAAQ,KAAKwE,cAAY,GAArC,qCAGA,2BACE/K,KAAK,OACLgL,OAAO,OACPnB,SA/ED,SAACJ,GAChB,IAAMwB,EAAexB,EAAMK,OAAOoB,MAAM,GACpCC,EAASF,EAAa9T,KAAKiU,YAAY,KAAO,EAC9CC,EAAUJ,EAAa9T,KACxBmU,OAAOH,EAAQF,EAAa9T,KAAK2F,QACjCyO,cAEH,GAAe,OAAXF,GAA+B,QAAXA,EAAmB,CAGzC/B,GAAgBG,EAAMK,OAAOoB,MAAM,IAEnC,IAAM5R,EAAO,IAAIkS,SACjBlS,EAAKmS,OAAO,QAAS/S,EAAMsR,cAC3B1Q,EAAKmS,OAAO,OAAQhC,EAAMK,OAAOoB,MAAM,IAEvCrS,IACGsL,KAAKpL,EAAOC,SAAW,yBAA0BM,EAAM,CACtDL,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1C8T,aAAc,SAEf9Q,MAAK,SAACC,GACL6B,QAAQC,IAAIgP,IAAIC,gBAAgB/Q,EAASE,OACzCuP,EAAgBqB,IAAIC,gBAAgB/Q,EAASE,eAGjDoS,MAAM,oCAmDQvU,KAAK,YAVT,8BAeF,kBAAC,IAAD,CAAYoP,QAAQ,KAAKwE,cAAY,GAArC,aACa,KAGdP,GAAa1N,OAAS,IAAMgM,EACzB0B,GAAa7K,KAAI,SAACgM,EAAI9L,GACpB,IACI0H,EADAzS,EAAQ,OA0CZ,OAxCI6W,EAAGC,SACLrE,EAAQoE,EAAGC,OAAOC,SAAS,mBACvBvU,EAAQiQ,MACR,KACAoE,EAAGC,OAAOC,SAAS,QAAO/W,EAAQ,WAClC6W,EAAGC,OAAOC,SAAS,6BACrB/W,EAAQ,UACN6W,EAAGC,OAAOC,SAAS,6BACrB/W,EAAQ,WACN6W,EAAGC,OAAOC,SAAS,0BACrB/W,EAAQ,WA+BV,kBAAC,IAAD,eACEgL,IAAK6L,EAAGhS,GACR6F,SAAU,CACRsM,EAAGH,EAAGI,oBACNC,EAAGL,EAAGM,oBAERC,OAAQ,SAACxP,EAAGyP,GAAJ,OA7JT,SAACzP,EAAGyP,EAAItM,EAAOlG,GAAQ,IAClCsN,EAAgBvO,EAAhBuO,YACNA,EAAYpH,GAAOoM,mBACjBhF,EAAYpH,GAAOoM,mBAAqBE,EAAGC,OAC7CnF,EAAYpH,GAAOkM,oBACjB9E,EAAYpH,GAAOkM,oBAAsBI,EAAGE,OAC9CnD,EAAWjC,GAuJ0BqF,CAAW5P,EAAGyP,EAAItM,EAAO8L,EAAGhS,MAC3C4Q,GAPN,CAQEH,QAASA,GACTC,OAAQA,GACRvF,KAAM,CAAC,EAAG,GACVyH,OAAQ,WAER,yBACEpU,MAAO,CACLqD,MAAO,MACPjG,OAAQ,MACRiK,SAAU,aAGZ,kBAAC,IAAD,CACE/I,UAAW8Q,EACXpP,MAAO,CACLnD,SAAU,MACVwK,SAAU,WACVxB,OAAQ,OACRlJ,MAAOA,GAET2H,QAAS,SAACC,GAAD,OAhRT,SAAC+M,EAAOC,GAC9B,IAAMzT,EAAQC,aAAaC,UACXE,IAAWJ,GACfD,QAAU,KACpB2S,EAAqBe,GACrBzO,QAAQC,IAAIwO,IA2QwB8C,CAAgB9P,EAAGiP,EAAGhS,KACtC8S,aAAc,SAAC/P,GAAD,OAAO8M,GAAY9M,EAAGiP,EAAGhS,KACvC+S,aAAc9C,GACd+C,aAAc,SAACjQ,GAAD,OAAO8M,GAAY9M,EAAGiP,EAAGhS,KACvCiT,WAAYhD,IAZd,eAkBA,kBAAC,IAAD,CACExG,KAAMsF,IAAsBiD,EAAGhS,GAC/BkT,QAAStD,GACTuD,kBAAgB,qBAEhB,kBAAC,IAAD,CAAanT,GAAG,qBAAhB,UACMgS,EAAGoB,UADT,cACwBpB,EAAG3L,KAD3B,cACqC2L,EAAGqB,UAExC,kBAAC,IAAD,KACE,kBAAC,IAAD,gBACWrB,EAAGC,QAEd,kBAAC,IAAD,KACGD,EAAG3C,QACF,0CACW,2BAAI2C,EAAG3C,UAGlB,0CAGJ,kBAAC,IAAD,CACEvS,UAAWa,EAAQsQ,UACnBqF,WAAS,EACTlY,OAAO,QACP4E,GAAG,OACHuT,MAAM,cACNlN,KAAK,OACL6J,SAAUA,KAEZ,kBAAC,IAAD,CACEpN,QAAS,kBAAM/D,EAAMyU,WAAWxB,EAAGhS,GAAIqP,IACvClU,MAAM,WAEN,kBAAC,IAAD,qBAEF,kBAAC,IAAD,CACE2H,QAAS,kBAAM/D,EAAMyU,WAAWxB,EAAGhS,GAAI,KACvC7E,MAAM,aAEN,kBAAC,IAAD,iBAGJ,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ2H,QAAS,kBA3SjB,SAACiN,GACzBzO,QAAQC,IACNsP,GAAa4C,MAAK,SAACzB,GACjB,OAAOA,EAAGhS,KAAO+P,MAGrB,IAAM2D,EAAS7C,GAAa4C,MAAK,SAACzB,GAChC,OAAOA,EAAGhS,KAAO+P,KAEnB7Q,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,8BACvBM,KAAM,CACJkU,MAAO,YACPH,OAAQA,GAEVI,QAAS,IACRtU,MAAK,SAACoL,GACP7L,EAAMgV,cACNzS,QAAQC,IAAIqJ,MAmRiCoJ,CAAkBhC,EAAGhS,MAA5C,qBAGA,kBAAC,IAAD,CACE8C,QAAS8M,GACTzU,MAAM,WAFR,WASHqU,EAAc,EACb,kBAAC,IAAD,CACExP,GAAIA,GACJyJ,KAAMoF,IAAoBmD,EAAGhS,GAC7B2O,SAAUA,EACVnQ,MAAO,CAAEyV,cAAe,QACxBhK,aAAc,CACZC,SAAU,SACVE,WAAY,UAEd8J,gBAAiB,CACfhK,SAAU,MACVE,WAAY,WAGd,6BACE,kBAAC,IAAD,CAAYtN,UAAWa,EAAQ8P,YAA/B,UACMuE,EAAGoB,UADT,cACwBpB,EAAG3L,KAD3B,cACqC2L,EAAGqB,WAG1C,6BACE,kBAAC,IAAD,CAAYvW,UAAWa,EAAQ8P,YAA/B,WACWuE,EAAGC,UAIhB,UAKZ,QAIV,kBAAC,IAAD,CAAQ9W,MAAM,UAAU2H,QAzSA,WAC1B5D,IAAM,CACJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,wBACvBM,KAAM,CAAEtC,QAASA,KAChBmC,MAAK,SAACoL,GACPtJ,QAAQC,IAAIqJ,GACO,MAAfA,EAAIqH,QACNvC,IAAW,QA6Rb,yBAGChI,GAAU,uDAAmC,KAE9C,kBAAC,IAAD,CACEyM,gBAAiBpV,EAAMoV,gBACvB9D,aAActR,EAAMsR,aACpB+D,aAAcrV,EAAMqV,aACpBC,YAAatV,EAAMsV,kB,m9BC/brB7O,EAAW,SAAA8O,GAEfA,GADAA,GAAgB,IACFC,QAAQ,IAAK,IAE3B,IADe,eACDxU,KAAKuU,IAA4B,IAAjBA,EAAMnR,QAAiC,IAAjBmR,EAAMnR,OACxD,MAAM,IAAIqR,MAAM,mCAElB,GAAqB,IAAjBF,EAAMnR,OAAc,CACtB,IAAIsR,EAAQH,EAAM,GACdI,EAASJ,EAAM,GACfK,EAAOL,EAAM,GACjBA,EAAQG,EAAQA,EAAQC,EAASA,EAASC,EAAOA,EAGnD,IAAIF,GADJH,EAAQA,EAAMM,YAAYN,IACR,GAAKA,EAAM,GACzBI,EAASJ,EAAM,GAAKA,EAAM,GAC1BK,EAAOL,EAAM,GAAKA,EAAM,GAC5B,OACEO,SAASJ,EAAO,IAChB,KACAI,SAASH,EAAQ,IACjB,KACAG,SAASF,EAAM,KAQb7I,EAAc,IAEdC,EAAa,CACjBA,WAAY,mDAGRI,EAAY,CAChB2I,aAAc,OACd3L,YAAa,OACbE,YAAa,OACbjD,WAAY,QAGRW,EAAc,CAClBtL,WAAY,6CACZZ,WAAY,MACZa,WAAY,SAGR0M,EAAe,CAAC,UAAW,UAAW,UAAW,WACjDN,EAAe,CAAC,UAAW,UAAW,UAAW,WACjDG,EAAc,CAAC,UAAW,UAAW,UAAW,WAChDN,EAAe,CAAC,UAAW,UAAW,UAAW,WACjDH,EAAY,CAAC,UAAW,UAAW,UAAW,WAC9Ce,EAAY,CAAC,UAAW,UAAW,UAAW,WAC9C9C,EAAY,CAChB,OACA,OACA,UACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,OACA,WAEI2B,EAAa,OACbF,EAAa,OAEbxB,EAAY,CAChBA,UACE,0BACAF,EAAS4B,GACT,gCACA5B,EAAS4B,GACT,iCACA5B,EAAS4B,GACT,UAGEiB,EAAmB,CACvB3C,UACE,qBACAF,EAAS4B,GACT,+BACA5B,EAAS4C,EAAa,IACtB,QAEEX,EAAgB,CACpB/B,UACE,qBACAF,EAAS4B,GACT,+BACA5B,EAASgC,EAAU,IACnB,QAEEI,EAAmB,CACvBlC,UACE,qBACAF,EAAS4B,GACT,+BACA5B,EAASmC,EAAa,IACtB,QAEEI,EAAmB,CACvBrC,UACE,qBACAF,EAAS4B,GACT,+BACA5B,EAASsC,EAAa,IACtB,QAEEI,EAAkB,CACtBxC,UACE,qBACAF,EAAS4B,GACT,+BACA5B,EAASyC,EAAY,IACrB,QAEEO,EAAgB,CACpB9C,UACE,qBACAF,EAAS4B,GACT,+BACA5B,EAAS+C,EAAU,IACnB,QAGEwM,EAAiB,aACrBC,WACE,0BAA4BlN,EAAa,GAAK,KAAOA,EAAa,GAAK,KACtEC,GAECkN,EAAiB,aACrBD,WACE,0BAA4BrN,EAAa,GAAK,KAAOA,EAAa,GAAK,KACtEC,GAECsN,EAAgB,aACpBF,WACE,0BAA4B/M,EAAY,GAAK,KAAOA,EAAY,GAAK,KACpEC,GAECiN,EAAc,aAClBH,WACE,0BAA4BxN,EAAU,GAAK,KAAOA,EAAU,GAAK,KAChEC,GAEC2N,EAAiB,aACrBJ,WACE,0BAA4B5M,EAAa,GAAK,KAAOA,EAAa,GAAK,KACtEC,GAECgN,EAAc,aAClBL,WACE,0BAA4BzM,EAAU,GAAK,KAAOA,EAAU,GAAK,KAChEC,GA2CC8M,GAxCW,aACfla,OAAQ,cACRkT,WAAY,OACZiH,UAAW,aAAe9P,EAAU,IACpC7J,OAAQ,QACLmL,GAc8BvB,EAAS4B,GAEzB5B,EAAS4B,GASxB5B,EAAS4B,GAET5B,EAAS4B,GAET5B,EAAS4B,GAMC,CACZjM,MAAOsK,EAAU,GACjB3K,eAAgB,OAChBD,WAAY,MACZS,UAAW,OACXP,aAAc,OACdS,UAAW,OACXC,WAAY,6CACZ,UAAW,CACTN,MAAOsK,EAAU,GACjB5K,WAAY,MACZa,WAAY,OAID,2BACV4Z,GADU,IAEbha,UAAW,IACXP,aAAc,MACdS,UAAW,OACX,MAAM,2BACD8Z,GADL,IAEEha,UAAW,UACXP,aAAc,UACdS,UAAW,Y,uKCpPA,SAASga,EAAUzW,GAChC,IAsCM0W,EAAQ,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACIzW,IAAM,CAEvByU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,yBACvByU,QAAS,IATI,cACX8B,EADW,yBAWRA,GAXQ,2CAAH,sDAcRC,EAAQ,uCAAG,WAAOH,GAAP,eAAAC,EAAA,sEACIzW,IAAM,CAEvByU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,uBACvBM,KAAM,CACJmW,YAAaJ,GAEf5B,QAAS,IAZI,cACX8B,EADW,yBAcRA,GAdQ,2CAAH,sDAiBRG,EAAY,uCAAG,WAAOL,GAAP,eAAAC,EAAA,sEACAzW,IAAM,CAEvByU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,2BAA6BqW,EAAW1V,GAC/DL,KAAM,CACJyT,UAAWsC,EAAWtC,UACtBC,QAASqC,EAAWrC,QACpBhN,KAAMqP,EAAWrP,MAEnByN,QAAS,IAdQ,cACf8B,EADe,yBAgBZA,GAhBY,2CAAH,sDAmBZI,EAAS,uCAAG,WAAON,GAAP,eAAAC,EAAA,sEACGzW,IAAM,CAEvByU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,kBACvBM,KAAM,CACJyT,UAAWsC,EAAWtC,UACtBC,QAASqC,EAAWrC,QACpBhN,KAAMqP,EAAWrP,KACjB4P,UAAWlX,EAAMsR,cAEnByD,QAAS,IAfK,cACZ8B,EADY,yBAiBTA,GAjBS,2CAAH,sDAoBTM,EAAY,uCAAG,WAAOvW,GAAP,eAAAgW,EAAA,sEACAzW,IAAM,CAEvByU,OAAQ,SACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,eAAiBM,EAAKK,GAC7C8T,QAAS,IATQ,cACf8B,EADe,yBAWZA,GAXY,2CAAH,sDAcdO,EAAW,CACbC,aAAc,SAACC,GAAD,OACZ,IAAIC,SAAQ,SAACC,EAASC,GACpBX,EAASQ,GAAS7W,MAAK,SAACoL,GACtBtJ,QAAQC,IAAIqJ,GACZ7L,EAAM0X,gBAAgBJ,GACtBE,WAGNG,SAAU,SAACC,GAAD,OACR,IAAIL,SAAQ,SAACC,EAASC,GACpBR,EAAUW,GAASnX,MAAK,SAACoL,GACvBtJ,QAAQC,IAAIqJ,GACZ7L,EAAM6X,iBAAiBD,EAAS,GAAI,OACpCJ,WAGNM,YAAa,SAACF,EAASG,GAAV,OACX,IAAIR,SAAQ,SAACC,EAASC,GACpBT,EAAaY,GAASnX,MAAK,SAACoL,GAC1BtJ,QAAQC,IAAIqJ,GACZ7L,EAAM6X,iBAAiBD,EAASG,EAAS,UACzCP,WAGNQ,YAAa,SAACD,GAAD,OACX,IAAIR,SAAQ,SAACC,EAASC,GACpBN,EAAaY,GAAStX,MAAK,SAACoL,GAC1BtJ,QAAQC,IAAIqJ,GACZ7L,EAAM6X,iBAAiB,GAAIE,EAAS,UACpCP,YAKJS,EAAU,CACZ,CACEvZ,KAAM,MACNwZ,QAAS,cACTC,cAAc,EACdpU,QAAS,SAACgN,GAAD,OAAW2F,OASxB,OALK1W,EAAMoX,WACTA,EAAW,GACXa,EAAU,IAIV,kBAAC,IAAD,CACExV,QA7KY,CACd,CACE2V,MAAO,KACP7B,MAAO,KACP/W,QAAQ,GAEV,CACE4Y,MAAO,YACP7B,MAAO,aAET,CACE6B,MAAO,OACP7B,MAAO,eACP8B,OAAQ,CACN,QAAS,QACT,QAAS,QACT,SAAU,SACV,SAAU,SACV,OAAQ,OACR,SAAU,WAGd,CACED,MAAO,UACP7B,MAAO,gBAET,CACE6B,MAAO,cACP7B,MAAO,UACPa,SAAU,SAEZ,CACEgB,MAAO,WACP7B,MAAO,YACPa,SAAU,UA4IVkB,WAAY,SAACvH,EAAOwH,GAAR,OACVhW,QAAQC,IAAIxC,EAAM1B,QAAQ0B,EAAM1B,QAAQ8M,QAAQmN,MAElD3X,KAAMZ,EAAM1B,QACZiY,MAAM,UACNa,SAAUA,EACVa,QAASA,O,gMCrLA,SAASxB,EAAUzW,GAChC,IAqBMwY,EAAc,uCAAG,WAAO7B,GAAP,eAAAC,EAAA,sEACFzW,IAAM,CAEvByU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,kBAAoBqW,EAAW8B,aACtD7X,KAAM,CACJ8X,SAAU/B,EAAW+B,SACrBC,QAAShC,EAAWgC,SAEtB5D,QAAS,IAbU,cACjB8B,EADiB,yBAedA,GAfc,2CAAH,sDAkBd+B,EAAW,uCAAG,WAAOjC,GAAP,eAAAC,EAAA,sEACCzW,IAAM,CAEvByU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,2BACvBM,KAAM,CACJ8X,SAAU/B,EAAW+B,SACrBC,QAAShC,EAAWgC,QACpBE,SAAU7Y,EAAM8Y,aAElB/D,QAAS,IAdO,cACd8B,EADc,yBAgBXA,GAhBW,2CAAH,sDAmBXkC,EAAc,uCAAG,WAAOnY,GAAP,eAAAgW,EAAA,sEACFzW,IAAM,CAEvByU,OAAQ,SACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,kBAAoBM,EAAK6X,aAChD1D,QAAS,IATU,cACjB8B,EADiB,yBAWdA,GAXc,2CAAH,sDAchBO,EAAW,CACbO,SAAU,SAACC,GAAD,OACR,IAAIL,SAAQ,SAACC,EAASC,GACpBuB,YAAW,WAETzW,QAAQC,IAAIoV,GACZgB,EAAYhB,GAASnX,MAAK,SAACoL,GACzBtJ,QAAQC,IAAIqJ,GACZ7L,EAAMiZ,mBAAmBrB,EAAS,GAAI,OACtCJ,SAED,SAEPM,YAAa,SAACF,EAASG,GAAV,OACX,IAAIR,SAAQ,SAACC,EAASC,GAKpBe,EAAeZ,GAASnX,MAAK,SAACoL,GAC5BtJ,QAAQC,IAAIqJ,GACZ7L,EAAMiZ,mBAAmBrB,EAASG,EAAS,UAE3CP,WAGNQ,YAAa,SAACD,GAAD,OACX,IAAIR,SAAQ,SAACC,EAASC,GACpBuB,YAAW,WAKTD,EAAehB,GAAStX,MAAK,SAACoL,GAC5B7L,EAAMiZ,mBAAmB,GAAIlB,EAAS,UACtCP,SAED,UAMT,OAFKxX,EAAMoX,WAAUA,EAAW,IAG9B,kBAAC,IAAD,CACE3U,QArHY,CACd,CACE2V,MAAO,eACP7B,MAAO,KACP/W,QAAQ,GAEV,CACE4Y,MAAO,WACP7B,MAAO,YAET,CACE6B,MAAO,UACP7B,MAAO,WAET,CACE6B,MAAO,UACP7B,MAAO,mBACPa,SAAU,UAqGVkB,WAAYtY,EAAMkZ,oBAClBtY,KAAMZ,EAAMyW,UACZF,MAAM,YACNa,SAAUA,O,yLC3HD,SAAS+B,EAAOnZ,GAC7B,IA+BMoZ,EAAW,uCAAG,WAAOzC,GAAP,eAAAC,EAAA,sEACCzW,IAAM,CAEvByU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,oBAAsBqW,EAAW1V,GACxDL,KAAM,CACJyY,WAAY1C,EAAW5E,MACvBuH,YAAa3C,EAAW2C,aAE1BvE,QAAS,IAbO,cACd8B,EADc,yBAeXA,GAfW,2CAAH,sDAkBX0C,EAAQ,uCAAG,WAAO5C,GAAP,eAAAC,EAAA,sEACIzW,IAAM,CAEvByU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,kBACvBM,KAAM,CACJ6X,aAAczY,EAAMoV,gBACpBrD,MAAO4E,EAAW5E,MAClBuH,YAAa3C,EAAW2C,aAE1BvE,QAAS,IAdI,cACX8B,EADW,yBAgBRA,GAhBQ,2CAAH,sDAmBR2C,EAAW,uCAAG,WAAO5Y,GAAP,eAAAgW,EAAA,sEACCzW,IAAM,CAEvByU,OAAQ,SACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,eAAiBM,EAAKK,GAC7C8T,QAAS,IATO,cACd8B,EADc,yBAWXA,GAXW,2CAAH,sDAcbO,EAAW,CACbO,SAAU,SAACC,GAAD,OACR,IAAIL,SAAQ,SAACC,EAASC,GAEpB8B,EAAS3B,GAASnX,MAAK,SAACoL,GACtB7L,EAAMyZ,gBAAgB7B,EAAS,GAAI,OACnCJ,WAGNM,YAAa,SAACF,EAASG,GAAV,OACX,IAAIR,SAAQ,SAACC,EAASC,GAKpB2B,EAAYxB,GAASnX,MAAK,SAACoL,GACzBtJ,QAAQC,IAAIqJ,GACZ7L,EAAMyZ,gBAAgB7B,EAASG,EAAS,UACxCP,WAGNQ,YAAa,SAACD,GAAD,OACX,IAAIR,SAAQ,SAACC,EAASC,GAKpB+B,EAAYzB,GAAStX,MAAK,SAACoL,GACzBtJ,QAAQC,IAAIqJ,GACZ7L,EAAMyZ,gBAAgB,GAAI1B,EAAS,UACnCP,YAOR,OAFKxX,EAAMoX,WAAUA,EAAW,IAG9B,kBAAC,IAAD,CACE3U,QAzHY,CACd,CACE2V,MAAO,KACP7B,MAAO,KACP/W,QAAQ,EACRmD,MAAM,GAER,CACEyV,MAAO,QACP7B,MAAO,QACP5T,MAAM,GAER,CACEyV,MAAO,cACP7B,MAAO,cACP5T,MAAM,GAER,CACEyV,MAAO,UACP7B,MAAO,aACP5T,MAAM,EACNyU,SAAU,SAEZ,CACEgB,MAAO,eACP7B,MAAO,mBACP5T,MAAM,EACNyU,SAAU,UA+FVkB,WAAYtY,EAAM0Z,iBAClB9Y,KAAMZ,EAAM2Z,OACZpD,MAAM,SACNa,SAAUA,O,2JC9EDwC,EA9CK,CAClBC,MAAM,yBACJzd,MAAO,UACP8L,QAAS,OACT4R,cAAe,YACf/S,aAAc,MACdhL,eAAgB,OAChB+K,SAAU,WACVjF,QAAS,SACNmG,KARA,IASHlM,WAAY,MACZQ,SAAU,SAEZuK,KAAM,CACJrC,MAAO,iBACP3C,QAAS,SAEXmM,MAAO,CACL9F,QAAS,SACT7L,OAAQ,IACRC,SAAU,OACVkI,MAAO,mBAETuV,OAAO,aACLhM,OAAQ,IACRyI,UAAW,aAAe9P,IAAU,IACpCwB,QAAS,UACNF,KAELoF,cACAwJ,EAAG,CACDxa,MAAOiN,IACPtN,eAAgB,OAChByK,gBAAiB,eAEnBwT,KAAM,CACJhe,aAAc,IACdkM,QAAS,IACT3L,UAAW,KAEb0d,YAAa,CACXpY,QAAS,eACTqG,QAAS,MACTpF,MAAO,SCvCL7G,EAAYC,YAAWqO,GAEd,SAAS2P,EAAOla,GAC7B,IAAMpB,EAAU3C,IAChB,OACE,4BAAQ8B,UAAWa,EAAQmb,QACzB,yBAAKhc,UAAWa,EAAQwO,WACtB,yBAAKrP,UAAWa,EAAQiI,MACtB,kBAACsT,EAAA,EAAD,CAAMpc,UAAWa,EAAQob,MACvB,kBAACI,EAAA,EAAD,CAAUrc,UAAWa,EAAQqb,aAC3B,kBAAC,IAAD,CAAMjU,GAAG,mBAAmBjI,UAAWa,EAAQib,OAA/C,WAMN,uBAAG9b,UAAWa,EAAQoP,OACpB,sCACU,MAAO,IAAI1H,MAAO+T,UAAW,IACrC,uBACEC,KAAK,6BACLlJ,OAAO,SACPrT,UAAWa,EAAQgY,GAHrB,qB,gHChBN3a,EAAYC,YAPH,CACbkQ,KAAM,CACJ/P,OAAQ,qBACRyG,MAAO,WAMI,SAASjE,EAAcmB,GACpC,IAAMpB,EAAU3C,IACRoQ,EAAsBrM,EAAtBqM,SAAaC,EAFsB,YAEbtM,EAFa,cAG3C,OACE,kBAAC,IAAD,eAAMoN,WAAS,GAAKd,EAApB,CAA0BvO,UAAWa,EAAQwN,OAC1CC,K,iCCrBP,gEAQA,SAASkO,IACP,OACE,6BACE,kBAAC,IAAD,CAAU1M,QAAQ,OAAO/K,MAAO,OAAQjG,OAAQ,UAuCvC2d,IAlCK,SAAC,GAA+C,IAA7CjE,EAA4C,EAA5CA,MAAOkE,EAAqC,EAArCA,WAAYC,EAAyB,EAAzBA,UACxC,OADiE,EAAdC,QA+BvC,kBAACJ,EAAD,MA5BR,kBAAC,IAAD,KACGhE,GAASkE,GAAcC,EAAUtW,OAChC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAYyJ,QAAQ,KAAKlP,UAAU,MAChC4X,GAEH,kBAAC,IAAD,CAAY1I,QAAQ,KAAKlP,UAAU,MAChC,IACA8b,EAAW,GAAGG,kBAFjB,OAEwC,KAExC,6BACA,kBAAC,IAAD,CACExN,WAAS,EACTyN,UAAU,SACV/b,QAAQ,SACRmP,WAAW,SACXU,QAAS,GAER+L,EAAUzT,KAAI,SAACmM,GAAD,OACb,uBAAGhM,IAAKgM,EAAE0H,MAAV,QACQ1H,EAAE0H,KADV,KACkB1H,EAAEwH,kBAAkBG,QAAQ,GAD9C,OACsD,UAK1D,Q,iCC5CZ,mB,8KCKqBC,E,4MACnBC,cAAgB,E,EAChBhe,MAAQ,CACNie,WAAY,I,kEAGO,IAAD,OACZ3d,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GACrBd,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,uBAAyB0L,IAC/CvL,MAAK,SAACoL,GACP,EAAK/N,SAAS,CACZod,WAAYrP,EAAIjL,UAGpB/C,KAAKod,cAAgBE,aAAY,WAC/Bhb,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,uBAAyB0L,IAC/CvL,MAAK,SAACoL,GACP,EAAK/N,SAAS,CACZod,WAAYrP,EAAIjL,YAGnB,O,6CAIHwa,cAAcvd,KAAKod,iB,+BAInB,OAAO,kBAAC,IAAD,CAAiBna,MAAOjD,KAAKZ,MAAMie,iB,GA7CGld,e,yJCwBlCqd,EAnBO,CACpBC,SAAU,CACR,mHAAoH,CAClHvU,aAAc,MACdP,gBAAiBE,IAAU,GAC3BwB,QAAS,OACT3L,UAAW,QACX+N,YAAa,OACb9F,MAAO,SAGXwR,sBACAE,sBACAC,qBACAC,mBACAC,sBACAC,oBCdIra,EAAYC,YAAWqO,GAEd,SAASgR,EAASvb,GAAQ,IAAD,EAChCpB,EAAU3C,IACR8B,EAAwCiC,EAAxCjC,UAAWsO,EAA6BrM,EAA7BqM,SAAUjQ,EAAmB4D,EAAnB5D,MAAUkQ,EAFD,YAEUtM,EAFV,kCAGhCwb,EAAkB1Q,KAAU,mBAC/BlM,EAAQ0c,UAAW,GADY,cAE/B1c,EAAQxC,EAAQ,cAAgBA,GAFD,cAG/B2B,OAA0BgN,IAAdhN,GAHmB,IAKlC,OACE,uCAAKA,UAAWyd,GAAqBlP,GAClCD,K,uICsBQoP,EA5CS,CACtBC,WAAY,CACVxT,QAAS,IACTqH,WAAY,OACZlT,OAAQ,cACR0K,aAAc,IACdmH,eAAgB,gBAChBD,WAAY,SACZpM,QAAS,OACT2E,gBAAiB,cACjByL,OAAQ,KAEV0J,kBAAmB,CACjBpf,UAAW,SAEbqf,gBAAiB,CACfxR,YAAa,MACb2L,aAAc,MACdvP,gBAAiB,eAEnBqV,gBAAiB,CACfrF,UAAW,aAAe9P,IAAU,IACpCnK,UAAW,OACX,QAAS,CACPuK,SAAU,WACVF,IAAK,MACL0D,YAAa,MACbjD,WAAY,MACZvE,MAAO,OACPjG,OAAQ,QAEV,gDAAiD,CAC/CP,SAAU,OACVwK,SAAU,WACVF,IAAK,MACL0D,YAAa,MACbjD,WAAY,QAGhByU,gBAAiB,CACftF,UAAW,aAAe9P,IAAU,MC9BlCzK,EAAYC,YAAWqO,GAEd,SAASwR,EAAW/b,GAAQ,IAAD,EAClCpB,EAAU3C,IACR8B,EAA+DiC,EAA/DjC,UAAWsO,EAAoDrM,EAApDqM,SAAU2P,EAA0Chc,EAA1Cgc,MAAOC,EAAmCjc,EAAnCic,QAASC,EAA0Blc,EAA1Bkc,MAAOC,EAAmBnc,EAAnBmc,MAAU7P,EAFtB,YAE+BtM,EAF/B,4DAGlCoc,EAAoBtR,KAAU,mBACjClM,EAAQ8c,YAAa,GADY,cAEjC9c,EAAQgd,gBAAkBI,GAFO,cAGjCpd,EAAQ+c,kBAAoBM,GAHK,cAIjCrd,EAAQid,gBAAkBK,GAJO,cAKjCtd,EAAQkd,gBAAkBK,GALO,cAMjCpe,OAA0BgN,IAAdhN,GANqB,IAQpC,OACE,uCAAKA,UAAWqe,GAAuB9P,GACpCD,K,oBC3BPE,EAAOC,QAAU,IAA0B,uC,4JCUrC6P,E,4MACJpf,MAAQ,CACNqf,WAAY,GACZ3b,UAAW,GACX4b,WAAW,EACXhY,mBAAmB,G,EAGrBiY,YAAc,WACZ,EAAK1e,SAAS,CAAEyG,mBAAmB,K,EAGrCkY,eAAiB,WACf,IAAM3b,EAAQ,EAAKd,MAAMa,cAAc,GACvCV,IAAM,CACJ0U,IAAKxU,EAAOC,SAAW,mCAAqCQ,EAAMG,GAClEV,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CmX,OAAQ,MACRrD,aAAc,SACb9Q,MAAK,SAACC,GACP,IAAMmU,EAAM6H,OAAOlL,IAAIC,gBAAgB,IAAIkL,KAAK,CAACjc,EAASE,QACpDgc,EAAOC,SAASC,cAAc,KACpCF,EAAKtC,KAAOzF,EACZ+H,EAAKG,aACH,WADF,cAESnZ,IAAO9C,EAAMkc,YAAYnZ,OAAO,oBAFzC,SAIAgZ,SAASI,KAAKC,YAAYN,GAC1BA,EAAKO,Y,EAITC,uBAAyB,WACvB,IAAMtc,EAAQ,EAAKd,MAAMa,cAAc,GACvCV,IAAM,CACJ0U,IACExU,EAAOC,SAAW,2CAA6CQ,EAAMG,GACvEV,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CmX,OAAQ,MACRrD,aAAc,SACb9Q,MAAK,SAACC,GACP,IAAMmU,EAAM6H,OAAOlL,IAAIC,gBAAgB,IAAIkL,KAAK,CAACjc,EAASE,QACpDgc,EAAOC,SAASC,cAAc,KACpCF,EAAKtC,KAAOzF,EACZ+H,EAAKG,aACH,WADF,cAESnZ,IAAO9C,EAAMkc,YAAYnZ,OAAO,oBAFzC,SAIAgZ,SAASI,KAAKC,YAAYN,GAC1BA,EAAKO,Y,uDAKgBtf,KAAKmC,MAAMW,UAAlC,IACMG,EAAQjD,KAAKmC,MAAMa,cAAc,GACjCxD,EAASQ,KAAKmC,MAAMkB,eAE1B,GAAIJ,GAASzD,EAAQ,CACnB,IAAIuL,EAAe,QACfyU,EAAa,EAKjB,OAJAhgB,EAAOigB,SAAQ,SAACrK,GACI,OAAdA,EAAG4D,QAAiBwG,OAEtBA,IAAevc,EAAMyc,SAAQ3U,EAAe,UAE9C,kBAAC,IAAD,CAAM4U,GAAI3f,KAAKmC,MAAMiC,WACnB,yBAAKlE,UAAU,oBACb,yBAAKA,UAAU,YACb,yBAAK0B,MAAO,CAAEuS,UAAW,SACvB,+BACE,+BACE,4BACE,oCACA,6CACA,sCAEA,oCACA,0CAEF,4BACE,4BACGlR,EAAM2c,KADT,MACkB3c,EAAM4X,UAExB,wBAAIjZ,MAAO,CAAErD,MAAOwM,IACjByU,EADH,IACgBvc,EAAMyc,QAEtB,4BAAKzc,EAAM+V,QAEX,4BAAK/V,EAAMwG,MACX,4BACG1D,IAAO9C,EAAMkc,YAAYnZ,OAAO,wBAM3C,yBAAK9F,UAAU,iBACb,+BACE,+BACE,wBAAI0B,MAAO,CAAEC,UAAW,SACtB,kCACA,oCACA,wCACA,yCAGDrC,EAAO4J,KAAI,SAACC,EAAMC,GACjB,IAAI/K,EAAQ,GAKZ,OAJI8K,EAAK2P,SACP3P,EAAK/F,MAAQ+F,EAAK2P,QAEA,OAAhB3P,EAAK2P,SAAiBza,EAAQ,UAEhC,wBAAIgL,IAAKD,EAAO1H,MAAO,CAAE+G,gBAAiBpK,IACxC,wBACEqD,MAAO,CACL3D,WAAY,UACZQ,SAAU,UAGX4K,EAAKmN,WAER,wBACE5U,MAAO,CACL3D,WAAY,UACZQ,SAAU,UAGX4K,EAAKI,MAER,wBACE7H,MAAO,CACL3D,WAAY,OACZQ,SAAU,UAHd,UAMM4K,EAAKwR,SANX,oBAM+BxR,EAAK6K,QAEpC,wBACEtS,MAAO,CACL3D,WAAY,UACZQ,SAAU,UAGX4K,EAAK/F,eAUtB,yBACEpD,UAAU,YACV4N,KAAK,QACLhE,aAAW,wBACXlI,MAAO,CAAElD,UAAW,SAgBpB,4BACEwH,QAASlG,KAAKuf,uBACdrf,UAAU,4BAFZ,mBAUH,OAAO,S,GA/LE2R,IAAM1R,WAmMXqe,Q,6WCrKTqB,EAAmB,kBACvB,yBACE3f,UAAU,yBACV0B,MAAO,CAAEqD,MAAO,OAAQjG,OAAQ,WAI9BiY,EAAQ,WAERzW,E,4MACJsf,MAAQ,E,EACR1gB,MAAQ,CACNyM,QAAS,GACTkU,UAAW,GACXC,aAAc,GACdtI,MAAO,GACPuI,QAAQ,EACRC,YAAa,KACbC,KAAM,EACNC,UAAW,GACXC,iBAAiB,EACjBC,gBAAgB,EAChBC,kBAAkB,EAClBC,eAAe,EACfC,eAAe,EACfC,eAAe,EACfC,cAAc,EACdC,iBAAiB,EACjBC,cAAc,EACdC,OAAQ,KACRC,SAAU,GACVC,eAAgB,GAChBjT,MAAO,GACPkN,YAAa,KACbgG,aAAc,GACdC,UAAW,GACXC,WAAW,EACX1gB,QAAS,GACT2gB,cAAe,CACb,CACEvc,UAAW,KACXX,KAAM,YACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,YACXX,KAAM,YACNY,MAAM,GAER,CACED,UAAW,OACXX,KAAM,OACNY,MAAM,EACNuc,OAAQ,CACN5X,KAAM6X,OAAKC,OACX/b,QAAS,CACP,CAAEc,MAAO,QAASqQ,MAAO,SACzB,CAAErQ,MAAO,SAAUqQ,MAAO,UAC1B,CAAErQ,MAAO,QAASqQ,MAAO,YAI/B,CACE9R,UAAW,aACXX,KAAM,OACNY,MAAM,GAER,CACED,UAAW,aACXX,KAAM,WACNY,MAAM,EACNuc,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,gBAGtB7b,UAAW,SAAC8b,EAAavb,EAAKwb,GAC5B,OAAO,wCAAUxb,EAAIyU,SAAd,cAA4BzU,EAAI8N,MAAhC,aAGX,CACErP,UAAW,QACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,EACR0f,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,iBAIxB,CACE7c,UAAW,WACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,EACR0f,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,iBAIxB,CACE7c,UAAW,UACXX,KAAM,gBACNY,MAAM,GAER,CACED,UAAW,gBACXX,KAAM,sBACNY,MAAM,GAER,CACED,UAAW,uBACXX,KAAM,qBACNY,MAAM,IAGV+c,gBAAiB,GACjBC,gBAAiB,GACjBC,oBAAqB,GACrBC,oBAAqB,CACnB,CACEnd,UAAW,KACXX,KAAM,YACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,YACXX,KAAM,YACNY,MAAM,GAER,CACED,UAAW,OACXX,KAAM,OACNY,MAAM,EACNuc,OAAQ,CACN5X,KAAM6X,OAAKC,OACX/b,QAAS,CACP,CAAEc,MAAO,QAASqQ,MAAO,SACzB,CAAErQ,MAAO,SAAUqQ,MAAO,UAC1B,CAAErQ,MAAO,QAASqQ,MAAO,YAI/B,CACE9R,UAAW,aACXX,KAAM,WACNY,MAAM,EACNuc,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,gBAGtB7b,UAAW,SAAC8b,EAAavb,EAAKwb,GAC5B,OAAO,wCAAUxb,EAAIyU,SAAd,cAA4BzU,EAAI8N,MAAhC,aAGX,CACErP,UAAW,QACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,EACR0f,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,iBAIxB,CACE7c,UAAW,WACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,EACR0f,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,iBAIxB,CACE7c,UAAW,UACXX,KAAM,gBACNY,MAAM,IAkBV4L,YAAa,GACbuR,YAAa,CACX,CACEpd,UAAW,KACXX,KAAM,YACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,YACXX,KAAM,YACNY,MAAM,EACNyU,UAAU,GAEZ,CACE1U,UAAW,OACXX,KAAM,OACNY,MAAM,EACNyU,UAAU,GAEZ,CACE1U,UAAW,aACXX,KAAM,WACNY,MAAM,EACNyU,UAAU,EACV1T,UAAW,SAAC8b,EAAavb,EAAKwb,GAC5B,OAAO,wCAAUxb,EAAIyU,SAAd,cAA4BzU,EAAI8N,MAAhC,aAGX,CACErP,UAAW,QACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,WACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,UACXX,KAAM,gBACNY,MAAM,EACNyU,UAAU,EACVxU,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,WAGpB,CACEJ,UAAW,WACXX,KAAM,WACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,WACXX,KAAM,YACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,GACXX,KAAM,WACNqV,UAAU,EACV2I,MAAO,SACPnd,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,QAASpD,UAAW,WAEtCgE,UAAW,SAAC8b,EAAavb,EAAKwb,GAC5B,GAAqB,IAAjBxb,EAAI+b,SAAgB,OAAO,gDAC/B,GAAI/b,EAAIsJ,SAAW,GAAsB,IAAjBtJ,EAAI+b,SAAgB,CAC1C,IAAIzS,EAAW3J,IAAO2J,SAAStJ,EAAIsJ,UAI/B0S,EAAW,KAHIhc,EAAIsJ,SAAWtJ,EAAIic,cAAiB,KAAKnF,QAC1D,GAIF,OACE,kBAAC,IAAD,CAA2B5W,MAAO8b,EAAU1S,SAAUA,IAG1D,OAAqB,IAAjBtJ,EAAIsJ,UAAmC,IAAjBtJ,EAAI+b,SACrB,gDAEY,IAAjB/b,EAAI+b,SACC,0BAAMvgB,MAAO,CAAEC,UAAW,WAA1B,iBAEY,IAAjBuE,EAAI+b,SACC,4DADT,IAKJ,CACEtd,UAAW,YACXX,KAAM,eACNqV,UAAU,EACV2I,MAAO,SACPb,OAAQ,CACN5X,KAAM6X,OAAKC,OACX/b,QAAS,CACP,CACEc,MAAO,GACPqQ,MAAO,IAET,CACErQ,MAAO,KACPqQ,MAAO,MAET,CACErQ,MAAO,aACPqQ,MAAO,cAET,CACErQ,MAAO,gBACPqQ,MAAO,iBAET,CACErQ,MAAO,oCACPqQ,MAAO,uCAIb5R,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,QAASpD,UAAW,WAEtCgE,UAAW,SAAC8b,EAAavb,GACvB,MAAoB,KAAhBub,EACK,kBAAC,IAAD,CAAQpjB,MAAM,WAAd,UACKojB,IAGlB,CACE9c,UAAW,UACXX,KAAM,GACNvC,QAAQ,GAEV,CACEkD,UAAW,UACXX,KAAM,GACNge,MAAO,SACP3I,UAAU,EACV1T,UAAW,SAAC8b,EAAavb,GACvB,IAAII,GAAW,EAGf,OAFIJ,EAAI+b,SAAW,GAAK/b,EAAIkc,QAAU,KAAG9b,GAAW,GAChD,EAAKpH,MAAMwhB,kBAAiBpa,GAAW,GAEzC,kBAAC,IAAD,CACEjI,MAAM,UACNiI,SAAUA,EACVN,QAAS,WACP,EAAKqc,eAAenc,EAAIhD,MAJ5B,oBAaRia,WAAY,I,EAGdmF,SAAW,SAACrU,GACV,EAAK2R,MAAQxC,aAAY,aACS,IAA5B,EAAKle,MAAMyhB,cACb1F,YAAW,WACToC,cAAc,EAAKuC,SAClB,MAEwB,IAAzBtd,EAAOigB,gBACTngB,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,kBAAoB0L,IAC1CvL,MAAK,SAACoL,GACHA,EAAIjL,KAAKwD,OAAS,GACpB,EAAKtG,SAAS,CACZ6gB,OAAQ9S,EAAIjL,KAAK,GAAG2f,QACpB3B,SAAU/S,EAAIjL,KAAK,KAGrB,EAAK9C,SAAS,CACZyQ,YAAa1C,EAAIjL,KAAK,GAAGtC,WAEtB,EAAKR,SAAS,CAAEyQ,YAAa,QAEtB,EAAKtR,MAAMsR,YAAYiS,OAAM,SAACvN,GAC5C,MAAqB,KAAjBA,EAAGgL,cAI+C,IAAvC,EAAKhhB,MAAM2hB,SAAS6B,eACnC,EAAK3iB,SAAS,CAAEqgB,gBAAgB,IAC3B,EAAKrgB,SAAS,CAAEqgB,gBAAgB,IAGC,IAAtC,EAAKlhB,MAAM2hB,SAAS8B,eACpB,EAAKzjB,MAAMshB,cAEX,EAAKzgB,SAAS,CAAEwgB,eAAe,IAEO,IAAtC,EAAKrhB,MAAM2hB,SAAS8B,eACnB,EAAKzjB,MAAMuhB,cAEZ,EAAK1gB,SAAS,CAAEwgB,eAAe,IAGW,IAAxC,EAAKrhB,MAAM2hB,SAAS+B,gBACtB,EAAK7iB,SAAS,CAAEsgB,kBAAkB,IAC7B,EAAKtgB,SAAS,CAAEsgB,kBAAkB,KACpChD,cAAc,EAAKuC,SACzB,M,EAwELiD,YAAc,WACZ,IAAMrjB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GACrBd,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,wBAA0B0L,EACjDpL,KAAM,CAEJ8I,QAAS,EAAKzM,MAAM+gB,KACpB1f,QAAS,EAAKrB,MAAM0iB,gBACpB3T,KAAMA,KAGPvL,MAAK,SAACoL,GACL,EAAK/N,SACH,CACE4L,QAASmC,EAAIjL,KACbod,KAAM,EACNE,iBAAiB,EACjBQ,cAAc,IAEhB,WACE,EAAK2B,SAASrU,SAInBE,OAAM,SAACC,GACN6G,MAAM7G,EAAIzL,SAASE,MACnB,EAAK9C,SAAS,CAAE+f,aAAc1R,EAAIzL,SAASE,W,EASjDwf,eAAiB,SAACzL,GAChB,IAAMpX,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GAErBd,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,uBACvBM,KAAM,CAEJ+T,OAAQA,EACRG,MAAOA,EACP9I,KAAMA,GAER+I,QAAS,IAERtU,MAAK,SAACoL,GACL,EAAK/N,SAAS,CAAE4L,QAASmC,EAAIjL,KAAMod,KAAM,OAE1C9R,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,EAAMT,UAClB,EAAK5C,SAAS,CAAE+f,aAAc1c,EAAMT,SAASE,W,EAInDigB,YAAc,WACZ,IAAMtjB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GACrB,EAAKnD,SAAS,CACZsgB,kBAAkB,EAClBK,iBAAiB,EACjB/U,QAAS,qBAEXvJ,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,oBACvBM,KAAM,CAEJ8I,QAAS,EAAKzM,MAAM+gB,KACpB1f,QAAS,EAAKrB,MAAM0iB,gBACpB3T,KAAMA,EACN8I,MAAOA,GAETC,QAAS,IAERtU,MAAK,SAACoL,GACL,EAAK/N,SAAS,CAAE4L,QAASmC,EAAIjL,KAAMod,KAAM,OAE1C9R,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,EAAMT,UAClB,EAAK5C,SAAS,CAAE+f,aAAc1c,EAAMT,SAASE,W,EAInDqd,UAAY,SAACjN,EAAUuE,GACrB,IAAMhY,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GAErBd,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,mBAAqB0Q,EAC5CpQ,KAAM,CAEJqd,UAAW1I,EACXvJ,KAAMA,KAGPvL,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,EAAMT,UAClB,EAAK5C,SAAS,CAAE+f,aAAc1c,EAAMT,SAASE,W,EAInDkgB,SAAW,WACT,IAAMvjB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GACrB,EAAKnD,SAAS,CACZ4L,QAAS,YACTyU,gBAAgB,EAChBI,eAAe,EACfC,cAAc,IAEhBre,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,kBAAoB,EAAKrD,MAAM0hB,OACtD5J,QAAS,EACTnU,KAAM,CAAEoL,KAAMA,EAAM8I,MAAOA,KAE1BrU,MAAK,SAACoL,GACL,EAAK/N,SAAS,CAAE4L,QAASmC,EAAIjL,KAAMod,KAAM,EAAGE,iBAAiB,IAC7D,EAAKpgB,SAAS,CAAE8hB,oBAAqB,GAAID,gBAAiB,KAC1Dxf,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,uBAAyB0L,IAC/CvL,MAAK,SAACoL,GACP,EAAK/N,SAAS,CACZod,WAAYrP,EAAIjL,KAChB8d,cAAc,EACdD,iBAAiB,EACjBL,kBAAkB,EAClBG,eAAe,EACfC,cAAc,UAInBtS,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,EAAMT,UAClB,EAAK5C,SAAS,CAAE+f,aAAc1c,EAAMT,SAASE,W,EAInDmgB,UAAY,WACV,GAAIrE,OAAOsE,QAAQ,mCAAoC,CACrD,IAAMzjB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GACrB,EAAKnD,SAAS,CACZ4L,QAAS,gBACTyU,gBAAgB,EAChBI,eAAe,EACfD,eAAe,EACfE,cAAc,IAEhBre,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,mBAAqB,EAAKrD,MAAM0hB,OACvD5J,QAAS,EACTnU,KAAM,CAAEoL,KAAMA,EAAM8I,MAAOA,KAE1BrU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,GACZ,EAAK/N,SAAS,CAAE8hB,oBAAqB,GAAID,gBAAiB,KAC1Dxf,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,uBAAyB0L,IAC/CvL,MAAK,SAACoL,GACP,EAAK/N,SAAS,CACZod,WAAYrP,EAAIjL,KAChB8d,cAAc,OAGlB,EAAK5gB,SAAS,CAAE4L,QAASmC,EAAIjL,KAAMod,KAAM,EAAGE,iBAAiB,OAE9DhS,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,EAAMT,UAClB,EAAK5C,SAAS,CAAE+f,aAAc1c,EAAMT,SAASE,Y,EAKrDqgB,YAAc,WACR,EAAKhkB,MAAM0iB,gBAAgBvb,OAC7B,EAAKtG,SAAS,CAAEkgB,KAAM,EAAGH,aAAc,GAAIK,iBAAiB,IACvDlL,MAAM,0C,EAGfkO,cAAgB,WACV,EAAKjkB,MAAM+hB,UACb7e,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,qBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM6hB,aACpBhK,MAAO,EAAK7X,MAAM6hB,aAAa,GAAGqC,YAEpCpM,QAAS,IAERtU,MAAK,SAACoL,GACmB,IAApBA,EAAIjL,KAAKwD,QACX,EAAKtG,SAAS,CACZihB,UAAU,GAAD,mBACJ,EAAK9hB,MAAM8hB,WADP,4BAEa,EAAK9hB,MAAM6hB,aAAa,GAAGxK,aAIrD,EAAKxW,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,SACzD2B,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,MAGZ,EAAKlE,MAAM0iB,gBAAgBvb,OAAS,GACtCjE,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,qBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM0iB,gBACpB7K,MAAOA,GAETC,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAMtBigB,eAAiB,WACX,EAAKnkB,MAAM+hB,UACb7e,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,sBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM6hB,aACpBhK,MAAO,EAAK7X,MAAM6hB,aAAa,GAAGqC,YAEpCpM,QAAS,IAERtU,MAAK,SAACoL,GACmB,IAApBA,EAAIjL,KAAKwD,QACX,EAAKtG,SAAS,CACZihB,UAAU,GAAD,mBACJ,EAAK9hB,MAAM8hB,WADP,4BAEa,EAAK9hB,MAAM6hB,aAAa,GAAGxK,aAIrD,EAAKxW,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,SACzD2B,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,MAGZ,EAAKlE,MAAM0iB,gBAAgBvb,OAAS,GACtCjE,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,sBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM0iB,gBACpB7K,MAAOA,GAETC,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAMtBkgB,YAAc,WACR,EAAKpkB,MAAM+hB,UACb7e,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,wBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM6hB,aACpBhK,MAAOA,GAETC,QAAS,IAERtU,MAAK,SAACoL,GACmB,IAApBA,EAAIjL,KAAKwD,QACX,EAAKtG,SAAS,CACZihB,UAAU,GAAD,mBACJ,EAAK9hB,MAAM8hB,WADP,4BAEa,EAAK9hB,MAAM6hB,aAAa,GAAGxK,aAIrD,EAAKxW,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,SACzD2B,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,MAGZ,EAAKlE,MAAM0iB,gBAAgBvb,OAAS,GACtCjE,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,wBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM0iB,gBACpB7K,MAAOA,GAETC,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIsS,GACY,IAApBjJ,EAAIjL,KAAKwD,QACX,EAAKtG,SAAS,CACZihB,UAAU,GAAD,mBACJ,EAAK9hB,MAAM8hB,WADP,4BAEa,EAAK9hB,MAAM6hB,aAAa,GAAGxK,aAIrD,EAAKxW,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,SACzD2B,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAMtBmgB,eAAiB,WACX,EAAKrkB,MAAM+hB,UACb7e,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,sBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM6hB,aACpBhK,MAAO,EAAK7X,MAAM6hB,aAAa,GAAGqC,YAEpCpM,QAAS,IAERtU,MAAK,SAACoL,GACmB,IAApBA,EAAIjL,KAAKwD,QACX,EAAKtG,SAAS,CACZihB,UAAU,GAAD,mBACJ,EAAK9hB,MAAM8hB,WADP,4BAEa,EAAK9hB,MAAM6hB,aAAa,GAAGxK,aAIrD,EAAKxW,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,SACzD2B,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,MAGZ,EAAKlE,MAAM0iB,gBAAgBvb,OAAS,GACtCjE,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,sBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM0iB,gBACpB7K,MAAOA,GAETC,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAMtBogB,SAAW,WACL,EAAKtkB,MAAM0iB,gBAAgBvb,OAAS,EACtCjE,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,0BACvBM,KAAM,CACJkU,MAAOA,GAETC,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,GACZ,EAAK/N,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,YAE1DsL,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,MAGhBhB,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,0BACvBM,KAAM,CACJkU,MAAOzU,EAAOmhB,YAEhBzM,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,GACZ,EAAK/N,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,YAE1DsL,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAKpBsgB,WAAa,WACP,EAAKxkB,MAAM+hB,UACb7e,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,qBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM6hB,aACpBhK,MAAO,EAAK7X,MAAM6hB,aAAa,GAAGqC,YAEpCpM,QAAS,IAERtU,MAAK,SAACoL,GACmB,IAApBA,EAAIjL,KAAKwD,QACX,EAAKtG,SAAS,CACZihB,UAAU,GAAD,mBACJ,EAAK9hB,MAAM8hB,WADP,4BAEa,EAAK9hB,MAAM6hB,aAAa,GAAGxK,aAIrD,EAAKxW,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,SACzD2B,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,MAGZ,EAAKlE,MAAM0iB,gBAAgBvb,OAAS,GACtCjE,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,qBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM0iB,gBACpB7K,MAAOA,GAETC,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAMtBugB,YAAc,WACR,EAAKzkB,MAAM+hB,UACb7e,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,sBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM6hB,aACpBhK,MAAO,EAAK7X,MAAM6hB,aAAa,GAAGqC,YAEpCpM,QAAS,IAERtU,MAAK,SAACoL,GACmB,IAApBA,EAAIjL,KAAKwD,QACX,EAAKtG,SAAS,CACZihB,UAAU,GAAD,mBACJ,EAAK9hB,MAAM8hB,WADP,4BAEa,EAAK9hB,MAAM6hB,aAAa,GAAGxK,aAIrD,EAAKxW,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,SACzD2B,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,MAGZ,EAAKlE,MAAM0iB,gBAAgBvb,OAAS,GACtCjE,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,sBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM0iB,gBACpB7K,MAAOA,GAETC,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAMtBwgB,cAAgB,WACV,EAAK1kB,MAAM+hB,UACb7e,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,gBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM6hB,aACpBhK,MAAO,EAAK7X,MAAM6hB,aAAa,GAAGqC,YAEpCpM,QAAS,IAERtU,MAAK,SAACoL,GACmB,IAApBA,EAAIjL,KAAKwD,QACX,EAAKtG,SAAS,CACZihB,UAAU,GAAD,mBACJ,EAAK9hB,MAAM8hB,WADP,4BAEa,EAAK9hB,MAAM6hB,aAAa,GAAG8C,mBAIrD,EAAK9jB,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,SACzD2B,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,MAGZ,EAAKlE,MAAM0iB,gBAAgBvb,OAAS,GACtCjE,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,gBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM0iB,gBACpB7K,MAAOA,GAETC,QAAS,IAERtU,MAAK,SAACoL,GACL,EAAK/N,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,SACzD2B,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAMtB0gB,cAAgB,WACV,EAAK5kB,MAAM+hB,UACb7e,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,oBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM6hB,aACpBhK,MAAO,EAAK7X,MAAM6hB,aAAa,GAAGqC,YAEpCpM,QAAS,IAERtU,MAAK,SAACoL,GACmB,IAApBA,EAAIjL,KAAKwD,QACX,EAAKtG,SAAS,CACZihB,UAAU,GAAD,mBACJ,EAAK9hB,MAAM8hB,WADP,4BAEa,EAAK9hB,MAAM6hB,aAAa,GAAGgD,0BAIrD,EAAKhkB,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,SACzD2B,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,MAGZ,EAAKlE,MAAM0iB,gBAAgBvb,OAAS,GACtCjE,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,oBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM0iB,gBACpB7K,MAAOA,GAETC,QAAS,IAERtU,MAAK,SAACoL,GACL,EAAK/N,SAAS,CAAEihB,UAAU,GAAD,mBAAM,EAAK9hB,MAAM8hB,WAAjB,CAA4BlT,EAAIjL,SACzD2B,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAMtB4gB,aAAe,SAAChR,GACd,EAAKjT,SACH,CACE+gB,eAAgB9N,EAAMK,OAAOjN,QAE/B,WACoC,KAA9B,EAAKlH,MAAM4hB,gBACb,EAAK/gB,SAAS,CAAEugB,eAAe,Q,EAMvC2D,UAAY,WACV,IAAMzkB,EAAQC,aAAaC,UAErBwkB,EADUtkB,IAAWJ,GACH0D,GAExBd,IACGC,IAAIC,EAAOC,SAAW,cAAgB2hB,EAAS,CAC9C1hB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL6B,QAAQC,IAAI9B,EAASE,MACjBF,EAASE,KAAKwD,QAChB,EAAKtG,SACH,CACE8N,MAAOlL,EAASE,KAChBkY,YAAapY,EAASE,KAAK,GAAGiY,SAC9BqJ,SAAUxhB,EAASE,KAAK,GAAGnC,OAE7B,WACE,EAAKX,SAAS,CACZ4hB,gBAAiB,EAAKziB,MAAMqB,QAAQyC,QAAO,SAACohB,GAC1C,OAAIA,EAAMtJ,WAAa,EAAK5b,MAAM2O,MAAM,GAAGiN,SAClCsJ,EAEA,iB,EAUzBC,iBAAmB,SAACrR,EAAO0M,GACrB,EAAKxgB,MAAM2O,MAAM8I,MAAK,SAACtB,GAAD,OAAOA,EAAEyF,WAAa4E,OAC9CzE,YAAW,WACT,EAAKlb,SAAS,CAAEkgB,KAAM,MACrB,GACH,EAAKlgB,SAAS,CACZkgB,KAAM,GACN2B,gBAAiB,GACjBuC,SAAU,EAAKjlB,MAAM2O,MAAM8I,MAAK,SAACtB,GAAD,OAAOA,EAAEyF,WAAa4E,KAAMhf,KAC5Dqa,YAAa2E,EACbiC,gBAAiB,EAAKziB,MAAMqB,QAAQyC,QAAO,SAACohB,GAC1C,OAAIA,EAAMtJ,WAAa4E,EACd0E,EAEA,Y,EAOjBE,mBAAqB,WACnB,IAAM9kB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GACjB,EAAKhE,MAAM2iB,oBAAoBxb,OAAS,GAC1CjE,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,mBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM2iB,oBACpBzb,MAAO,EAAKlH,MAAM4hB,eAClB7S,KAAMA,KAGPvL,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,GACZ,EAAK/N,SAAS,CAAE8hB,oBAAqB,QAEtC1T,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,EAAMT,UAClB,EAAK5C,SAAS,CAAE+f,aAAc1c,EAAMT,SAASE,W,EASrD0hB,cAAgB,WACd,EAAKxkB,SAAS,CAAE6hB,gBAAiB,M,kEAj6Bd,IAAD,OACZpiB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GAErBd,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,kBAAoB0L,IAC1CvL,MAAK,SAACoL,GACHA,EAAIjL,KAAKwD,SACX7B,QAAQC,IAAIqJ,EAAIjL,KAAK,GAAG2hB,UAAW1W,EAAIjL,KAAK,GAAGkd,OAAQjS,EAAIjL,KAAK,IAC5DiL,EAAIjL,KAAK,GAAG2hB,YAAc1W,EAAIjL,KAAK,GAAGkd,QACxC,EAAKhgB,SAAS,CAAEkgB,KAAM,IAEpBnS,EAAIjL,KAAK,GAAG2hB,WAAa1W,EAAIjL,KAAK,GAAGkd,SACvC,EAAKhgB,SAAS,CAAEkgB,KAAM,IACtB,EAAKqC,SAASrU,KAEXH,EAAIjL,KAAK,GAAG2hB,WAAa1W,EAAIjL,KAAK,GAAGkd,QACxC,EAAKhgB,SAAS,CAAEkgB,KAAM,KAEpBnS,EAAIjL,OACFiL,EAAIjL,KAAK,GAAGwD,OAAS,IACvB7B,QAAQC,IAAIqJ,EAAIjL,KAAK,GAAG2f,SACxB,EAAKziB,SAAS,CACZ6gB,OAAQ9S,EAAIjL,KAAK,GAAG2f,WAGxB,EAAKziB,SAAS,CACZigB,YAAalS,EAAIjL,KAAKmd,YACtBxP,YAAa1C,EAAIjL,KAAK,GAAGtC,eAMjC6B,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,uBAAyB0L,IAC/CvL,MAAK,SAACoL,GACP,EAAK/N,SAAS,CACZod,WAAYrP,EAAIjL,UAIpBT,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,eAAiB0L,IACvCvL,MAAK,SAACoL,GACP,EAAK/N,SAAS,CAAEQ,QAASuN,EAAIjL,UAE/B/C,KAAKmkB,c,6CA21BL5G,cAAcvd,KAAK8f,S,+BAOX,IAAD,OACD6E,EAAY,CAChBC,KAAM,WACNC,eAAe,EACfC,SAAU,SAAC1e,EAAK2e,EAAUnD,EAAUzb,GAC9B4e,GACF,EAAK9kB,UAAS,SAAC+kB,GAAD,MAAgB,CAC5BlD,gBAAgB,GAAD,mBAAMkD,EAAUlD,iBAAhB,CAAiC1b,QAG/C2e,GACH,EAAK9kB,SAAS,CACZ6hB,gBAAiB,EAAK1iB,MAAM0iB,gBAAgB5e,QAAO,SAACkS,GAClD,OAAIA,EAAGhS,KAAOgD,EAAIhD,GACTgS,EACK,WAKtB6P,YAAa,SAACF,EAAUG,EAAM/e,GACxB4e,GACF,EAAK9kB,SAAS,CAAE6hB,gBAAiBoD,IAE9BH,GACH,EAAK9kB,SAAS,CAAE6hB,gBAAiB,OAKjCqD,EAAuB,CAC3BP,KAAM,WACNC,eAAe,EACfO,aAAa,EACbN,SAAU,SAAC1e,EAAK2e,EAAUnD,GACpBmD,GACF,EAAK9kB,UAAS,SAAC+kB,GAAD,MAAgB,CAC5BjD,oBAAoB,GAAD,mBAAMiD,EAAUjD,qBAAhB,CAAqC3b,QAGvD2e,GACH,EAAK9kB,SAAS,CACZ8hB,oBAAqB,EAAK3iB,MAAM2iB,oBAAoB7e,QAAO,SAACkS,GAC1D,OAAIA,EAAGhS,KAAOgD,EAAIhD,GACTgS,EACK,WAKtB6P,YAAa,SAACF,EAAUG,EAAM/e,GACxB4e,GACF,EAAK9kB,SAAS,CAAE8hB,oBAAqBmD,IAElCH,GACH,EAAK9kB,SAAS,CAAE8hB,oBAAqB,OAoCrCsD,EAAkB,CACtBhf,gBAAiB,CACf,CACEnC,KAAM,IACNoC,MAAO,GAET,CACEpC,KAAM,KACNoC,MAAO,IAET,CACEpC,KAAM,MACNoC,MAAOtG,KAAKZ,MAAM0iB,gBAAgBvb,UAUhCxF,EAAYf,KAAKmC,MAAjBpB,QAER,OACE,6BACE,kBAAC,IAAD,CAAeE,QAAQ,UACrB,kBAAC,IAAD,CAAUE,GAAI,EAAGE,GAAI,IAClBrB,KAAKZ,MAAM2O,MACV,kBAAC,IAAD,CACEzH,MAAOtG,KAAKZ,MAAM6b,YAClB3H,SAAUtT,KAAKukB,iBACfe,eAAe,UACfC,UAAU,UACV3jB,MAAO,CACLwS,OAAQ,sBACRlL,aAAc,OAEhBsc,UAAQ,GAEPxlB,KAAKZ,MAAM2O,MAAM3E,KAAI,SAAC2P,EAAGzP,GAAJ,OACpB,kBAAC,IAAD,CAAKC,IAAKD,EAAOhD,MAAOyS,EAAEiC,SAAUrE,MAAOoC,EAAEnY,WAIjD,wBAAIgB,MAAO,CAAErD,MAAO,SAApB,cAIe,IAApByB,KAAKZ,MAAM+gB,KACV,kBAAC,IAAD,CACEve,MAAO,CAAEzD,aAAc,QACvB+H,QAAS,WACP,EAAKjG,SAAS,CAAEkgB,KAAM,EAAK/gB,MAAM+gB,KAAO,IACpC,EAAK/gB,MAAM+gB,KAAO,GAAG,EAAKlgB,SAAS,CAAE6hB,gBAAiB,MAE5Dtb,UAAU,GAEV,kBAAC,IAAD,oBAEA,KACiB,IAApBxG,KAAKZ,MAAM+gB,MAAkC,KAApBngB,KAAKZ,MAAM+gB,KACnC,kBAAC,IAAD,CACE5hB,MAAM,UACNiI,SAAUxG,KAAKZ,MAAMihB,gBACrBna,QAAS,WACP,EAAKjG,SAAS,CAAEkgB,KAAM,EAAK/gB,MAAM+gB,KAAO,IACpC,EAAK/gB,MAAM+gB,KAAO,GAAG,EAAKlgB,SAAS,CAAE6hB,gBAAiB,KAClC,IAApB,EAAK1iB,MAAM+gB,MAAY,EAAKlgB,SAAS,CAAEkgB,KAAM,MAGnD,kBAAC,IAAD,oBAEA,KAEiB,IAApBngB,KAAKZ,MAAM+gB,KACV,6BACE,kBAAC,IAAD,CAAYnQ,QAAQ,KAAKwE,cAAY,GAArC,kBAGA,kBAAC,IAAD,CACExN,iBAAkB,mBAClBI,UAAU,EACVC,OAAK,EACLC,SAAS,KACTvE,KAAM/C,KAAKZ,MAAMyiB,gBACjBjd,QAAS5E,KAAKZ,MAAMgiB,cACpBuD,UAAWA,IAEb,4BAAQze,QAASlG,KAAKwjB,aAAtB,YACA,4BAAQtd,QAASlG,KAAKyjB,gBAAtB,eACA,4BAAQvd,QAASlG,KAAKujB,gBAAtB,eACA,4BAAQrd,QAASlG,KAAKqjB,eAAtB,cACA,4BAAQnd,QAASlG,KAAK0jB,UAAtB,WACA,4BAAQxd,QAASlG,KAAK6jB,aAAtB,eACA,4BAAQ3d,QAASlG,KAAK4jB,YAAtB,cACA,4BAAQ1d,QAASlG,KAAKgkB,eAAtB,iBACA,4BAAQ9d,QAASlG,KAAK8jB,eAAtB,iBACA,4BACE5d,QAAS,WACP5D,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,wBACvBM,KAAM,CACJ0T,QAAS,QAEXS,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,QAnBpB,aAyBA,yBAAK1B,MAAO,CAAE4H,WAAY,SACxB,kBAAC,IAAD,CACEpG,GAAG,iBACHuT,MAAM,eACNrD,SAAU,SAACnN,GACT,IAAIsf,EAActf,EAAEoN,OAAOjN,MACvBwQ,EAAS,CACX4O,eAAgBljB,EAAOmhB,WACvBlN,QAASgP,EACT1B,cAAe0B,GAEM,KAAnBtf,EAAEoN,OAAOjN,OACX,EAAKrG,SAAS,CAAEghB,aAAc,KAChC,EAAKhhB,SAAS,CACZghB,aAAc,CAACnK,QAIrB,2BACElV,MAAO,CAAE+E,MAAO,QAChB8C,KAAK,WACLkc,QAAS3lB,KAAKZ,MAAM+hB,UACpB7N,SAAU,kBACR,EAAKrT,SAAS,CAAEkhB,WAAY,EAAK/hB,MAAM+hB,eAG1CnhB,KAAKZ,MAAM6hB,aAAa1a,OACvB,4BAAKvG,KAAKZ,MAAM6hB,aAAa,GAAGyE,gBAC9B,MAEN,yBAAK9jB,MAAO,CAAE+G,gBAAiB,eAC5B3I,KAAKZ,MAAM8hB,UAAU9X,KAAI,SAACgM,EAAI9L,GAAL,OACxB,wBAAIC,IAAKD,GAAT,UAAoB8L,EAApB,UAGJ,4BAAQlP,QAAS,kBAAM,EAAKjG,SAAS,CAAEihB,UAAW,OAAlD,SAGClhB,KAAKZ,MAAM2gB,UAAY,4BAAK/f,KAAKZ,MAAM2gB,WAAkB,KAE1D,kBAAC,IAAD,CACE/P,QAAQ,YACRzR,MAAM,UACNqD,MAAO,CAAE+E,MAAO,SAChBT,QAASlG,KAAKojB,aAJhB,SASA,KAEiB,IAApBpjB,KAAKZ,MAAM+gB,KACV,6BACE,kBAAC,IAAD,CAAYnQ,QAAQ,KAAKwE,cAAY,GAClCxU,KAAKZ,MAAM4gB,cAEd,kBAAC,IAAD,CAAYhQ,QAAQ,KAAKwE,cAAY,GAArC,oBAGA,kBAAC,IAAD,CACExN,iBAAkB,mBAClBI,UAAU,EACVC,OAAK,EACLC,SAAS,KACTvE,KAAM/C,KAAKZ,MAAM0iB,gBACjBld,QAAS5E,KAAKZ,MAAM4iB,oBACpBta,WAAYC,IAAkB0d,KAEhC,kBAAC,IAAD,CACErV,QAAQ,YACRzR,MAAM,UACNqD,MAAO,CAAE+E,MAAO,SAChBT,QAASlG,KAAK+iB,aAJhB,SASA,KAEiB,IAApB/iB,KAAKZ,MAAM+gB,KACV,6BACE,kBAAC,IAAD,CAAYnQ,QAAQ,KAAKwE,cAAY,GAClCxU,KAAKZ,MAAMyM,SAEd,kBAAC,IAAD,CAAYmE,QAAQ,KAAKwE,cAAY,GAClCxU,KAAKZ,MAAM4gB,cAGd,yBAAKpe,MAAO,CAAE+E,MAAO,UACnB,kBAAC,IAAD,CACEH,SAAUxG,KAAKZ,MAAMmhB,iBACrBhiB,MAAM,UACN2H,QAASlG,KAAKgjB,aAHhB,iBAOA,kBAAC,IAAD,CACEzkB,MAAM,UACNiI,SAAUxG,KAAKZ,MAAMkhB,eACrBpa,QAASlG,KAAKijB,UAHhB,iBAOA,kBAAC,IAAD,CACE1kB,MAAM,YACNiI,SAAUxG,KAAKZ,MAAMqhB,cACrBva,QAASlG,KAAKkjB,WAHhB,UAQF,kBAAC,IAAD,CACElc,iBAAkB,kBAAM,kBAAC6Y,EAAD,OACxBzY,UAAU,EACVC,OAAK,EACLC,SAAS,KACTvE,KAAM/C,KAAKZ,MAAMsR,YACjB9L,QAAS5E,KAAKZ,MAAM6iB,YACpBza,SAhRO,SAACpB,EAAKwb,GACrB,IAAMhgB,EAAQ,GAUd,OATqB,IAAjBwE,EAAI+b,WACNvgB,EAAM+G,gBAAkB,UAEL,IAAjBvC,EAAI+b,WACNvgB,EAAM+G,gBAAkB,aAEL,IAAjBvC,EAAIsJ,WACN9N,EAAM+G,gBAAkB,cAEnB/G,GAsQC+iB,UAAWQ,EACXS,SAAUC,IAAgB,CACxBjB,KAAM,QACNkB,cApOU,SAACC,EAAUC,EAAU5f,EAAKxC,GAC9Cc,QAAQC,IAAIyB,EAAIhD,GAAI4iB,GACpB,EAAK5F,UAAUha,EAAIhD,GAAI4iB,IAmObC,YAAY,MAGhB,kBAAC,IAAD,gBACA,kBAAC,IAAD,CACErkB,MAAO,CAAE2I,SAAU,SACnB+I,SAAUtT,KAAKkkB,aACf5d,MAAOtG,KAAKZ,MAAM4hB,gBAElB,kBAAC,IAAD,CAAU1a,MAAO,MAAjB,mBACA,kBAAC,IAAD,CAAUA,MAAO,8BAAjB,6BAGA,kBAAC,IAAD,CAAUA,MAAO,cAAjB,oBACA,kBAAC,IAAD,CAAUA,MAAO,iBAAjB,wBAEF,kBAAC,IAAD,CACEE,SAAUxG,KAAKZ,MAAMohB,cACrBjiB,MAAM,UACN2H,QAASlG,KAAKwkB,oBAHhB,UAQA,KACiB,IAApBxkB,KAAKZ,MAAM+gB,KACV,6BACE,kBAAC,IAAD,CAAYnQ,QAAQ,KAAKwE,cAAY,GAClCxU,KAAKZ,MAAMyM,SAEd,kBAAC,IAAD,CACEvH,kBAAkB,EAClBC,SAAUvE,KAAKZ,MAAM0hB,OACrB7d,MAAOjD,KAAKZ,MAAMie,cAGpB,KACiB,KAApBrd,KAAKZ,MAAM+gB,KACV,kBAAC,IAAD,CAAYnQ,QAAQ,KAAKwE,cAAY,GAArC,kDAGE,KACiB,IAApBxU,KAAKZ,MAAM+gB,MAAkC,KAApBngB,KAAKZ,MAAM+gB,KACnC,yBAAKjgB,UAAWa,EAAQwO,WACrBvP,KAAKZ,MAAMsR,YAAYnK,OAAS,EAC/B,kBAAC,IAAD,CAAsBmK,YAAa1Q,KAAKZ,MAAMsR,cAC5C,MAEJ,U,GAzsDYvQ,aA+sDT+lB,gBAvuDA,CACbnnB,KAAM,CACJqZ,WAAY,mDACZhE,OAAQ,EACRlL,aAAc,EACdJ,UAAW,wCACXvK,MAAO,QACPS,OAAQ,GACRqL,QAAS,UAEXkF,UAAW,CACT7Q,UAAW,KA4tDAwnB,CAAmB1lB,K,mNCvvD5BpC,EAAYC,aAAW,SAACwQ,GAAD,MAAY,CACvCgC,WAAY,CACVxG,QAASwE,EAAMiC,QAAQ,GACvB7L,MAAO,YAII,SAAS2M,EAAczP,GACpC,IAAMpB,EAAU3C,IAD2B,EAEXyT,IAAMC,SAAS,MAFJ,mBAEpCC,EAFoC,KAE1BC,EAF0B,OAGGH,IAAMC,SAAS,MAHlB,mBAGpCG,EAHoC,KAGnBC,EAHmB,OAIHL,IAAMC,SAAS,IAJZ,mBAIpCO,EAJoC,KAItBC,EAJsB,KAWrCe,EAAc,WAClBrB,EAAY,MACZE,EAAmB,OAGrBsB,qBAAU,WACRlR,IACGC,IACCC,EAAOC,SACL,yBACAN,EAAMuO,YAAY,GAAG2I,UACvB,CACE3W,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1C8T,aAAc,SAGjBrF,OAAM,SAACC,GACN5J,QAAQC,IAAI2J,MAEb1L,MAAK,SAACC,GACDA,GAAUyP,EAAgBqB,IAAIC,gBAAgB/Q,EAASE,YAG9D,IAEH,IACMK,EADO2Q,QAAQhC,GACH,sBAAmB7E,EACrC,OACE,yBAAKtL,MAAO,CAAEuS,UAAW,SAAUlP,MAAO,SACxC,kBAAC,IAAD,CAAY+K,QAAQ,KAAKwE,cAAY,GAArC,SACSrS,EAAMuO,YAAY,GAAGwD,OAE9B,yBAEEtS,MAAO,CACL5C,OAAQ,QACRiG,MAAO,SACPmP,OAAQ,kBACRC,iBAAkB,YAClBC,eAAgB,UAChBC,gBAAgB,OAAD,OAASlC,EAAT,MAEjBpI,IAAI,eAEH9H,EAAMuO,YAAYnK,OAAS,EACxBpE,EAAMuO,YAAYtH,KAAI,SAACgM,GACrB,IAAI7W,EACJmG,QAAQC,IAAIyQ,GACQ,IAAhBA,EAAG+M,UAAkC,IAAhB/M,EAAG+M,WAC1B5jB,EAAQ,WAEU,IAAhB6W,EAAG+M,WACL5jB,EAAQ,aAGV,IAAImR,EAAW3J,IAAO2J,SAAS0F,EAAG1F,UAC9BD,EAAKC,EAASC,QACdC,EAAMF,EAASG,UACfC,EAAMJ,EAASK,UAEnB,OACE,kBAAC,IAAD,CACExG,IAAK6L,EAAGhS,GACR6F,SAAU,CACRsM,EAAGH,EAAGI,oBACNC,EAAGL,EAAGM,oBAER7B,QAAS,kBAAM,IAEf,yBACEjS,MAAO,CACLqD,MAAO,MACPjG,OAAQ,MACRiK,SAAU,aAGZ,kBAAC,IAAD,CACE1K,MAAOA,EACPqD,MAAO,CACLnD,SAAU,MACVwK,SAAU,WACVxB,OAAQ,WAEVyO,aAAc,SAAC/P,GAAD,OA3Fb+M,EA2FgC/M,EA3FzBgN,EA2F4BiC,EAAGhS,GA1FzD4O,EAAYkB,EAAME,oBAClBlB,EAAmBiB,GAFD,IAACD,EAAOC,GA4FRgD,aAAc9C,GARhB,eAYA,kBAAC,IAAD,CACEjQ,GAAIA,EACJyJ,KAAMoF,IAAoBmD,EAAGhS,GAC7B2O,SAAUA,EACVnQ,MAAO,CAAEyV,cAAe,QACxBhK,aAAc,CACZC,SAAU,SACVE,WAAY,UAEd8J,gBAAiB,CACfhK,SAAU,MACVE,WAAY,WAGd,6BACE,kBAAC,IAAD,CAAYtN,UAAWa,EAAQ8P,YAA/B,UACMuE,EAAGoB,UADT,cACwBpB,EAAG3L,KAD3B,cACqC2L,EAAGqB,WAG1C,6BACmB,IAAhBrB,EAAG+M,SACF,kBAAC,IAAD,CAAYjiB,UAAWa,EAAQ8P,YAA/B,kBAGE,KACa,IAAhBuE,EAAG+M,UAAkC,IAAhB/M,EAAG1F,SACvB,kBAAC,IAAD,CAAYxP,UAAWa,EAAQ8P,YAA/B,eAGE,KACa,IAAhBuE,EAAG+M,SACF,kBAAC,IAAD,CAAYjiB,UAAWa,EAAQ8P,YAA/B,sBAGE,MAEN,6BACGuE,EAAG+Q,QACF/Q,EAAG+Q,QAAQ/c,KAAI,SAACgM,GAAD,OACb,8BACE,kBAAC,IAAD,CAAYlV,UAAWa,EAAQ8P,YACN,qBAAfuE,EAAGgR,SACW,qBAAfhR,EAAGiR,QACNjR,EAAGgR,QAAH,UACKhR,EAAG3L,KADR,aACiB2L,EAAGgR,SADpB,UAEKhR,EAAG3L,KAFR,aAEiB2L,EAAGiR,QAFpB,KAGA,UAKV,kBAAC,IAAD,CAAYnmB,UAAWa,EAAQ8P,YAA/B,eAKJ,6BACmB,IAAhBuE,EAAG1F,SACF,kBAAC,IAAD,CAAYxP,UAAWa,EAAQ8P,YAA/B,YAIA,kBAAC,IAAD,CAAY3Q,UAAWa,EAAQ8P,YAA/B,wBACiBpB,EADjB,YACuBG,EADvB,YAC8BE,WAS5C,U,8KC3LSzP,E,4MACnBjB,MAAQ,CACNknB,QAAS,GACTC,SAAU,CAAC,iB,EAGbC,YAAc,WACZlkB,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,uBACvBM,KAAM,CACJujB,QAAS,EAAKlnB,MAAMknB,QACpBrP,MAAOzU,EAAOmhB,YAEhBzM,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,GACZ,EAAK/N,SAAS,CAAEsmB,SAAS,GAAD,mBAAM,EAAKnnB,MAAMmnB,UAAjB,CAA2BvY,EAAIjL,KAAK8I,eAE7DwC,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAIlBmjB,cAAgB,SAACtgB,GACf,EAAKlG,SAAS,CAAEqmB,QAASngB,EAAEoN,OAAOjN,S,uDAIlC,OACE,6BACE,mDAEA,2BAAOmD,KAAK,OAAO6J,SAAUtT,KAAKymB,gBAClC,4BAAQvgB,QAASlG,KAAKwmB,aAAtB,QACA,4BACGxmB,KAAKZ,MAAMmnB,SAASnd,KAAI,SAACgM,EAAI9L,GAAL,OACvB,wBAAIC,IAAKD,GAAQ8L,Y,GA3CcjV,e,8KCAtBG,E,4MACnBlB,MAAQ,CACNknB,QAAS,GACTI,OAAQ,cACRH,SAAU,I,EAGZjT,SAAW,SAACnN,GACV,EAAKlG,SAAS,CAAEqmB,QAASngB,EAAEoN,OAAOjN,S,EAoBpCqgB,KAAO,WACLrkB,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,gBACvBM,KAAM,CACJ2jB,OAAQ,EAAKtnB,MAAMsnB,OACnBJ,QAAS,EAAKlnB,MAAMknB,SAEtBpP,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,GACZ,EAAK/N,SAAS,CAAEsmB,SAAS,GAAD,mBAAM,EAAKnnB,MAAMmnB,UAAjB,CAA2BvY,EAAIjL,YAExDsL,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAIlBsjB,cAAgB,SAACC,GACf,EAAK5mB,SAAS,CACZymB,OAAQG,EAAYtT,OAAOjN,S,kEA1C7BhE,IAAM,CACJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,6BAEtBG,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,MAEbK,OAAM,SAACC,GACN5J,QAAQC,IAAI2J,Q,+BAmChB,OACE,6BACE,qDACA,2BAAO7E,KAAK,OAAO6J,SAAUtT,KAAKsT,WAClC,4BAAQpN,QAASlG,KAAK2mB,MAAtB,QACA,4BAAK3mB,KAAKZ,MAAMknB,SAChB,+BACE,2BACE7c,KAAK,QACLnD,MAAM,cACNqf,QAAS,gBAAkB3lB,KAAKZ,MAAMsnB,OACtCpT,SAAUtT,KAAK4mB,gBALnB,eASA,+BACE,2BACEnd,KAAK,QACLnD,MAAM,YACNqf,QAAS,cAAgB3lB,KAAKZ,MAAMsnB,OACpCpT,SAAUtT,KAAK4mB,gBALnB,aASA,4BAAK5mB,KAAKZ,MAAMsnB,QAChB,4BACG1mB,KAAKZ,MAAMmnB,SAASnd,KAAI,SAACgM,EAAI9L,GAC5B,OAAI8L,EAAGvJ,QAAQpL,QAEX,wBAAI8I,IAAKD,GACN8L,EAAG0R,WADN,UACyB1R,EAAGvJ,QAAQ6W,QACjC,aACAtN,EAAGvJ,QAAQpL,QAAQ2I,KAAI,SAAC2d,EAAGnW,GAAJ,OACtB,uBAAGrH,IAAKqH,GACLmW,EAAEC,OADL,IACcD,EAAEE,WAOpB,wBAAI1d,IAAKD,GACN8L,EAAG0R,WADN,MACqB1R,EAAGvJ,kB,GArGD1L,e,yNCMlB+mB,E,4MACnB9nB,MAAQ,CACN+nB,MAAO,GACPpZ,MAAO,I,EAOTqZ,UAAY,WACV,IAAMvnB,EAAUC,IAAWH,aAAaC,WAClCH,EAASI,EAAQJ,OACjB0O,EAAOtO,EAAQuD,GAErBd,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,yBAA2B0L,IAEjDvL,MAAK,SAACoL,GACL,IAAIqZ,EAAYrZ,EAAIjL,KACpBskB,EAAU5H,SAAQ,SAACrK,GACb3V,EAAS2V,EAAG3V,OACd2V,EAAGkS,SAAU,EACJ7nB,GAAU2V,EAAG3V,SACtB2V,EAAGkS,SAAU,MAGjB,EAAKrnB,SAAS,CAAEknB,MAAOE,IACvB,EAAKlD,eAEN9V,OAAM,SAACC,GAAD,OAAS5J,QAAQC,IAAI2J,O,EAGhC6V,UAAY,WACV,IACMhW,EADUrO,IAAWH,aAAaC,WACnBwD,GAErBd,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,cAAgB0L,IAEtCvL,MAAK,SAACoL,GACL,EAAK/N,SAAS,CAAE8N,MAAOC,EAAIjL,UAE5BsL,OAAM,SAACC,GAAD,OAAS5J,QAAQC,IAAI2J,O,EAGhCiZ,aAAe,SAACpZ,EAAMyR,GACpB,IAAIuH,EAAQ,EAAK/nB,MAAM+nB,MACjBK,EAAYL,EAAMM,WAAU,SAACrS,GAAD,OAAQA,EAAGhS,KAAO+K,KAEpDgZ,EAAMK,GAAWzZ,MAAQoZ,EAAMK,GAAWzZ,MAAM4J,QAC9C+P,KAAKC,UAAU/H,GACf,IAEFlb,QAAQC,IAAI6iB,GACZ,EAAKvnB,SAAS,CAAEknB,MAAOA,IAAS,kBAAMziB,QAAQC,IAAI,EAAKvF,MAAM+nB,UAC7D7kB,IAAM,CAEJyU,OAAQ,SACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAG1CoX,IAAKxU,EAAOC,SAAW,qBAAlB,UAA4C0L,EAA5C,YAAoDyR,KAExDhd,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,GACZ,EAAKoZ,YACL,EAAKjD,eAEN9V,OAAM,SAACC,GAAD,OAAS5J,QAAQC,IAAI2J,O,kEA5E9BtO,KAAKonB,c,+BAgFL,OACE,6BACE,kBAAC,IAAD,CAAenmB,QAAQ,UAOrB,kBAAC,IAAD,CAAUG,GAAI,GACZ,kBAAC,IAAD,CACEgmB,UAAWpnB,KAAKonB,UAChBD,MAAOnnB,KAAKZ,MAAM+nB,MAClBpZ,MAAO/N,KAAKZ,MAAM2O,MAClBwZ,aAAcvnB,KAAKunB,gBAGvB,kBAAC,IAAD,CAAUnmB,GAAI,EAAGlB,UAAU,sBACzB,kBAAC,IAAD,CAAUknB,UAAWpnB,KAAKonB,mB,GAzGMjnB,e,+LCFtCynB,E,kDACJ,aAAe,IAAD,8BACZ,gBA2BFzD,UAAY,SAAChW,GACX7L,IACGC,IAAIC,EAAOC,SAAW,cAAgB0L,EAAK/K,GAAI,CAC9CV,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL,GAAIA,EAASE,KAAKwD,OAAQ,CACxB,IAAIxD,EAAO,GACXF,EAASE,KAAK0c,SAAQ,SAACrK,GACrB,IAAIwK,EAAO,GACXA,EAAKtZ,MAAQ8O,EAAG4F,SAChB4E,EAAKjJ,MAAQvB,EAAGxU,KAChBmC,EAAK8D,KAAK+Y,MAEZ,EAAK3f,SAAS,CAAE8N,MAAOhL,SA7CjB,EAmFd8kB,aAAe,SAACroB,GACd,IAAIsoB,GAAQ,EAKZ,OAJAC,OAAOC,OAAOxoB,GAAQigB,SAEpB,SAACrK,GAAD,OAAQA,EAAG7O,OAAS,IAAMuhB,GAAQ,MAE7BA,GAzFK,EA+HdG,eAAiB,SAACC,GAChB,IAAI1oB,EAAS,EAAKJ,MAAMI,OAExBA,EAAOsO,KAAOoa,EAAe3hB,OAAS,EAAI,6BAA+B,GACzE,EAAKtG,SAAS,CAAEkoB,aAAcD,IAAkB,WAC1C,EAAKL,aAAaroB,IACpB,EAAKS,SAAS,CAAEmoB,cAAc,QArItB,EA0IdC,oBAAsB,SAACH,GACrB,IAAI1oB,EAAS,EAAKJ,MAAMI,OACpB0oB,GAC4B,IAA1BA,EAAe3hB,OACjB/G,EAAOogB,KAAO,4BACTpgB,EAAOogB,KAAO,GACrB,EAAK3f,SAAS,CAAEqoB,cAAeJ,IAAkB,WAC3C,EAAKL,aAAaroB,GACpB,EAAKS,SAAS,CAAEmoB,cAAc,IACzB,EAAKnoB,SAAS,CAAEmoB,cAAc,SAGvC5oB,EAAOogB,KAAO,4BACd,EAAK3f,SAAS,CAAEmoB,cAAc,MArJhC,EAAKhpB,MAAQ,CACXC,WAAY,GACZC,UAAW,GACXC,MAAO,GACPsO,SAAU,GACVhC,QAAS,GACT0c,KAAM,GACNC,MAAO,GACPza,MAAO,GACPoa,aAAc,KACdG,cAAe,GACf9oB,OAAQ,CACNH,WAAY,IACZC,UAAW,IACXC,MAAO,IACPsO,SAAU,IACVC,KAAM,IACN8R,KAAM,KAERwI,cAAc,GAGhB,EAAK9U,SAAW,EAAKA,SAAShL,KAAd,gBAChB,EAAKmgB,SAAW,EAAKA,SAASngB,KAAd,gBAzBJ,E,gEAkDO,IAAD,OACZ5I,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GAG3B4C,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,mBAAqB0L,EAAK1O,SAEhDmD,MAAK,SAACoL,GACL,IAAIjL,EAAO,GACXiL,EAAIjL,KAAK0c,SAAQ,SAACrK,GAChB,IAAItH,EAAO,GACXA,EAAKxH,MAAQ8O,EAAGhS,GAChB0K,EAAK6I,MAAQvB,EAAGxU,KAChBkN,EAAK4a,YAActT,EAAG3V,OACtBsD,EAAK8D,KAAKiH,MAEZ,EAAK7N,SAAS,CACZuoB,MAAOzlB,OAGVsL,OAAM,SAACC,GACN5J,QAAQC,IAAI2J,MAEhBtO,KAAKmkB,UAAUhW,K,+BAYRhI,GAAI,IAAD,OACVnG,KAAKC,SAAL,eAAiBkG,EAAEoN,OAAO3S,KAAOuF,EAAEoN,OAAOjN,QADhC,MAEcH,EAAEoN,OAAlB3S,EAFE,EAEFA,KAAM0F,EAFJ,EAEIA,MACV9G,EAASQ,KAAKZ,MAAMI,OAClBmpB,EAAkBC,OAEtB,0HAGF,OAAQhoB,GACN,IAAK,aACHpB,EAAOH,WACLiH,EAAMC,OAAS,EAAI,uCAAyC,GAC9D,MACF,IAAK,YACH/G,EAAOF,UACLgH,EAAMC,OAAS,EAAI,sCAAwC,GAC7D,MACF,IAAK,QACH/G,EAAOD,MAAQopB,EAAgBxlB,KAAKmD,GAAS,GAAK,qBAClD,MACF,IAAK,WACH9G,EAAOqO,SACLvH,EAAMC,OAAS,EAAI,qCAAuC,GAKhEvG,KAAKC,SAAL,aAAgBT,UAASoB,EAAO0F,IAAS,WACnC,EAAKuhB,aAAaroB,GACpB,EAAKS,SAAS,CAAEmoB,cAAc,IACzB,EAAKnoB,SAAS,CAAEmoB,cAAc,S,+BAgChCjiB,GAAI,IAAD,OAEV,GADAA,EAAE4B,iBACE/H,KAAK6nB,aAAa7nB,KAAKZ,MAAMI,QAAS,CACxC,IAAMuO,EAAQ,GAEd/N,KAAKZ,MAAMkpB,cAAc7I,SAAQ,SAACrK,GAChCrH,EAAMlH,KAAKuO,EAAG9O,UAGhB,IAAM6H,EAAO,CACX9O,WAAYW,KAAKZ,MAAMC,WACvBC,UAAWU,KAAKZ,MAAME,UACtBC,MAAOS,KAAKZ,MAAMG,MAClBsO,SAAU7N,KAAKZ,MAAMyO,SACrBC,KAAM9N,KAAKZ,MAAM+oB,aAAa7hB,MAC9ByH,MAAOA,GAGTL,YAASS,GACNvL,MAAK,SAACoL,GACL,EAAK7L,MAAMilB,YACX1iB,QAAQC,IAAIqJ,EAAIjL,MAChB,EAAK9C,SAAS,CACZ4L,QAASmC,EAAIjL,KAAKsS,YAGrBhH,OAAM,SAACC,GACN5J,QAAQC,IAAI2J,EAAIzL,UACZyL,EAAIzL,UACN,EAAK5C,SAAS,CAAE4L,QAASyC,EAAIzL,SAASE,eAI5C/C,KAAKC,SAAS,CAAE4L,QAAS,sBACzBnH,QAAQpB,MAAM,kB,+BAKhB,OACE,6BACE,yBAAKpD,UAAU,OACb,yBAAKA,UAAU,qBACb,0BAAM2oB,YAAU,EAACJ,SAAUzoB,KAAKyoB,UAC9B,mDACA,yBAAKvoB,UAAU,cACb,2BAAO4oB,QAAQ,aAAf,cACA,2BACErf,KAAK,OACLvJ,UAAU,eACVU,KAAK,aACLmoB,YAAY,mBACZziB,MAAOtG,KAAKZ,MAAMC,WAClBiU,SAAUtT,KAAKsT,WAEhBtT,KAAKZ,MAAMI,OAAOH,WACjB,2BAAIW,KAAKZ,MAAMI,OAAOH,YAEtB,uBAAGuC,MAAO,CAAErD,MAAO,UAAnB,WAGJ,yBAAK2B,UAAU,cACb,2BAAO4oB,QAAQ,YAAf,aACA,2BACErf,KAAK,OACLvJ,UAAU,eACVU,KAAK,YACLmoB,YAAY,kBACZziB,MAAOtG,KAAKZ,MAAME,UAClBgU,SAAUtT,KAAKsT,WAEhBtT,KAAKZ,MAAMI,OAAOF,UACjB,2BAAIU,KAAKZ,MAAMI,OAAOF,WAEtB,uBAAGsC,MAAO,CAAErD,MAAO,UAAnB,WAGJ,yBAAK2B,UAAU,cACb,2BAAO4oB,QAAQ,SAAf,iBACA,2BACErf,KAAK,QACLvJ,UAAU,eACVU,KAAK,QACLmoB,YAAY,cACZziB,MAAOtG,KAAKZ,MAAMG,MAClB+T,SAAUtT,KAAKsT,WAEhBtT,KAAKZ,MAAMI,OAAOD,MACjB,2BAAIS,KAAKZ,MAAMI,OAAOD,OAEtB,uBAAGqC,MAAO,CAAErD,MAAO,UAAnB,WAGJ,yBAAK2B,UAAU,cACb,2BAAO4oB,QAAQ,YAAf,YACA,2BACErf,KAAK,WACLvJ,UAAU,eACVU,KAAK,WACLmoB,YAAY,WACZziB,MAAOtG,KAAKZ,MAAMyO,SAClByF,SAAUtT,KAAKsT,WAEhBtT,KAAKZ,MAAMI,OAAOqO,SACjB,2BAAI7N,KAAKZ,MAAMI,OAAOqO,UAEtB,uBAAGjM,MAAO,CAAErD,MAAO,UAAnB,WAGJ,yBAAK2B,UAAU,cACb,2BAAO4oB,QAAQ,QAAf,QACA,kBAAC,IAAD,CACExiB,MAAOtG,KAAKZ,MAAM+oB,aAClB7U,SAAUtT,KAAKioB,eACfziB,QAASxF,KAAKZ,MAAMopB,QAErBxoB,KAAKZ,MAAMI,OAAOqO,SACjB,2BAAI7N,KAAKZ,MAAMI,OAAOsO,MAEtB,uBAAGlM,MAAO,CAAErD,MAAO,UAAnB,WAGJ,yBAAK2B,UAAU,cACb,2BAAO4oB,QAAQ,QAAf,SACA,kBAAC,IAAD,CACEE,mBAAmB,EACnB1iB,MAAOtG,KAAKZ,MAAM6pB,aAClB3V,SAAUtT,KAAKqoB,oBACf7iB,QAASxF,KAAKZ,MAAM2O,MACpBmb,SAAO,IAERlpB,KAAKZ,MAAMI,OAAOqO,SACjB,2BAAI7N,KAAKZ,MAAMI,OAAOogB,MAEtB,uBAAGhe,MAAO,CAAErD,MAAO,UAAnB,WAGJ,4BACEkL,KAAK,SACLvJ,UAAU,mCACVsG,SAAUxG,KAAKZ,MAAMgpB,cAHvB,aASF,uBACExmB,MAAO,CACLlD,UAAW,OACXmD,UAAW,SACXtD,MAAO,QACPE,SAAU,UAGXuB,KAAKZ,MAAMyM,gB,GAtTH1L,aA+TRyH,gBAAWggB,K,2PCtPpB/H,EAAmB,kBACvB,yBACE3f,UAAU,yBACV0B,MAAO,CAAEqD,MAAO,OAAQjG,OAAQ,WAIfmqB,E,4MACnB/pB,MAAQ,CACNopB,MAAO,I,EAqCTY,WAAa,SAAChjB,GACRyY,OAAOsE,QAAP,sBAA8B/c,EAAI/G,WAAlC,YAAgD+G,EAAI9G,UAApD,OACFgD,IAAM,CAEJyU,OAAQ,SACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,gCAAkC2D,EAAIhD,KAE5DR,MAAK,SAACoL,GACL,EAAK7L,MAAMilB,YACX1iB,QAAQC,IAAIqJ,MAEbK,OAAM,SAACC,GACN5J,QAAQC,IAAI2J,O,EAKpBiZ,aAAe,SAAC3H,EAAMyE,EAAUje,GAE5ByY,OAAOsE,QAAP,iBACY/c,EAAI/G,WADhB,YAC8B+G,EAAI9G,UADlC,sBACyD+kB,EADzD,QAIA,EAAKliB,MAAMolB,aAAanhB,EAAIhD,GAAIwc,GAChCf,OAAO1J,MAAM,oB,kEA9DI,IAAD,OAClBnV,KAAKmC,MAAMilB,YAEX,IAAM1nB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GAG3B4C,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,mBAAqB0L,EAAK1O,SAEhDmD,MAAK,SAACoL,GACL,IAAIjL,EAAO,GACXiL,EAAIjL,KAAK0c,SAAQ,SAACrK,GAChB,IAAItH,EAAO,GACXA,EAAKxH,MAAQ8O,EAAGhS,GAChB0K,EAAK6I,MAAQvB,EAAGxU,KAChBkN,EAAK4a,YAActT,EAAG3V,OACtBsD,EAAK8D,KAAKiH,MAEZ,EAAK7N,SAAS,CACZuoB,MAAOzlB,OAGVsL,OAAM,SAACC,GACN5J,QAAQC,IAAI2J,Q,+BAoCR,IAAD,OACD9I,EAAU,CACda,gBAAiB,CACf,CACEnC,KAAM,IACNoC,MAAO,GAET,CACEpC,KAAM,KACNoC,MAAO,IAET,CACEpC,KAAM,MACNoC,MAAOtG,KAAKmC,MAAMglB,MAAM5gB,UAKxB3B,EAAU,CACd,CACEC,UAAW,KACXX,KAAM,KACNvC,QAAQ,GAEV,CACEkD,UAAW,aACXX,KAAM,aACNvC,QAAQ,GAEV,CACEkD,UAAW,YACXX,KAAM,YACNvC,QAAQ,GAEV,CACEkD,UAAW,YACXX,KAAM,YACNqV,UAAU,EACV1T,UAAW,SAAC8b,EAAavb,GACvB,OACE,8BACGA,EAAI/G,WADP,IACoB+G,EAAI9G,aAK9B,CACEuF,UAAW,QACXX,KAAM,SAER,CACEW,UAAW,YACXX,KAAM,OACNmd,OAAQ,CACN5X,KAAM6X,OAAKC,OACX/b,QAASxF,KAAKZ,MAAMopB,OAEtB3iB,UAAW,SAACC,EAAMM,GAEhB,IAAIijB,EAAQ,EAAKjqB,MAAMopB,MAAM3R,MAAK,SAACtB,GAAD,OAAOA,EAAEjP,OAASR,KACpD,OAAIujB,EAAcA,EAAM1S,MACZ7Q,IAGhB,CACEjB,UAAW,UACXX,KAAM,UACNvC,QAAQ,IAqCN2nB,EAAY,CAChBC,SAAU,SAACnjB,GAAD,OACR,6BACE,kDACC,EAAKjE,MAAM4L,MAAM3E,KAAI,SAACgM,GACrB,OAAIhP,EAAI2H,MAAMuH,SAASF,EAAG4F,UAEtB,yBAAKzR,IAAK6L,EAAG4F,UACX,yBAAKpZ,MAAO,CAAEqD,MAAO,QACnB,uBAAGrD,MAAO,CAAEoC,QAAS,iBAAmBoR,EAAGxU,MAC3C,uBAAGgB,MAAO,CAAErD,MAAO,QAASyF,QAAS,iBAArC,SACI,KAEHoC,EAAIkhB,QACH,kBAAC,IAAD,CACE/oB,MAAM,YACNqD,MAAO,CAAE+E,MAAO,SAChBT,QAAS,WACP,EAAKqhB,aAAanS,EAAG4F,SAAU5F,EAAGxU,KAAMwF,KAJ5C,iBASE,OAMR,yBAAKmD,IAAK6L,EAAG4F,UACX,uBAAGpZ,MAAO,CAAEoC,QAAS,iBAAmBoR,EAAGxU,MAC3C,uBAAGgB,MAAO,CAAErD,MAAO,MAAOyF,QAAS,iBACjC,uCAOdwlB,kBAAkB,EAClBC,kBAAkB,EAClBC,oBAAoB,EACpBC,2BAA4B,YAC1B,OADgD,EAAnBC,aAGzB,kBAAC,IAAD,CAAMhoB,MAAO,CAAEnD,SAAU,UACvB,sCAKJ,kBAAC,IAAD,CAAMmD,MAAO,CAAEnD,SAAU,UACvB,uCAINorB,qBAAsB,YACpB,OADsC,EAAfC,SAGnB,kBAAC,IAAD,CAAMloB,MAAO,CAAEnD,SAAU,UACvB,sCAKJ,kBAAC,IAAD,CAAMmD,MAAO,CAAEnD,SAAU,UACvB,wCAwDR,OACE,yBAAKyB,UAAU,sBACb,8CACA,kBAAC,IAAD,CACEmH,OAAK,EACLL,iBAAkB,kBAAM,kBAAC6Y,EAAD,OACxBvY,SAAS,KACTvE,KAAM/C,KAAKmC,MAAMglB,MACjBviB,QAASA,EACT8C,WAAYC,IAAkBnC,GAC9B8jB,UAAWA,EACX1D,SAAUC,IAAgB,CACxBjB,KAAM,QACNqB,YAAY,EACZH,cAzCc,SAACC,EAAUC,EAAU5f,EAAKxC,EAAQmmB,GAE7B,cAArBnmB,EAAOiB,YACTjB,EAAOiB,UAAY,YAGrBvC,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,wBAA0B2D,EAAIhD,GACrDL,KAAM,CAEJa,OAAQA,EAAOiB,UACfyB,MAAO0f,KAGRpjB,MAAK,SAACoL,GACL,EAAK7L,MAAMilB,YACX1iB,QAAQC,IAAIqJ,MAEbK,OAAM,SAACC,GAAD,OAAS5J,QAAQC,IAAI2J,OAkBxB0b,eAjEe,SAACjE,EAAUC,EAAU5f,EAAKxC,EAAQmmB,GACvD,IAAMrqB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GAErB4nB,EAAUnZ,EAAK1O,QAAU2G,EAAI3G,OAC7BwqB,EAAO9b,EAAK/K,KAAOgD,EAAIhD,IAA2B,cAArBQ,EAAOiB,UAe1C,OAbAH,QAAQC,IAAIslB,EAAMrmB,GACD,KAAboiB,GAAoBiE,EAUtBF,GAAK,GATDzC,EACEzI,OAAOsE,QAAQ,iBACjB4G,IACKA,GAAK,IAEZA,GAAK,GACLlL,OAAO1J,MAAM,cAKV,CAAE+U,OAAO,a,GA3QsB/pB,e,gMClFvBgqB,E,4MACnB/qB,MAAQ,CACN2O,MAAO,I,EAOToW,UAAY,WACV,IAAMzkB,EAAQC,aAAaC,UAErBwkB,EADUtkB,IAAWJ,GACH0D,GAExBd,IACGC,IAAIC,EAAOC,SAAW,cAAgB2hB,EAAS,CAC9C1hB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACDA,EAASE,KAAKwD,QAChB,EAAKtG,SAAS,CACZ8N,MAAOlL,EAASE,KAChBkY,YAAapY,EAASE,KAAK,GAAGiY,e,kEAnBtChb,KAAKmkB,c,+BA0BL,OACE,6BACE,kBAAC,IAAD,CAAOpW,MAAO/N,KAAKZ,MAAM2O,MAAOkN,YAAajb,KAAKZ,MAAM6b,mB,GAlCpB9a,e,+PCWtC/B,EAAYC,YAAW,CAC3B+rB,UAAW,CACTzhB,gBAAiB,aACjB0H,eAAgB,UAElBtR,KAAM,CACJE,SAAU,GAEZorB,MAAO,CACLha,eAAgB,UAElBia,SAAU,CACRrrB,SAAU,OAId,SAASsrB,EAASpoB,GAAQ,IAChBqM,EAAqCrM,EAArCqM,SAAUlI,EAA2BnE,EAA3BmE,MAAOgD,EAAoBnH,EAApBmH,MAAUkhB,EADZ,YACsBroB,EADtB,8BAGvB,OACE,uCACE2L,KAAK,WACLnM,OAAQ2E,IAAUgD,EAClBlG,GAAE,mCAA8BkG,GAChCiN,kBAAA,8BAAwCjN,IACpCkhB,GAEHlkB,IAAUgD,GAAS,kBAAC,IAAD,CAAKmhB,EAAG,GAAIjc,IAkBvB,SAASkc,EAAavoB,GACnC,IAAMpB,EAAU3C,IAD0B,EAEhByT,IAAMC,SAAS,GAFC,mBAEnCxL,EAFmC,KAE5BqkB,EAF4B,OAGJ9Y,IAAMC,WAHF,mBAGnCmJ,EAHmC,KAGtB2P,EAHsB,OAKd/Y,IAAMC,WALQ,mBAK3B+Y,GAL2B,aAMFhZ,IAAMC,UAAS,GANb,mBAMnCgZ,EANmC,KAMrBC,EANqB,OAOJlZ,IAAMC,SAAS,IAPX,mBAOnCpB,EAPmC,KAOtBsa,EAPsB,OAQhBnZ,IAAMC,SAAS,GARC,mBAQnCmZ,EARmC,KAQ5BC,EAR4B,OASCrZ,IAAMC,WATP,mBASnCyF,EATmC,KASlB4T,EATkB,OAUZtZ,IAAMC,SAAS,WAVH,mBAUnCsZ,EAVmC,KAU1BC,EAV0B,KAYpCC,EAAc,SAACC,GACnB7mB,QAAQC,IAAI,iBAAkB4mB,GAC9BjpB,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,kBACvBM,KAAM,CACJ2jB,OAAQ6E,GAEVrU,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,GACZ,IAAIwd,EAAWxd,EAAIjL,KAAK8I,QAAQ2f,SAC5BC,EAAYtpB,EAAM4L,MAAM8I,MAAK,SAACzB,GAAD,OAAQA,EAAG4F,WAAaC,KAErDuQ,EAASlW,SAAS,iBACpBkW,EAAQ,UAAMA,EAAN,wCACV9mB,QAAQC,IAAIsW,GACRwQ,EAAUC,cAAgBH,GAAYF,EAAWG,MAEtDnd,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,OAIlBuO,IAAM2B,WAAU,WACd,GAAIrR,EAAM4L,MAAMxH,OAAS,EAAG,CAC1B,IAAMmgB,EAASvkB,EAAM4L,MAAM,GAAG2d,YAC9Bd,EAAezoB,EAAM4L,MAAM,GAAGiN,UAC9B6P,EAAUnE,GACV4E,EAAY5E,MAGb,CAACvkB,EAAM4L,QAEV,IAUM4d,EAAa,WACjBZ,GAAiBD,IAGbc,EAAe,SAACnrB,GACpByqB,EAAS,GACTxmB,QAAQC,IAAIlE,GACZuqB,EAAevqB,GACfkrB,KAGIE,EAAqB,SAACzoB,GAC1B+nB,EAAgB/nB,GAChB8nB,EAAS,GACTxmB,QAAQC,IAAIvB,IAGd,OACE,kBAAC,IAAD,CAAOlD,UAAWa,EAAQqpB,WACxB,kBAAC,IAAD,CACErpB,QAAS,CAAEhC,KAAMgC,EAAQspB,MAAOC,SAAUvpB,EAAQupB,UAClDhkB,MAAOA,EACPgN,SAhCe,SAACJ,EAAO8S,GAC3B2E,EAAS3E,GACT4E,EAAezoB,EAAM4L,MAAMiY,GAAUhL,UACrCtW,QAAQC,IAAIxC,EAAM4L,OAClB8c,EAAU1oB,EAAM4L,MAAMiY,GAAU0F,aAChCJ,EAAYnpB,EAAM4L,MAAMiY,GAAU0F,aAClCL,EAAW,WACXH,EAAS,IA0BL5F,eAAe,UACfC,UAAU,UACVvV,QAAQ,aACR8b,cAAc,QAEb3pB,EAAM4L,MAAM3E,KAAI,SAACgM,EAAI9L,GAAL,OACf,kBAAC,IAAD,eACEC,IAAKD,EACL9C,SAAUskB,EACVnU,MAAOvB,EAAGxU,MArGtB,SAAmB0I,GACjB,MAAO,CACLlG,GAAG,uBAAD,OAAyBkG,GAC3B,gBAAgB,4BAAhB,OAA6CA,IAmGjCyiB,CAAUziB,SAInBnH,EAAM4L,MAAMxH,OACTpE,EAAM4L,MAAM3E,KAAI,SAACgM,EAAI9L,GAAL,OACd,kBAACihB,EAAD,CAAUhhB,IAAKD,EAAOhD,MAAOA,EAAOgD,MAAOA,GAC9B,IAAV2hB,EACC,6BACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAU9pB,GAAI,GACZ,kBAAC,IAAD,CAAK5C,MAAM,UAAUiI,UAAU,GAC7B,kBAAC,IAAD,qBAGJ,kBAAC,IAAD,CAAUrF,GAAI,GAAIS,MAAO,CAAEC,UAAW,UAAtC,mBACmBupB,IAGrB,kBAAC,IAAD,CAAenqB,QAAQ,UACrB,kBAAC,IAAD,CAAUE,GAAI,IACZ,kBAAC,IAAD,CACE8Z,YAAaA,EACb0Q,WAAYA,EACZC,aAAcA,EACdC,mBAAoBA,OAK1B,KACO,IAAVZ,EACC,6BACE,kBAAC,IAAD,CAAK1sB,MAAM,UAAU2H,QAAS,kBAAMglB,EAASD,EAAQ,KACnD,kBAAC,IAAD,oBAEF,kBAAC,IAAD,CACE1T,gBAAiBA,EACjByU,SAAUJ,KAGZ,KACO,IAAVX,EACC,6BACE,kBAAC,IAAD,CAAK1sB,MAAM,UAAUiI,UAAU,GAC7B,kBAAC,IAAD,oBAEF,kBAAC,IAAD,CAAe/F,QAASiQ,KAExB,SAGR,S,iNC/LJmP,EAAmB,kBACvB,yBACE3f,UAAU,yBACV0B,MAAO,CAAEqD,MAAO,OAAQjG,OAAQ,WAI9BZ,EAAYC,YAAW,CAC3BU,KAAM,CACJ4J,gBAAiB,cACjBG,UAAW,OACX4I,WAAY,MACZrH,QAAS,OACTlM,aAAc,OAEhB,qBAAsB,CACpB,OAAQ,CAAE4S,QAAS,IAErBkb,UAAW,CACT7T,WAAY,uBAEd8T,cAAe,CACb/c,WAAY,OACZ,UAAW,CACTA,WAAY,OACZxG,gBAAiB,WAEnBlB,OAAQ,UACRkB,gBAAiB,SAEnBwjB,kBAAmB,CACjBhd,WAAY,OACZ,UAAW,CACTA,WAAY,OACZ5Q,MAAO,QACPL,eAAgB,YAChBuJ,OAAQ,YAGZ2kB,YAAa,CACXrb,QAAS,IACTvS,OAAQ,OACRyS,cAAe,WACfC,kBAAmB,OACnBC,wBAAyB,SACzBkb,kBAAmB,YAErB1tB,eAAgB,CACdJ,MAAO,UACPG,UAAW,MACXE,UAAW,OACXX,WAAY,MACZY,WAAY,6CACZV,aAAc,MACdD,eAAgB,OAChB,UAAW,CACTK,MAAO,OACPN,WAAY,MACZa,WAAY,MAGhBwtB,MAAO,CACLrjB,SAAU,WACV/J,SAAU,QACVyJ,gBAAiB,QACjBG,UAAW,sBACXuB,QAAS,UAIE,SAASkiB,EAASpqB,GAC/B,IAAMpB,EAAU3C,IADsB,EAEJyT,IAAMC,SAAS,IAFX,mBAE/B8G,EAF+B,KAEpB4T,EAFoB,KAiBtC,OAbA3a,IAAM2B,WAAU,WACdlR,IACGC,IAAIC,EAAOC,SAAW,kBAAoBN,EAAM8Y,YAAa,CAC5DvY,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL2pB,EAAa3pB,EAASE,WAEzB,CAACZ,EAAM8Y,cAENrC,EAAUrS,OAEV,6BACE,kBAAC,IAAD,CAAetF,QAAQ,iBACpB2X,EAAUxP,KAAI,SAACgM,GAAD,OACb,kBAAC,IAAD,CAAUjU,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGkI,IAAK6L,EAAGhS,IACvC,kBAAC,IAAD,CACE8C,QAAS,WACP/D,EAAM0pB,mBAAmBzW,EAAGhS,KAE9BlD,UAAWa,EAAQmrB,eAEnB,kBAAC,IAAD,CAAU3tB,MAAM,WACd,kBAAC,IAAD,CAAUA,MAAM,WACd,kBAAC,IAAD,eAEF,uBAAG2B,UAAWa,EAAQ0rB,cAAtB,YACA,wBAAIvsB,UAAWa,EAAQ2rB,WAAYtX,EAAGyF,WAExC,kBAAC,IAAD,CAAYwD,OAAK,GACf,yBAAKne,UAAWa,EAAQsd,OAAxB,kBAUZ,kBAAC,IAAD,CAAepd,QAAQ,UACrB,kBAAC4e,EAAD,U,+KClIO,SAAS8M,EAAQxqB,GAAQ,IAAD,EACS0P,IAAMC,SAAS,IADxB,mBAC9BgQ,EAD8B,KACb8K,EADa,OAEP/a,IAAMC,SAAS,IAFR,mBAE9BrR,EAF8B,KAErBkS,EAFqB,KAI/ByO,EAAgB,CACpB,CACEvc,UAAW,YACXX,KAAM,YACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,YACXX,KAAM,YACNY,MAAM,GAER,CACED,UAAW,OACXX,KAAM,OACNY,MAAM,GAER,CACED,UAAW,aACXX,KAAM,OACNY,MAAM,GAER,CACED,UAAW,aACXX,KAAM,WACNY,MAAM,EAENe,UAAW,SAAC8b,EAAavb,EAAKwb,GAC5B,OAAO,wCAAUxb,EAAIyU,SAAd,cAA4BzU,EAAI8N,MAAhC,aAGX,CACErP,UAAW,QACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,WACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,UACXX,KAAM,gBACNY,MAAM,IAIJ6f,EAAY,CAChBC,KAAM,WACNC,eAAe,EACfC,SAAU,SAAC1e,EAAK2e,EAAUnD,EAAUzb,GAC9B4e,GACF6H,EAAmB,GAAD,mBAAK9K,GAAL,CAAsB1b,KAErC2e,GACH6H,EACE9K,EAAgB5e,QAAO,SAACkS,GAAD,OAAQA,EAAGyX,YAAczmB,EAAIymB,eAI1D5H,YAAa,SAACF,EAAUG,EAAM/e,GACxB4e,GACF6H,EAAmB1H,GAEhBH,GACH6H,EAAmB,MAkBzB,OAdA/a,IAAM2B,WAAU,WACdlR,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,wBAA0BN,EAAMoV,kBACtD3U,MAAK,SAACoL,GACP2E,EAAW3E,EAAIjL,WAEhB,CAACZ,EAAMoV,kBAGR,yBAAK3V,MAAO,CAAE8P,WAAY,SACxB,kBAAC,IAAD,CACE1K,iBAAkB,mBAClBI,UAAU,EACVC,OAAK,EACLC,SAAS,YACTvE,KAAMtC,EACNmE,QAASwc,EACTuD,UAAWA,IAEb,kBAAC,IAAD,CAAQze,QAAS,kBAAM/D,EAAM6pB,SAASlK,KAAtC,a,kJCtGS,SAASgL,EAAc3qB,GAAQ,IAAD,EACG0P,IAAMC,WADT,mBACpCgQ,EADoC,KACnB8K,EADmB,KAGrC3K,EAAc,CAClB,CACEpd,UAAW,KACXX,KAAM,YACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,YACXX,KAAM,YACNY,MAAM,EACNyU,UAAU,GAEZ,CACE1U,UAAW,OACXX,KAAM,OACNY,MAAM,EACNyU,UAAU,GAEZ,CACE1U,UAAW,aACXX,KAAM,WACNY,MAAM,EACNyU,UAAU,EACV1T,UAAW,SAAC8b,EAAavb,EAAKwb,GAC5B,OAAO,wCAAUxb,EAAIyU,SAAd,cAA4BzU,EAAI8N,MAAhC,aAGX,CACErP,UAAW,QACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,WACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,UACXX,KAAM,gBACNY,MAAM,EACNyU,UAAU,EACVxU,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,WAGpB,CACEJ,UAAW,WACXX,KAAM,WACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,WACXX,KAAM,YACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,GACXX,KAAM,WACNqV,UAAU,EACV2I,MAAO,SACPnd,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,QAASpD,UAAW,YA0BxC,CACEgD,UAAW,YACXX,KAAM,eACNqV,UAAU,EACV2I,MAAO,SACPb,OAAQ,CACN7b,QAAS,CACP,CACEc,MAAO,GACPqQ,MAAO,IAET,CACErQ,MAAO,KACPqQ,MAAO,MAET,CACErQ,MAAO,aACPqQ,MAAO,cAET,CACErQ,MAAO,gBACPqQ,MAAO,iBAET,CACErQ,MAAO,wBACPqQ,MAAO,2BAIb5R,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,QAASpD,UAAW,WAEtCgE,UAAW,SAAC8b,EAAavb,GACvB,MAAoB,KAAhBub,EACK,kBAAC,IAAD,CAAQpjB,MAAM,WAAd,UACKojB,IAGlB,CACE9c,UAAW,UACXX,KAAM,GACNvC,QAAQ,GAEV,CACEkD,UAAW,UACXX,KAAM,GACNge,MAAO,SACP3I,UAAU,IAoBRoL,EAAY,CAChBC,KAAM,WACNC,eAAe,EACfC,SAAU,SAAC1e,EAAK2e,EAAUnD,EAAUzb,GAC9B4e,GACF6H,EAAmB,GAAD,mBAAK9K,GAAL,CAAsB1b,KAErC2e,GACH6H,EACE9K,EAAgB5e,QAAO,SAACkS,GAAD,OAAQA,EAAGyX,YAAczmB,EAAIymB,eAI1D5H,YAAa,SAACF,EAAUG,EAAM/e,GACxB4e,GACF6H,EAAmB1H,GAEhBH,GACH6H,EAAmB,MAKzB,OACE,yBAAKhrB,MAAO,CAAE8P,WAAY,SACxB,kBAAC,IAAD,CAEEtK,UAAU,EACVC,OAAK,EACLC,SAAS,KACTvE,KAAMZ,EAAM1B,QACZmE,QAASqd,EAET0C,UAAWA,O,kSC7KJ,SAASljB,IAAgB,IAAD,EACXoQ,IAAMC,SAAS,IADJ,mBAC9B/D,EAD8B,KACvBgf,EADuB,OAEHlb,IAAMC,SAAS,IAFZ,mBAE9B8G,EAF8B,KAEnB4T,EAFmB,OAGT3a,IAAMC,SAAS,IAHN,mBAG9BgK,EAH8B,KAGtBkR,EAHsB,OAIPnb,IAAMC,SAAS,IAJR,mBAI9BrR,EAJ8B,KAIrBkS,EAJqB,OAMCd,IAAMC,SAAS,MANhB,mBAM9BmJ,EAN8B,KAMjB2P,EANiB,OAQL/Y,IAAMC,SAAS,IARV,mBAQpBmb,GARoB,aASXpb,IAAMC,SAAS,GATJ,mBAS9BmZ,EAT8B,KASvBC,EATuB,OAUGrZ,IAAMC,UAAS,GAVlB,mBAU9BzN,EAV8B,KAUhB6oB,EAVgB,OAWGrb,IAAMC,UAAS,GAXlB,mBAW9BgZ,EAX8B,KAWhBC,EAXgB,OAYGlZ,IAAMC,SAAS,MAZlB,mBAY9B2B,GAZ8B,KAYhB0Z,GAZgB,QAaStb,IAAMC,SAAS,MAbxB,qBAa9ByF,GAb8B,MAabsU,GAba,SAcGha,IAAMC,SAAS,MAdlB,qBAc9B0F,GAd8B,MAchB4V,GAdgB,MAiH/BC,GAAa,uCAAG,WAAOC,GAAP,eAAAvU,EAAA,sEACDzW,IAAMC,IACvBC,EAAOC,SAAW,6BAA+B6qB,EACjD,CACE5qB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAN1B,cACdmD,EADc,yBAWbA,GAXa,2CAAH,sDAcbwqB,GAAU,uCAAG,WAAOC,GAAP,eAAAzU,EAAA,sEACEzW,IAAMC,IACvBC,EAAOC,SAAW,wBAA0B+qB,EAC5C,CACE9qB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAN7B,cACXmD,EADW,yBAWVA,GAXU,2CAAH,sDAcV0qB,GAAW,uCAAG,WAAOC,GAAP,eAAA3U,EAAA,sEACCzW,IAAMC,IACvBC,EAAOC,SAAW,qBAAuBirB,EACzC,CACEhrB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAN5B,cACZmD,EADY,yBAWXA,GAXW,2CAAH,sDAcjByQ,qBAAU,YArEQ,WAChB,IAAM9T,EAAQC,aAAaC,UAErBwkB,EADUtkB,IAAWJ,GACH0D,GAExBd,IACGC,IAAIC,EAAOC,SAAW,cAAgB2hB,EAAS,CAC9C1hB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL,GAAIA,EAASE,KAAKwD,OAAQ,CACxB,IAAMyU,EAAWnY,EAASE,KAAK,GAAGiY,SAClC+R,EAASlqB,EAASE,MAClB6nB,EAAe5P,GACfiS,EAAYpqB,EAASE,KAAK,GAAGnC,MAC7BysB,GAAcrS,GAAUpY,MAAK,SAACoL,GAC5BtJ,QAAQC,IAAIqJ,GACZwe,EAAaxe,EAAIjL,MACjBwqB,GAAWvS,GAAUpY,MAAK,SAACoL,GAAD,OAASgf,EAAUhf,EAAIjL,YAEnDgoB,GAAgB,OA+CtB5G,KAEC,IAiEH,OACE,6BACGlJ,EACC,kBAAC,IAAD,CAAU9Z,GAAI,GAAIS,MAAO,CAAEpD,OAAQ,QACjC,kBAAC,IAAD,CACE8H,MAAO2U,EACP3H,SA3Le,SAACJ,EAAO0M,GAC3B7R,EAAM8I,MAAK,SAACtB,GAAD,OAAOA,EAAEyF,WAAa4E,MAAS3E,IAAgB2E,IAC5DmL,GAAgB,GAChBG,EAAS,GACTsB,EAAa,IACbQ,EAAU,IACVra,EAAW,IACX0a,GAAczN,GAAMhd,MAAK,SAACoL,GACxB4c,EAAehL,GACfzE,YAAW,WACTqR,EAAaxe,EAAIjL,MACjBgoB,GAAgB,KACf,UAgLCzF,eAAe,UACfC,UAAU,UACV3jB,MAAO,CACLwS,OAAQ,sBACRlL,aAAc,OAEhBsc,UAAQ,GAEPzX,EAAM3E,KAAI,SAAC2P,EAAGzP,GAAJ,OACT,kBAAC,IAAD,CACEC,IAAKD,EACL9C,SAAUskB,EACVxkB,MAAOyS,EAAEiC,SACTrE,MAAOoC,EAAEnY,YAKf,KACJ,kBAAC,IAAD,CACEO,GAAI,GACJS,MAAO,CAAElD,UAAW,OAAQP,aAAc,OAAQqL,WAAY,QAE9D,kBAAC,IAAD,CACEhD,SAAUnC,EACV9F,MAAM,UACNyR,QAAQ,QACR9J,QAAS,WACH+kB,EAAQ,GACVC,EAASD,EAAQ,GACFiC,EAAXjC,EAAQ,IAEPiC,GAAgB,KAGzB,kBAAC,IAAD,CAAMtrB,MAAO,CAAE6E,UAAW,mBAA1B,gBA4BO,IAAVwkB,EACC,kBAAC,IAAD,CACErS,UAAWA,EACXyC,oBA7OoB,SAACnI,EAAOwH,GAClC,IAAMpR,EAAQsP,EAAUrL,QAAQmN,GAC1BtU,EAAMwS,EAAUtP,GAEtB4hB,EAAS,GACT8B,EAAU,IACVnB,GAAmBzlB,EAAIwU,cACvB2S,GAAWnnB,EAAIwU,cAAchY,MAAK,SAACoL,GACjCtJ,QAAQC,IAAIqJ,GACZgf,EAAUhf,EAAIjL,MACdmqB,GAAgB,OAoOZ3V,gBAAiBA,GACjB6D,mBAAoB,aACpBH,YAAaA,EACb1B,UAAU,IAEV,KACO,IAAV0R,EACC,kBAAC,IAAD,CACEnP,OAAQA,EACRyR,WAAYA,GACZ1R,iBA1OiB,SAAC3I,EAAOwH,GAC/B,IAAMpR,EAAQwS,EAAOvO,QAAQmN,GACvBtU,EAAM0V,EAAOxS,GACnB4hB,EAAS,GACTvY,EAAW,IACXwa,GAAgB/mB,EAAIhD,IACpBqqB,GAAYrnB,EAAIhD,IAAIR,MAAK,SAACoL,GACxBtJ,QAAQC,IAAIqJ,GACZ2E,EAAW3E,EAAIjL,MACfmqB,GAAgB,OAkOZzZ,aAAcA,GACdmI,gBAAiB,aACjBrE,gBAAiBA,GACjBgC,UAAU,IAEV,KACO,IAAV0R,GAAexX,GACd,6BACE,yBAAK7R,MAAO,CAAEpD,OAAQ,SACpB,kBAAC,IAAD,CACE+Y,gBAAiBA,GACjB9D,aAAcA,GACd+D,aAAcA,GACd4V,gBA3Re,SAAChqB,GAC1BgqB,GAAgBhqB,OA6RV,kBAAC,IAAD,CAAS8Q,MAAOT,GAAchT,QAASA,EAAS8Y,UAAU,KAE1D,S,yLC1VK,SAASoU,EAAUxrB,GAAQ,IAAD,EACX0P,IAAMC,SAAS,IADJ,mBAChC4N,EADgC,KACxBkO,EADwB,OAEP/b,IAAMC,UAAS,GAFR,mBAEhCjP,EAFgC,KAEtBgrB,EAFsB,OAGfhc,IAAMC,SAAS,MAHA,mBAGhC8S,EAHgC,KAG1BkJ,EAH0B,OAITjc,IAAMC,SAAS,IAJN,mBAIhCqU,EAJgC,KAIvB4H,EAJuB,KAMjCC,EAAuB,WAC3B1rB,IACGC,IAAIC,EAAOC,SAAW,qBAAuBN,EAAMsR,aAAc,CAChE/Q,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACDA,EAASE,KAAKwD,OAAS,GACzBqnB,EAAU/qB,EAASE,MACnBZ,EAAMirB,gBAAgBvqB,EAASE,KAAK,GAAGkrB,eACvCJ,GAAY,KAEZD,EAAU,IACVC,GAAY,QAKdK,EAAwB,WAC5B5rB,IACGC,IAAIC,EAAOC,SAAW,sBAAwBN,EAAMsR,aAAc,CACjE/Q,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL6B,QAAQC,IAAI9B,GACRA,EAASE,KAAKwD,OAAS,GACzBwnB,EAAWlrB,EAASE,MACpB8qB,GAAY,KAEZE,EAAW,IACXF,GAAY,QAkDpB,OALAhc,IAAM2B,WAAU,WACdwa,IACAE,MAEC,IAED,6BACE,kBAAC,IAAD,CACE3vB,MAAM,UACNyR,QAAQ,WACRpO,MAAO,CAAEoC,QAAS,eAAgBxF,OAAQ,OAC1C0H,QAAS,kBAAM4nB,EAAQ,QAJzB,eAQA,kBAAC,IAAD,CACEvvB,MAAM,UACNyR,QAAQ,WACRpO,MAAO,CAAEoC,QAAS,eAAgBxF,OAAQ,OAC1C0H,QAAS,kBAAM4nB,EAAQ,QAJzB,WAQCjrB,EACU,OAAT+hB,EACE,kBAAC,IAAD,CACErN,gBAAiBpV,EAAMoV,gBACvB9D,aAActR,EAAMsR,aACpB/C,YAAagP,EACblI,aAAcrV,EAAMqV,aACpBC,YAtEU,SAAC6M,GACnB5f,QAAQC,IAAI2f,GACZsJ,GAAU,SAACO,GAAD,4BAAoBA,GAApB,CAAgC7J,OAC1ChiB,IAEGsL,KACCpL,EAAOC,SAAW,oBAAsB6hB,EAAMlhB,GAC9C,CAAEiW,UAAWlX,EAAMsR,cACnB,CACE/Q,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAI7CgD,MAAK,SAACC,GACL6B,QAAQC,IAAI9B,OAuDRsU,YAAa6W,IAGf,kBAAC,IAAD,CACEzW,gBAAiBpV,EAAMoV,gBACvB9D,aAActR,EAAMsR,aACpB/C,YAAayV,EACb3O,aAAcrV,EAAMqV,aACpB4W,aA3DW,SAACC,GACpB3pB,QAAQC,IAAI0pB,GACZN,GAAW,SAACO,GAAD,4BAAqBA,GAArB,CAAkCD,OAC7C/rB,IAEGsL,KACCpL,EAAOC,SAAW,uBAAyB4rB,EAAOjrB,GAClD,CAAEiW,UAAWlX,EAAMsR,cACnB,CACE/Q,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAI7CgD,MAAK,SAACC,GACL6B,QAAQC,IAAI9B,OA4CRsU,YAAa+W,IAIjB,6BACE,kBAAC,IAAD,CAAUle,QAAQ,OAAOhR,OAAO,UAChC,+BACA,kBAAC,IAAD,CAAUgR,QAAQ,OAAO/K,MAAM,OAAOjG,OAAO,c,yMCtIxC,SAASuvB,EAAkBpsB,GAAQ,IAAD,EACjB0P,IAAMC,SAAS,IADE,mBACxCrR,EADwC,KAC/BkS,EAD+B,KAGzCjT,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GAEfqqB,EAAW,uCAAG,4BAAA1U,EAAA,sEACCzW,IAAMC,IACvBC,EAAOC,SAAW,0BAA4B0L,EAC9C,CACEzL,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAN5B,cACZmD,EADY,yBAUXA,GAVW,2CAAH,qDAajB8O,IAAM2B,WAAU,WACdia,IAAc7qB,MAAK,SAACoL,GAClBtJ,QAAQC,IAAIqJ,EAAIjL,MAChB4P,EAAW3E,EAAIjL,WAGhB,IAwCH,OACE,kBAAC,IAAD,CACE6B,QAxCY,CACd,CACE2V,MAAO,KACP7B,MAAO,KACP/W,QAAQ,GAEV,CACE4Y,MAAO,YACP7B,MAAO,UAET,CACE6B,MAAO,OACP7B,MAAO,eACP8B,OAAQ,CACN,QAAS,QACT,QAAS,QACT,SAAU,SACV,SAAU,SACV,OAAQ,OACR,SAAU,WAGd,CACED,MAAO,UACP7B,MAAO,gBAET,CACE6B,MAAO,cACP7B,MAAO,UACPa,SAAU,SAEZ,CACEgB,MAAO,WACP7B,MAAO,YACPa,SAAU,UAOVkB,WAAY,SAACvH,EAAOwH,GAClB,IAAMtU,EAAM3F,EAAQA,EAAQ8M,QAAQmN,IACpChW,QAAQC,IAAIyB,GACZjE,EAAMsV,YAAYrR,GAClBuM,EAAWlS,EAAQyC,QAAO,SAACkS,GAAD,OAAQA,EAAGhS,KAAOgD,EAAIhD,QAElDL,KAAMtC,EACNiY,MAAM,0B,mSC9DNta,EAAYC,aAAW,SAACwQ,GAAD,MAAY,CACvCgC,WAAY,CACVxG,QAASwE,EAAMiC,QAAQ,GACvB7L,MAAO,QAET,qBAAsB,CACpB,KAAM,CAAE8L,QAAS,OACjB,MAAO,CAAEA,QAAS,OAClB,MAAO,CAAEA,QAAS,KAClB,MAAO,CAAEA,QAAS,OAClB,OAAQ,CAAEA,QAAS,QAErBC,MAAO,CACLzS,MAAO,UACP0S,cAAe,WACfC,kBAAmB,OACnBC,wBAAyB,SACzBC,wBAAyB,YAE3BC,UAAW,CACT7H,WAAYqF,EAAMiC,QAAQ,GAC1BrE,YAAaoC,EAAMiC,QAAQ,GAC3B7L,MAAO,QAETqM,KAAM,CACJ3K,MAAO,OACP1B,MAAO,OACPmK,UAAW,OACX5Q,OAAQ,OACR2Q,WAAY,OACZ9E,QAAS,MACTkH,oBAAqB,OACrBC,qBAAsB,OACtB7I,gBAAiB,wBACjBpK,MAAO,WAETkT,QAAS,CACP9K,MAAO,OACP4F,YAAa,MACbmF,WAAY,MACZ7P,UAAW,SACXrD,OAAQ,OACRmK,gBAAiB,UACjBO,aAAc,QACdjE,MAAO,OACPjG,OAAQ,OACRT,MAAO,QACPkO,YAAa,OAEfkF,aAAc,CACZ3N,QAAS,eACTxF,OAAQ,WAIG,SAASoT,EAAczP,GACpC,IAAMpB,EAAU3C,IAD2B,EAEXyT,IAAMC,SAAS,MAFJ,mBAEpCC,EAFoC,KAE1BC,EAF0B,OAGGH,IAAMC,SAAS,MAHlB,mBAGpCG,EAHoC,KAGnBC,EAHmB,OAIOL,IAAMC,UAAS,GAJtB,mBAIpCK,EAJoC,KAIjBC,EAJiB,OAKHP,IAAMC,SAAS,IALZ,mBAKpCO,EALoC,KAKtBC,EALsB,OAMOT,IAAMC,SAAS,IANtB,mBAMpCS,EANoC,KAMjBC,EANiB,OAObX,IAAMC,SAAS,IAPF,mBAOpCW,EAPoC,KAO3BC,EAP2B,OAQbb,IAAMC,SAAS,IARF,mBAQpCrR,EARoC,KAQ3BkS,EAR2B,OASLd,IAAMC,SAAS,GATV,mBASpCc,EAToC,KASvBC,EATuB,QAUbhB,IAAMC,UAAS,GAVF,qBAUpChH,GAVoC,MAU3BgI,GAV2B,SAWHjB,IAAMC,WAXH,qBAWtBiB,IAXsB,aAsBrCC,GAAyB,WAC7BZ,EAAqB,OAGjBa,GAAc,SAACC,EAAOC,GAC1BnB,EAAYkB,EAAME,eAClBlB,EAAmBiB,IAGfE,GAAc,WAClBrB,EAAY,MACZE,EAAmB,OAGfoB,GAAW,SAACnN,GAChBuM,EAAWvM,EAAEoN,OAAOjN,QA+BtBkN,qBAAU,WAAO,IACP/S,EAAY0B,EAAZ1B,QACRkS,EAAWlS,GACX6B,IACGC,IAAIC,EAAOC,SAAW,yBAA2BN,EAAMsR,aAAc,CACpE/Q,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1C8T,aAAc,SAEfrF,OAAM,SAACC,GACN5J,QAAQC,IAAI2J,GACZkE,EAAqB,6BAEtB5P,MAAK,SAACC,GACDA,GAAUyP,EAAgBqB,IAAIC,gBAAgB/Q,EAASE,YAG9D,CAACZ,EAAM1B,UAEV,IA2BMoT,GAAU,WACdhB,EAAeD,EAAc,IAGzBkB,GAAS,WACbjB,EAAeD,EAAc,IAqCzBxP,GADO2Q,QAAQhC,GACH,sBAAmB7E,EAC/B8G,GAAe,CAAEH,QAASA,GAASC,OAAQA,IAE3CG,GAAe9R,EAAMuO,YAE3B,OACE,6BACE,yBAAKxQ,UAAWa,EAAQuQ,MACtB,kBAAC,IAAD,CAAYtB,QAAQ,KAAKpO,MAAO,CAAElD,UAAW,QAA7C,YACYuV,GAAa1N,OAAS,EAAI0N,GAAa1N,OAAS,EAC1D,uBAAG3E,MAAO,CAAE+E,MAAO,aAGvB,yBACE/E,MAAO,CACLuS,UAAW,SACXlP,MAAO,OACPjG,OAAQ,OACRoV,OAAQ,oBAGV,yBAEExS,MAAO,CACL5C,OAAQ,QACRiG,MAAO,SACPoP,iBAAkB,YAClBC,eAAgB,UAChBC,gBAAgB,OAAD,OAASlC,EAAT,MAEjBpI,IAAI,eAEJ,yBAAKrI,MAAO,CAAEqD,MAAO,OAAQjG,OAAQ,OAAQiK,SAAU,aACpDgL,GAAa1N,OAAS,EACpBgM,EAGC,6BACE,kBAAC,IAAD,CAAYvC,QAAQ,KAAKwE,cAAY,GAArC,qCAGA,2BACE/K,KAAK,OACLgL,OAAO,OACPnB,SA9ED,SAACJ,GAChB,IAAMwB,EAAexB,EAAMK,OAAOoB,MAAM,GACpCC,EAASF,EAAa9T,KAAKiU,YAAY,KAAO,EAC9CC,EAAUJ,EAAa9T,KACxBmU,OAAOH,EAAQF,EAAa9T,KAAK2F,QACjCyO,cAEH,GAAe,OAAXF,GAA+B,QAAXA,EAAmB,CAGzC/B,GAAgBG,EAAMK,OAAOoB,MAAM,IAEnC,IAAM5R,EAAO,IAAIkS,SACjBlS,EAAKmS,OAAO,QAAS/S,EAAMsR,cAC3B1Q,EAAKmS,OAAO,OAAQhC,EAAMK,OAAOoB,MAAM,IAEvCrS,IACGsL,KAAKpL,EAAOC,SAAW,yBAA0BM,EAAM,CACtDL,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1C8T,aAAc,SAEf9Q,MAAK,SAACC,GACL6B,QAAQC,IAAIgP,IAAIC,gBAAgB/Q,EAASE,OACzCuP,EAAgBqB,IAAIC,gBAAgB/Q,EAASE,eAGjDoS,MAAM,oCAkDQvU,KAAK,YAVT,8BAeF,kBAAC,IAAD,CAAYoP,QAAQ,KAAKwE,cAAY,GAArC,aACa,KAGdP,GAAa1N,OAAS,IAAMgM,EACzB0B,GAAa7K,KAAI,SAACgM,EAAI9L,GACpB,OACE,kBAAC,IAAD,eACEC,IAAK6L,EAAGhS,GACR6F,SAAU,CACRsM,EAAGH,EAAGI,oBACNC,EAAGL,EAAGM,oBAERC,OAAQ,SAACxP,EAAGyP,GAAJ,OAnHT,SAACzP,EAAGyP,EAAItM,EAAOlG,GAAQ,IAClCsN,EAAgBvO,EAAhBuO,YACNhM,QAAQC,IAAI+L,GACZA,EAAYpH,GAAOoM,mBACjBhF,EAAYpH,GAAOoM,mBAAqBE,EAAGC,OAC7CnF,EAAYpH,GAAOkM,oBACjB9E,EAAYpH,GAAOkM,oBAAsBI,EAAGE,OAC9CnD,EAAWjC,GA4G0BqF,CAAW5P,EAAGyP,EAAItM,EAAO8L,EAAGhS,MAC3C4Q,GAPN,CAQEH,QAASA,GACTC,OAAQA,GACRvF,KAAM,CAAC,EAAG,GACVyH,OAAQ,WAER,yBACEpU,MAAO,CACLqD,MAAO,MACPjG,OAAQ,MACRiK,SAAU,aAGZ,kBAAC,IAAD,CACE1K,MAAM,UACNqD,MAAO,CACLnD,SAAU,MACVwK,SAAU,WACVxB,OAAQ,QAEVvB,QAAS,SAACC,GAAD,OArOT,SAAC+M,EAAOC,GAC9B,IAAMzT,EAAQC,aAAaC,UACXE,IAAWJ,GACfD,QAAU,KACpB2S,EAAqBe,GACrBzO,QAAQC,IAAIwO,IAgOwB8C,CAAgB9P,EAAGiP,EAAGhS,KACtC8S,aAAc,SAAC/P,GAAD,OAAO8M,GAAY9M,EAAGiP,EAAGhS,KACvC+S,aAAc9C,GACd+C,aAAc,SAACjQ,GAAD,OAAO8M,GAAY9M,EAAGiP,EAAGhS,KACvCiT,WAAYhD,IAXd,eAiBA,kBAAC,IAAD,CACExG,KAAMsF,IAAsBiD,EAAGhS,GAC/BkT,QAAStD,GACTuD,kBAAgB,qBAEhB,kBAAC,IAAD,CAAanT,GAAG,qBAAhB,UACMgS,EAAGoB,UADT,cACwBpB,EAAG3L,KAD3B,cACqC2L,EAAGqB,UAExC,kBAAC,IAAD,KACE,kBAAC,IAAD,gBACWrB,EAAGC,QAEd,kBAAC,IAAD,KACGD,EAAGoZ,SAAWpZ,EAAGqZ,IAChB,8BAAOrZ,EAAGoZ,QAAUpZ,EAAGoZ,QAAUpZ,EAAGqZ,KAEpC,0CAGJ,kBAAC,IAAD,CACEvuB,UAAWa,EAAQsQ,UACnBqF,WAAS,EACTlY,OAAO,QACP4E,GAAG,OACHuT,MAAM,cACNlN,KAAK,OACL6J,SAAUA,KAEZ,kBAAC,IAAD,CACEpN,QAAS,kBAAM/D,EAAMyU,WAAWxB,EAAGhS,GAAIqP,IACvClU,MAAM,WAEN,kBAAC,IAAD,qBAEF,kBAAC,IAAD,CACE2H,QAAS,kBAAM/D,EAAMyU,WAAWxB,EAAGhS,GAAI,KACvC7E,MAAM,aAEN,kBAAC,IAAD,iBAGJ,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ2H,QAAS,kBA9PjB,SAACiN,GACzBzO,QAAQC,IACNsP,GAAa4C,MAAK,SAACzB,GACjB,OAAOA,EAAGhS,KAAO+P,MAGrB,IAAM2D,EAAS7C,GAAa4C,MAAK,SAACzB,GAChC,OAAOA,EAAGhS,KAAO+P,KAEnB7Q,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,8BACvBM,KAAM,CACJkU,MAAO,YACPH,OAAQA,GAEVI,QAAS,IACRtU,MAAK,SAACoL,GACP7L,EAAMgV,cACNzS,QAAQC,IAAIqJ,MAsOiCoJ,CAAkBhC,EAAGhS,MAA5C,qBAGA,kBAAC,IAAD,CACE8C,QAAS8M,GACTzU,MAAM,WAFR,WASHqU,EAAc,EACb,kBAAC,IAAD,CACExP,GAAIA,GACJyJ,KAAMoF,IAAoBmD,EAAGhS,GAC7B2O,SAAUA,EACVnQ,MAAO,CAAEyV,cAAe,QACxBhK,aAAc,CACZC,SAAU,SACVE,WAAY,UAEd8J,gBAAiB,CACfhK,SAAU,MACVE,WAAY,WAGd,6BACE,kBAAC,IAAD,CAAYtN,UAAWa,EAAQ8P,YAA/B,gBACYuE,EAAGsZ,cAEf,kBAAC,IAAD,CAAYxuB,UAAWa,EAAQ8P,YAA/B,wBACoBuE,EAAGqB,WAGzB,6BACE,kBAAC,IAAD,CAAYvW,UAAWa,EAAQ8P,YAC5BuE,EAAGoZ,SAAWpZ,EAAGqZ,IAChB,yCACW,IACRrZ,EAAGoZ,QAAH,UAAgBpZ,EAAGoZ,QAAnB,KAAgCpZ,EAAGqZ,KAEpC,QAIR,UAKZ,QAIV,kBAAC,IAAD,CAAQlwB,MAAM,UAAU2H,QApQA,WAC1B5D,IAAM,CACJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,6BACvBM,KAAM,CAAEtC,QAASA,KAChBmC,MAAK,SAACoL,GACPtJ,QAAQC,IAAIqJ,GACO,MAAfA,EAAIqH,QACNvC,IAAW,QAwPb,yBAGChI,GAAU,uDAAmC,KAE9C,kBAAC,IAAD,CACEyM,gBAAiBpV,EAAMoV,gBACvB9D,aAActR,EAAMsR,aACpB+D,aAAcrV,EAAMqV,aACpB4W,aAAcjsB,EAAMisB,mB,yMC3ab,SAASG,EAAkBpsB,GAAQ,IAAD,EACjB0P,IAAMC,SAAS,IADE,mBACxCrR,EADwC,KAC/BkS,EAD+B,KAGzCjT,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GAEfqqB,EAAW,uCAAG,4BAAA1U,EAAA,sEACCzW,IAAMC,IACvBC,EAAOC,SAAW,2BAA6B0L,EAC/C,CACEzL,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAN5B,cACZmD,EADY,yBAUXA,GAVW,2CAAH,qDAajB8O,IAAM2B,WAAU,WACdia,IAAc7qB,MAAK,SAACoL,GAClBtJ,QAAQC,IAAIqJ,EAAIjL,MAChB4P,EAAW3E,EAAIjL,WAGhB,IAgCH,OACE,kBAAC,IAAD,CACE6B,QAhCY,CACd,CACE2V,MAAO,KACP7B,MAAO,KACP/W,QAAQ,GAEV,CACE4Y,MAAO,YACP7B,MAAO,oBAET,CACE6B,MAAO,cACP7B,MAAO,eAET,CACE6B,MAAO,UACP7B,MAAO,gBAET,CACE6B,MAAO,qBACP7B,MAAO,UACPa,SAAU,SAEZ,CACEgB,MAAO,WACP7B,MAAO,YACPa,SAAU,UAOVkB,WAAY,SAACvH,EAAOwH,GAClB,IAAMtU,EAAM3F,EAAQA,EAAQ8M,QAAQmN,IACpChW,QAAQC,IAAIyB,GACZjE,EAAMisB,aAAahoB,GACnBuM,EAAWlS,EAAQyC,QAAO,SAACkS,GAAD,OAAQA,EAAGhS,KAAOgD,EAAIhD,QAElDL,KAAMtC,EACNiY,MAAM,0B,mWC1DS5W,E,4MACnB1C,MAAQ,CACN2O,MAAO,GACP6K,UAAW,GACXkD,OAAQ,GACRrb,QAAS,GACT0lB,QAAS,GACT9B,SAAU,GACV4G,MAAO,EACP5mB,cAAc,EACdymB,cAAc,EACdtT,aAAc,KACd/D,aAAc,KACdkb,oBAAqB,GACrBpX,gBAAiB,KACjBqX,uBAAwB,GACxB3T,YAAa,KACb4T,mBAAmB,EACnBC,gBAAgB,EAChBC,aAAc,GACdC,gBAAiB,GACjBC,UAAW,I,EAIb1K,iBAAmB,SAACrR,EAAO0M,GAEvB,EAAKxgB,MAAM2O,MAAM8I,MAAK,SAACtB,GAAD,OAAOA,EAAEyF,WAAa4E,MAC5C,EAAKxgB,MAAM6b,cAAgB2E,IAE3B,EAAK3f,SAAS,CACZ6qB,cAAc,EACdG,MAAO,EACPrS,UAAW,GACXkD,OAAQ,GACRrb,QAAS,KAEX,EAAK4sB,cAAczN,GAAMhd,MAAK,SAACoL,GAC7B,EAAK/N,SAAS,CAAEgb,YAAa2E,IAC7BzE,YAAW,WACT,EAAKlb,SAAS,CACZ2Y,UAAW5K,EAAIjL,KACf+nB,cAAc,MAEf,U,EAKToE,gBAAkB,WAChB5sB,IAAM,CACJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,2BACvBM,KAAM,CACJosB,cAAe,EAAK/vB,MAAM2vB,aAC1B/T,SAAU,EAAK5b,MAAM6b,YACrBH,QAAS,EAAK1b,MAAM4vB,mBAErBpsB,MAAK,SAACoL,GACP,EAAKohB,UAAUxsB,MAAK,kBAAM,EAAK3C,SAAS,CAAE4uB,mBAAmB,OAC7DnqB,QAAQC,IAAIqJ,O,EAIhBqhB,aAAe,WACb/sB,IAAM,CACJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,cACvBM,KAAM,CACJ6X,aAAc,EAAKxb,MAAMmY,gBACzBrD,MAAO,EAAK9U,MAAM6vB,aAEnBrsB,MAAK,SAACoL,GACP,EAAKohB,UAAUxsB,MAAK,kBAClB,EAAK3C,SAAS,CACZ6uB,gBAAgB,EAChBvX,gBAAiB,EAAKnY,MAAMmY,qBAGhC7S,QAAQC,IAAIqJ,O,EAIhBshB,kBAAoB,WAClB,EAAKrvB,SAAS,CAAE4uB,mBAAoB,EAAKzvB,MAAMyvB,qB,EAGjDU,eAAiB,WACf,EAAKtvB,SAAS,CAAE6uB,gBAAiB,EAAK1vB,MAAM0vB,kB,EAG9CU,gBAAkB,SAACrpB,GACjB,EAAKlG,SAAS,CAAE8uB,aAAc5oB,EAAEoN,OAAOjN,S,EAGzCmpB,mBAAqB,SAACtpB,GACpB,EAAKlG,SAAS,CAAE+uB,gBAAiB7oB,EAAEoN,OAAOjN,S,EAG5CopB,aAAe,SAACvpB,GACd,EAAKlG,SAAS,CAAEgvB,UAAW9oB,EAAEoN,OAAOjN,S,EAItC6d,U,sBAAY,kCAAApL,EAAA,6DACJrZ,EAAQC,aAAaC,UACrBC,EAAUC,IAAWJ,GACrB0kB,EAAUvkB,EAAQuD,GAHd,SAKSd,IAAMC,IAAIC,EAAOC,SAAW,cAAgB2hB,EAAS,CACtE1hB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aARlC,cAKJmD,EALI,yBAWHA,GAXG,2C,EAcZsqB,c,uCAAgB,WAAOC,GAAP,eAAAvU,EAAA,sEACKzW,IAAMC,IACvBC,EAAOC,SAAW,6BAA+B6qB,EACjD,CACE5qB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aANhC,cACRmD,EADQ,yBAWPA,GAXO,2C,wDAchBwqB,W,uCAAa,WAAOC,GAAP,eAAAzU,EAAA,sEACQzW,IAAMC,IACvBC,EAAOC,SAAW,wBAA0B+qB,EAC5C,CACE9qB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aANnC,cACLmD,EADK,yBAWJA,GAXI,2C,wDAcb0qB,Y,uCAAc,WAAOC,GAAP,eAAA3U,EAAA,sEACOzW,IAAMC,IACvBC,EAAOC,SAAW,qBAAuBirB,EACzC,CACEhrB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aANlC,cACNmD,EADM,yBAWLA,GAXK,2C,wDAcd4sB,Y,uCAAc,WAAOjC,GAAP,eAAA3U,EAAA,sEACOzW,IAAMC,IACvBC,EAAOC,SAAW,sBAAwBirB,EAC1C,CACEhrB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aANlC,cACNmD,EADM,yBAWLA,GAXK,2C,wDAedsY,oBAAsB,SAACnI,EAAOwH,GAC5B,IAAMpR,EAAQ,EAAKlK,MAAMwZ,UAAUrL,QAAQmN,GACrCtU,EAAM,EAAKhH,MAAMwZ,UAAUtP,GAEjC,EAAKrJ,SAAS,CACZgrB,MAAO,EACP1T,gBAAiBnR,EAAIwU,aACrBgU,uBAAwBxoB,IAE1B,EAAKmnB,WAAWnnB,EAAIwU,cAAchY,MAAK,SAACoL,GACtCtJ,QAAQC,IAAIqJ,GACZ,EAAK/N,SAAS,CAAE6b,OAAQ9N,EAAIjL,KAAMsB,cAAc,Q,EAIpDwX,iBAAmB,SAAC3I,EAAOwH,GACzB,IAAMpR,EAAQ,EAAKlK,MAAM0c,OAAOvO,QAAQmN,GAClCtU,EAAM,EAAKhH,MAAM0c,OAAOxS,GAE9B,EAAKmkB,YAAYrnB,EAAIhD,IAAIR,MAAK,SAACoL,GAC7BtJ,QAAQC,IAAIqJ,GACZ,EAAK/N,SAAS,CAAEQ,QAASuN,EAAIjL,KAAMsB,cAAc,OAEnD,EAAKsrB,YAAYvpB,EAAIhD,IAAIR,MAAK,SAACoL,GAC7BtJ,QAAQC,IAAIqJ,GACZ,EAAK/N,SAAS,CAAEkmB,QAASnY,EAAIjL,OAC7B,EAAK9C,SAAS,CACZgrB,MAAO,EACPxX,aAAcrN,EAAIhD,GAClBurB,oBAAqBvoB,Q,EAK3BgV,mBAAqB,SAACrB,EAASG,EAASnN,GAEtC,OADArI,QAAQC,IAAIoV,EAAShN,GACbA,GACN,IAAK,MACH,EAAK9M,SAAS,CAAE2Y,UAAU,GAAD,mBAAM,EAAKxZ,MAAMwZ,WAAjB,CAA4BmB,MACrD,MAEF,IAAK,SACH,IAAM6V,EAAU,YAAO,EAAKxwB,MAAMwZ,WAElCgX,EADc1V,EAAQ2V,UAAUzsB,IACZ2W,EACpB,EAAK9Z,SAAS,CAAE2Y,UAAU,YAAKgX,KAC/B,MAEF,IAAK,SACH,IAAME,EAAU,YAAO,EAAK1wB,MAAMwZ,WAC5BmX,EAAW7V,EAAQ2V,UAAUzsB,GACnC0sB,EAAWE,OAAOD,EAAU,GAC5B,EAAK9vB,SAAS,CAAE2Y,UAAU,YAAKkX,KAGnC,EAAKV,W,EAGPxT,gBAAkB,SAAC7B,EAASG,EAASnN,GACnC,OAAQA,GACN,IAAK,MACHgN,EAAQa,aAAe,EAAKxb,MAAMmY,gBAClC,EAAKtX,SAAS,CAAE6b,OAAO,GAAD,mBAAM,EAAK1c,MAAM0c,QAAjB,CAAyB/B,MAC/C,MAEF,IAAK,SACH,IAAM6V,EAAU,YAAO,EAAKxwB,MAAM0c,QAElC8T,EADc1V,EAAQ2V,UAAUzsB,IACZ2W,EACpB,EAAK9Z,SAAS,CAAE6b,OAAO,YAAK8T,KAC5B,MAEF,IAAK,SACH,IAAME,EAAU,YAAO,EAAK1wB,MAAM0c,QAC5BiU,EAAW7V,EAAQ2V,UAAUzsB,GACnC0sB,EAAWE,OAAOD,EAAU,GAC5B,EAAK9vB,SAAS,CAAE6b,OAAO,YAAKgU,KAGhC,EAAKV,W,EAGPpV,iBAAmB,SAACD,EAASG,EAASnN,GACpC,OAAQA,GACN,IAAK,MACHgN,EAAQV,UAAY,EAAKja,MAAMqU,aAC/B,EAAKxT,SAAS,CAAEQ,QAAQ,GAAD,mBAAM,EAAKrB,MAAMqB,SAAjB,CAA0BsZ,MACjD,MAEF,IAAK,SACH,IAAM6V,EAAU,YAAO,EAAKxwB,MAAMqB,SAElCmvB,EADc1V,EAAQ2V,UAAUzsB,IACZ2W,EACpB,EAAK9Z,SAAS,CAAEQ,QAAQ,YAAKmvB,KAC7B,MAEF,IAAK,SACH,IAAME,EAAU,YAAO,EAAK1wB,MAAMqB,SAC5BsvB,EAAW7V,EAAQ2V,UAAUzsB,GACnC0sB,EAAWE,OAAOD,EAAU,GAC5B,EAAK9vB,SAAS,CAAEQ,QAAQ,YAAKqvB,KAGjC,EAAKV,W,EAGPa,iBAAmB,SAAClW,EAASG,EAASnN,GACpC,OAAQA,GACN,IAAK,MACH,EAAK9M,SAAS,CAAEkmB,QAAQ,GAAD,mBAAM,EAAK/mB,MAAM+mB,SAAjB,CAA0BpM,MACjD,MAEF,IAAK,SACH,IAAM6V,EAAU,YAAO,EAAKxwB,MAAM+mB,SAElCyJ,EADc1V,EAAQ2V,UAAUzsB,IACZ2W,EACpB,EAAK9Z,SAAS,CAAEkmB,QAAQ,YAAKyJ,KAC7B,MAEF,IAAK,SACH,IAAME,EAAU,YAAO,EAAK1wB,MAAM+mB,SAC5B4J,EAAW7V,EAAQ2V,UAAUzsB,GACnC0sB,EAAWE,OAAOD,EAAU,GAC5B,EAAK9vB,SAAS,CAAEkmB,QAAQ,YAAK2J,KAGjC,EAAKV,W,EAGPvV,gBAAkB,SAACJ,GACjB,IAAMX,EAAaiP,OAAOmI,KAAKzW,GAASrQ,KAAI,SAACwH,GAAD,OAAO6I,EAAQ7I,MAC3DlM,QAAQC,IAAImU,GACZ,IAAM8W,EAAU,YAAO,EAAKxwB,MAAMqB,SAElCqY,EAAW2G,SAAQ,SAACrK,GAClB,IAAM9L,EAAQ8L,EAAG2E,QAAQ8V,UAAUzsB,GACnCwsB,EAAWtmB,GAAS8L,EAAG2E,WAEzB,EAAK9Z,SAAS,CAAEQ,QAAQ,YAAKmvB,KAC7B,EAAKR,W,EAGPe,sBAAwB,a,EAwBxBf,Q,sBAAU,8BAAArW,EAAA,6DACJqX,EAAU,IAAI1W,SAAQ,SAACC,EAASC,GAClC,EAAKuK,YAAYvhB,MAAK,SAACoL,GACrB,IAAMgN,EAAWhN,EAAIjL,KAAK,GAAGiY,SAC7B,EAAK/a,SAAS,CACZ8N,MAAOC,EAAIjL,KACXkY,YAAaD,EACbqJ,SAAUrW,EAAIjL,KAAK,GAAGnC,OAExB,EAAKysB,cAAcrS,GAAUpY,MAAK,SAACoL,GACjC,EAAK/N,SAAS,CAAE2Y,UAAW5K,EAAIjL,UAEjC,EAAKwqB,WAAW,EAAKnuB,MAAMmY,iBAAiB3U,MAAK,SAACoL,GAChD,EAAK/N,SAAS,CACZ6b,OAAQ9N,EAAIjL,OAEd4W,EAAQ,OAEV,EAAK1Z,SAAS,CAAE6qB,cAAc,UAlB1B,SAqBWsF,EArBX,cAqBJpX,EArBI,yBAsBDA,GAtBC,2C,kEAyBW,IAAD,OAClBhZ,KAAKmkB,YAAYvhB,MAAK,SAACoL,GACrB,IAAMgN,EAAWhN,EAAIjL,KAAK,GAAGiY,SAC7B,EAAK/a,SAAS,CACZ8N,MAAOC,EAAIjL,KACXkY,YAAaD,EACbqJ,SAAUrW,EAAIjL,KAAK,GAAGnC,OAExB,EAAKysB,cAAcrS,GAAUpY,MAAK,SAACoL,GACjC,EAAK/N,SAAS,CAAE2Y,UAAW5K,EAAIjL,UAEjC,EAAKwqB,WAAWvS,GAAUpY,MAAK,SAACoL,GAC9B,EAAK/N,SAAS,CAAE6b,OAAQ9N,EAAIjL,UAE9B,EAAK9C,SAAS,CAAE6qB,cAAc,S,+BAIxB,IAAD,SA+EH9qB,KAAKZ,MAXP6b,EApEK,EAoELA,YACA5W,EArEK,EAqELA,aACA4mB,EAtEK,EAsELA,MAGArS,GAzEK,EAuELiW,kBAvEK,EAwELC,eAxEK,EAyELlW,WACAnF,EA1EK,EA0ELA,aACA8D,EA3EK,EA2ELA,gBACAxJ,EA5EK,EA4ELA,MACA+N,EA7EK,EA6ELA,OA7EK,EA8ELrb,QAGF,OACE,yBAAKmB,MAAO,CAAEpD,OAAQ,QAEpB,kBAAC,IAAD,CAAU2C,GAAI,IACXnB,KAAKZ,MAAM6b,YACV,kBAAC,IAAD,CACE3U,MAAOtG,KAAKZ,MAAM6b,YAClB3H,SAAUtT,KAAKukB,iBACfe,eAAe,UACfC,UAAU,UACV3jB,MAAO,CACLwS,OAAQ,sBACRlL,aAAc,OAEhBsc,UAAQ,GAEPzX,EAAM3E,KAAI,SAAC2P,EAAGzP,GACb,OACE,kBAAC,IAAD,CACEC,IAAKD,EACLhD,MAAOyS,EAAEiC,SACTxU,SAAU,EAAKpH,MAAM0rB,aACrBnU,MAAOoC,EAAEnY,WAKf,MAGN,kBAAC,IAAD,CACEK,QAAQ,SACRW,MAAO,CAAEpD,OAAQ,MAAOqD,UAAW,WAGnC,kBAAC,IAAD,CAAUV,GAAI,IACX8pB,EAAQ,EACP,yBAAKrpB,MAAO,CAAEpD,OAAQ,SACpB,kBAAC,IAAD,CAAcqc,SAAU7a,KAAKZ,MAAMwvB,yBAElC3D,EAAQ,EACP,6BACE,qCAAWjrB,KAAKZ,MAAMuvB,oBAAoBza,OAC1C,4BAAKlU,KAAKZ,MAAMuvB,oBAAoBlT,cAEpC,MAEJ,OAIR,yBAAK7Z,MAAO,CAAEpD,OAAQ,OAAQgL,WAAY,SACxC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUrI,GAAI,GACZ,kBAAC,IAAD,CAASuX,MAAM,OAAO5O,aAAW,OAC/B,8BACE,kBAAC,IAAD,CACEtD,SAAUnC,EACV9F,MAAM,UACNyR,QAAQ,QACR9J,QAAS,WACH,EAAK9G,MAAM6rB,MAAQ,EACrB,EAAKhrB,SAAS,CAAEgrB,MAAOA,EAAQ,IAAK,WAC9B,EAAK7rB,MAAM6rB,OAAS,EACtB,EAAKhrB,SAAS,CAAEoE,cAAc,IAC3B,EAAKpE,SAAS,CAAEoE,cAAc,OAEhC,EAAKpE,SAAS,CAAEoE,cAAc,MAGvC,kBAAC,IAAD,CAAMzC,MAAO,CAAE6E,UAAW,mBAA1B,oBASD,IAAVwkB,EACC,kBAAC,IAAD,CAAU9pB,GAAI,IACZ,kBAAC,IAAD,CACEyX,UAAWA,EACXyC,oBAAqBrb,KAAKqb,oBAC1B9D,gBAAiBA,EACjB6D,mBAAoBpb,KAAKob,mBACzBH,YAAaA,EACb1B,UAAQ,KAGV,KACO,IAAV0R,EACC,kBAAC,IAAD,CAAU9pB,GAAI,IACZ,kBAAC,IAAD,CACE2a,OAAQA,EACRyR,WAAYvtB,KAAKutB,WACjB1R,iBAAkB7b,KAAK6b,iBACvBpI,aAAcA,EACdmI,gBAAiB5b,KAAK4b,gBACtBrE,gBAAiBA,EACjBgC,UAAQ,KAGV,KACO,IAAV0R,EACC,6BACE,kBAAC,IAAD,CAAU9pB,GAAI,IACZ,kBAAC,IAAD,CACEV,QAAST,KAAKZ,MAAMqB,QACpBoY,SAAU7Y,KAAK6Y,SACfgB,gBAAiB7Z,KAAK6Z,gBACtBG,iBAAkBha,KAAKga,iBACvBvG,aAAcA,EACd8F,UAAQ,KAGZ,kBAAC,IAAD,CAAUpY,GAAI,IACZ,kBAAC,IAAD,CACEV,QAAST,KAAKZ,MAAM+mB,QACpBtM,gBAAiB7Z,KAAK6Z,gBACtBoW,iBAAkBjwB,KAAKiwB,iBACvBxc,aAAcA,EACd8F,UAAQ,MAIZ,U,GAvlB2B1H,IAAM1R,a,mDChB7C,sDAEe,SAASkwB,EAAaluB,GACnC,OACE,6BACE,4BAAKA,EAAM0Y,SAASA,UACpB,4BAAK1Y,EAAM0Y,SAASC,Y,kDCStBsJ,E,+LADAtL,EAAa,GAGX5W,E,kDAEJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAFRmuB,YAAa,EACM,EA8HnBC,aAAe,SAACluB,EAAO8Q,EAAU1J,GAC/B,GAAIoV,OAAOsE,QAAP,wBAAgChQ,EAAhC,YAA4C1J,EAA5C,MAAsD,CACxD,EAAKtH,MAAMmX,aAAajX,GACxBC,IACGkuB,OAAOhuB,EAAOC,SAAW,eAAiBwV,SAAS5V,GAAQ,CAC1DK,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL,EAAKV,MAAMgiB,YACXzf,QAAQC,IAAI9B,MAEbwL,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,MAEhB,IAAImtB,EAAqB/I,KAAKgJ,MAC5BhJ,KAAKC,UAAU,EAAKvoB,MAAMuxB,iBAE5BF,EAAmBrtB,GAAK+P,EACxBsd,EAAmBhnB,KAAOA,EAC1BgnB,EAAmBG,oBAAqB,EACxC,EAAK3wB,SAAS,CAAE0wB,eAAgBF,MArJjB,EA4KnBI,iBAAmB,WACjB,EAAK1uB,MAAM2uB,aACX,EAAK3uB,MAAM4uB,cA9KM,EAiLnBC,cAAgB,WACd1uB,IACGC,IAAIC,EAAOC,SAAW,6BAA+B2hB,EAAS,CAC7D1hB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACoW,GACL,IAAMiY,EAAcjY,EAAOjW,KAAKG,QAAO,SAACguB,EAAO5nB,GAC7C,IAAM6nB,EAASzJ,KAAKC,UAAUuJ,EAAME,aAC9BC,EAAY3J,KAAKC,UAAUuJ,EAAMI,gBACvC,OACEhoB,IACA0P,EAAOjW,KAAK0kB,WAAU,SAAC8J,GACrB,OACE7J,KAAKC,UAAU4J,EAAIH,eAAiBD,GACpCzJ,KAAKC,UAAU4J,EAAID,kBAAoBD,QAK/C,EAAKpxB,SAAS,CACZyhB,cAAeuP,QAxMJ,EA6MnBO,UAAY,SAACC,EAAMC,GACb,EAAKpB,YACPnV,YAAW,WACT,EAAKlb,SAAL,eAAiByxB,GAAc,MAC9BD,IAjNY,EAqNnBE,YAAc,WACZ,IAAIlB,EAAqB/I,KAAKgJ,MAC5BhJ,KAAKC,UAAU,EAAKvoB,MAAMuxB,iBAE5BF,EAAmBG,oBAAqB,EACxC,EAAK3wB,SAAS,CAAE0wB,eAAgBF,KA1Nf,EA6NnBmB,cAAgB,SAACF,EAAaG,EAAgBJ,IACxB,IAAhBC,GACFvW,YAAW,WACT,EAAKlb,SAAL,eAAiB4xB,GAAkBH,MAClCD,IAjOY,EAqOnBK,UAAY,SAAC9L,EAAU5f,EAAKxC,KArOT,EAuOnBmuB,YAAc,WACZ,IAAIC,EAAU,EAAK7vB,MAAM6vB,QAErBlZ,EAAWvS,OAAS,GAAKyrB,EAAQzrB,OAAS,EAE1CsY,OAAOsE,QAAP,0CACqC,EAAK/jB,MAAM6yB,iBADhD,cAIA3vB,IACGsL,KACCpL,EAAOC,SAAW,2BAClB,CAAEqW,aAAYkZ,WACd,CACEtvB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAI7CgD,MAAK,SAACC,GACL,EAAKV,MAAM4uB,aAEX,EAAK9wB,SAAS,CACZiyB,kBAAkB,IAEpB/W,YAAW,WACTrC,EAAa,GACb,EAAK3W,MAAMgwB,qBACX,EAAKhwB,MAAMiwB,eACX,EAAKjwB,MAAM2uB,eACV,KACHpsB,QAAQC,IAAI9B,MAEbwL,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,MAIlB,EAAKrD,SAAS,CACZoyB,cAAe,KACfC,cAAe,UACfC,sBAAsB,EACtBC,YAAa,kBACbN,kBAAkB,KAnRL,EAuRnBO,cAAgB,WACdtX,YAAW,WACTrC,EAAa,GACb,EAAK3W,MAAMgwB,qBACX,EAAKhwB,MAAMiwB,eACX,EAAKnyB,SAAS,CACZoyB,cAAe,KACfC,cAAe,UACfC,sBAAsB,EACtBC,YAAa,eAEd,KACH,EAAKrwB,MAAM2uB,cAjSX,EAAK1xB,MAAQ,CACX6yB,iBAAkB,KAClBS,aAAa,EACbhR,cAAe,GACfiR,eAAgB,GAChBC,aAAa,EACbC,cAAc,EACdC,oBAAoB,EACpBZ,kBAAkB,EAClBK,sBAAsB,EACtBC,YAAa,kBACbF,cAAe,OACfD,cAAe,KACf1B,eAAgB,CACdvtB,GAAI,KACJqG,KAAM,GACNmnB,oBAAoB,GAGtBhkB,MAAO,KACPmmB,cAAe,CACb,CACEluB,UAAW,KACXX,KAAM,YACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,IACXX,KAAM,SACNge,MAAO,SACP3I,UAAU,EACV5X,QAAQ,EACRoD,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,QAASpD,UAAW,WAEtCgE,UAAW,SAACC,EAAMM,GAChB,MAAmB,OAAfA,EAAIiP,OAEJ,8BACE,kBAAC,IAAD,CAAMzT,MAAO,CAAErD,MAAO,UAAtB,iBAKF,8BACE,kBAAC,IAAD,CAAMqD,MAAO,CAAErD,MAAO,QAAtB,aAMV,CACEsG,UAAW,SACXX,KAAM,cACNY,MAAM,EACNyU,UAAU,EACV5X,QAAQ,GAEV,CACEkD,UAAW,YACXX,KAAM,YACNY,MAAM,GAER,CACED,UAAW,OACXX,KAAM,OACNY,MAAM,EACNuc,OAAQ,CACN5X,KAAM6X,OAAKC,OACX/b,QAAS,CACP,CAAEc,MAAO,QAASqQ,MAAO,SACzB,CAAErQ,MAAO,OAAQqQ,MAAO,QACxB,CAAErQ,MAAO,SAAUqQ,MAAO,UAC1B,CAAErQ,MAAO,QAASqQ,MAAO,YAI/B,CACE9R,UAAW,aACXX,KAAM,WACNY,MAAM,EACNuc,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,gBAGtB7b,UAAW,SAACC,EAAMM,GAEhB,IAAIijB,EAAQ,EAAKjqB,MAAMsiB,cAAc7K,MAAK,SAACtB,GAAD,OAAOA,EAAEjP,OAASR,KAC5D,OAAIujB,EAAcA,EAAM1S,MACZ,wCAAUvQ,EAAIyU,SAAd,cAA4BzU,EAAI8N,MAAhC,aAGhB,CACErP,UAAW,UACXX,KAAM,gBACNY,MAAM,GAER,CACED,UAAW,KACXX,KAAM,GACNqV,UAAU,EACVxU,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,OAAQpD,UAAW,WAErCgE,UAAW,SAAC8b,EAAavb,EAAKwb,GAC5B,OACE,kBAAC,IAAD,CACErjB,MAAM,YACN2H,QAAS,kBACP,EAAKqqB,aAAanqB,EAAIhD,GAAIgD,EAAIoQ,UAAWpQ,EAAIqD,QAG/C,kBAAC,IAAD,CAAM7H,MAAO,CAAEnD,SAAU,UAAzB,eArHK,E,gEA0JjB,IAAMiB,EAAQC,aAAaC,UACrBC,EAAUC,IAAWJ,GAC3B0kB,EAAUvkB,EAAQuD,GAElBpD,KAAKswB,YAAa,EAClBtwB,KAAKgxB,gBACLhxB,KAAKC,SAAS,CACZsyB,sBAAsB,EACtBC,YAAa,sDACbF,cAAe,OACfD,cAAe,S,6CAKjBryB,KAAKswB,YAAa,I,+BA6HV,IAAD,OAsEP,OAtBAtwB,KAAK4xB,cAAc5xB,KAAKZ,MAAMyzB,aAAc,eAAgB,KAC5D7yB,KAAK4xB,cACH5xB,KAAKZ,MAAM0zB,mBACX,qBACA,KAEF9yB,KAAK4xB,cAAc5xB,KAAKZ,MAAM8yB,iBAAkB,mBAAoB,KACpElyB,KAAK4xB,cACH5xB,KAAKZ,MAAMmzB,qBACX,uBACA,MAIiD,IAAjDvyB,KAAKZ,MAAMuxB,eAAeC,oBAC1B5wB,KAAKswB,YAELnV,YAAW,WACT,EAAKwW,gBACJ,KAIH,6BAEE,yBAAK/vB,MAAO,CAAEoxB,OAAQ,MACpB,kBAAC,IAAD,CACEnnB,QAAS7L,KAAKZ,MAAMozB,YACpB1mB,OAAK,EACLjL,KAAMoyB,IACN10B,MAAOyB,KAAKZ,MAAMkzB,cAClB1lB,MAAO5M,KAAKZ,MAAMizB,cAClBxlB,KAAM7M,KAAKZ,MAAMmzB,qBACjBnlB,kBAAmB,kBACjB,EAAKnN,SAAS,CAAEsyB,sBAAsB,OAG1C,kBAAC,IAAD,CACE1mB,QAAO,8BAAyB7L,KAAKZ,MAAM6yB,iBAApC,WACPnmB,OAAK,EACLjL,KAAMoyB,IACN10B,MAAM,UACNqO,MAAO,KACPC,KAAM7M,KAAKZ,MAAM8yB,iBACjB9kB,kBAAmB,kBAAM,EAAKnN,SAAS,CAAEiyB,kBAAkB,OAE7D,kBAAC,IAAD,CACErmB,QAAS,mBACTC,OAAK,EACLjL,KAAMoyB,IACN10B,MAAM,UACNqO,MAAO,KACPC,KAAM7M,KAAKZ,MAAM0zB,mBACjB1lB,kBAAmB,kBACjB,EAAKnN,SAAS,CAAE6yB,oBAAoB,OAGxC,kBAAC,IAAD,CACEjnB,QAAO,yBAAoB7L,KAAKZ,MAAMuxB,eAAevtB,GAA9C,cAAsDpD,KAAKZ,MAAMuxB,eAAelnB,MACvFqC,OAAK,EACLjL,KAAMoyB,IACN10B,MAAM,UACNqO,MAAO,KACPC,KAAM7M,KAAKZ,MAAMuxB,eAAeC,mBAChCxjB,kBAAmBpN,KAAK2xB,eAG5B,kBAAC,IAAD,CACE3qB,iBAAkB,mBAClBI,UAAU,EACVC,OAAK,EACLC,SAAS,KACTvE,KAAM/C,KAAKmC,MAAMud,OACjB9a,QAAS5E,KAAKZ,MAAM2zB,cACpBnN,SAAUC,IAAgB,CACxBjB,KAAM,QACNqB,YAAY,EACZH,cA5Hc,SAACC,EAAUC,EAAU5f,EAAKxC,GAC9C,IAAMsvB,EAAUtvB,EAAOiB,UACvB,GAAImhB,IAAaD,GAAyB,KAAbC,EAAiB,CAC5C,IAAImN,EAAS,GACbA,EAAO/sB,IAAMA,EAAIhD,GACjB+vB,EAAOD,QAAUA,EACjBC,EAAOnN,SAAWA,EAEK,eAAnBmN,EAAOD,UACTC,EAAOD,QAAU,iBAGI,cAAnBC,EAAOD,UACLjb,SAAS+N,IACXlN,EAAW2G,SAAQ,SAAClK,EAAGjM,GACjBiM,EAAEnP,MAAQA,EAAIhD,IAAMmS,EAAE2d,UAAYA,GACpCpa,EAAWkX,OAAO1mB,EAAO,MAI7BwP,EAAWjS,KAAKssB,GAEhB,EAAKlzB,SAAS,CAAEgyB,iBAAkBnZ,EAAWvS,UAE7C,EAAKtG,SAAS,CACZqyB,cAAe,UACfD,cAAe,KACfG,YAAa,mCACbD,sBAAsB,KAGL,cAAnBY,EAAOD,UACTpa,EAAW2G,SAAQ,SAAClK,EAAGjM,GACjBiM,EAAEnP,MAAQA,EAAIhD,IAAMmS,EAAE2d,UAAYA,GACpCpa,EAAWkX,OAAO1mB,EAAO,MAI7BwP,EAAWjS,KAAKssB,GAEhB,EAAKlzB,SAAS,CAAEgyB,iBAAkBnZ,EAAWvS,gBAwF/C,yBAAK3E,MAAO,CAAE+E,MAAO,UACnB,kBAAC,IAAD,CAAQ/E,MAAO,CAAErD,MAAO,SAAW2H,QAASlG,KAAK+xB,aAAjD,QAGA,kBAAC,IAAD,CAAQxzB,MAAM,YAAY2H,QAASlG,KAAKyyB,eAAxC,gB,GA7agBtyB,aAsbXyH,gBAAW1F,K,gLCncX,SAAS0W,EAAUzW,GAChC,IA+CMgX,EAAY,uCAAG,WAAOL,GAAP,mBAAAC,EAAA,0DAEfD,EAAWtC,UAFI,gCAGQlU,IAAM,CAC7ByU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IACExU,EAAOC,SACP,yBADA,UAEGqW,EAAWtC,UAFd,YAE2BrU,EAAMsR,cACnCyD,QAAS,IAbM,OAGbkc,EAHa,OAgBjBC,EAAWD,EAAarwB,KAAK,GAAGK,GAhBf,sBAiBZiwB,EAAW,KAjBC,wBAmBA/wB,IAAM,CAEvByU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,qBAAuBqW,EAAW1V,GACzDL,KAAM,CACJ0G,KAAMqP,EAAW4V,YACjB4E,UAAWD,EACX5c,QAASqC,EAAWrC,SAEtBS,QAAS,IAhCQ,eAmBf8B,EAnBe,yBAkCZA,GAlCY,4CAAH,sDAqCZI,EAAS,uCAAG,WAAON,GAAP,mBAAAC,EAAA,0DAEZD,EAAWtC,UAFC,gCAGWlU,IAAM,CAC7ByU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IACExU,EAAOC,SACP,yBADA,UAEGqW,EAAWtC,UAFd,YAE2BrU,EAAMsR,cACnCyD,QAAS,IAbG,OAGVkc,EAHU,OAgBdC,EAAWD,EAAarwB,KAAK,GAAGK,GAhBlB,sBAiBTiwB,EAAW,KAjBF,wBAmBG/wB,IAAM,CAEvByU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,mBACvBM,KAAM,CACJ0T,QAASqC,EAAWrC,QACpBhN,KAAMqP,EAAW4V,YACjB4E,UAAWD,EACXha,UAAWlX,EAAMsR,cAEnByD,QAAS,IAjCK,eAmBZ8B,EAnBY,yBAmCTA,GAnCS,4CAAH,sDAsCTM,EAAY,uCAAG,WAAOvW,GAAP,eAAAgW,EAAA,sEACAzW,IAAM,CAEvByU,OAAQ,SACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,gBAAkBM,EAAKK,GAC9C8T,QAAS,IATQ,cACf8B,EADe,yBAWZA,GAXY,2CAAH,sDAcdO,EAAW,CACbO,SAAU,SAACC,GAAD,OACR,IAAIL,SAAQ,SAACC,EAASC,GACpBR,EAAUW,GAASnX,MAAK,SAACoL,GACvBtJ,QAAQC,IAAIqJ,GACZ7L,EAAM8tB,iBAAiBlW,EAAS,GAAI,OACpCJ,WAGNM,YAAa,SAACF,EAASG,GAAV,OACX,IAAIR,SAAQ,SAACC,EAASC,GACpBT,EAAaY,GAASnX,MAAK,SAACoL,GAC1BtJ,QAAQC,IAAIqJ,GACZ7L,EAAM8tB,iBAAiBlW,EAASG,EAAS,UACzCP,WAGNQ,YAAa,SAACD,GAAD,OACX,IAAIR,SAAQ,SAACC,EAASC,GACpBN,EAAaY,GAAStX,MAAK,SAACoL,GAC1BtJ,QAAQC,IAAIqJ,GACZ7L,EAAM8tB,iBAAiB,GAAI/V,EAAS,UACpCP,YAQR,OAHKxX,EAAMoX,WACTA,EAAW,IAGX,kBAAC,IAAD,CACE3U,QAxKY,CACd,CACE2V,MAAO,KACP7B,MAAO,KACP/W,QAAQ,GAEV,CACE4Y,MAAO,YACP7B,MAAO,oBAET,CACE6B,MAAO,cACP7B,MAAO,eAET,CACE6B,MAAO,UACP7B,MAAO,gBAET,CACE6B,MAAO,qBACP7B,MAAO,UACPa,SAAU,SAEZ,CACEgB,MAAO,WACP7B,MAAO,YACPa,SAAU,UA+IVkB,WAAY,SAACvH,EAAOwH,GAAR,OACVhW,QAAQC,IAAIxC,EAAMgkB,QAAQhkB,EAAMgkB,QAAQ5Y,QAAQmN,MAElD3X,KAAMZ,EAAM1B,QACZiY,MAAM,UACNa,SAAUA,O,uPCvKhB,SAASmD,IACP,OACE,6BACE,kBAAC,IAAD,CAAU1M,QAAQ,OAAO/K,MAAO,OAAQjG,OAAQ,U,IAKhDu0B,E,kDA6EJ,WAAYpxB,GAAQ,IAAD,8BACjB,cAAMA,IA7ERqxB,aAAe,CAAC,UAAW,QAAS,WA4EjB,EA1EnBC,mBAAqBC,KAAKC,eAAe,KAAM,CAC7CC,QAAS,OACTC,MAAO,QACPC,IAAK,UACLC,KAAM,YAsEW,EApEnBC,gBAAkBN,KAAKC,eAAe,KAAM,CAC1CC,QAAS,OACTC,MAAO,QACPC,IAAK,YAiEY,EA9DnBlvB,QAAU,GA8DS,EA7DnBxF,MAAQ,CACNinB,QAAS,KACT4N,MAAO,KACPC,QAAS,KACTC,KAAM,UACNC,WAAY,MACZzgB,IAAKnR,EAAOC,SAAW,aACvBC,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1Cy0B,QAAS,CACPC,YAAa,KACbC,WAAY,KACZC,mBAAoB,KACpBC,kBAAmB,KACnBC,WAAY,KACZC,gBAAiB,MAEnB7X,SAAS,EACT8X,YAAY,GAyCK,EAtCnBC,kBAAoB,CAClBxO,QAAS,CACP1P,MAAO,UACPhO,gBAAiB,uBACjBmsB,YAAa,qBACbC,YAAa,EACbC,qBAAsB,uBACtBC,iBAAkB,qBAClBC,YAAa,GAEfjB,MAAO,CACL,CACEtrB,gBAAiB,sBACjBmsB,YAAa,qBACbC,YAAa,EACbG,YAAa,GAEf,CACEvsB,gBAAiB,sBACjBmsB,YAAa,qBACbC,YAAa,EACbG,YAAa,GAEf,CACEvsB,gBAAiB,sBACjBmsB,YAAa,qBACbC,YAAa,EACbG,YAAa,KAWA,EANnBC,YAAc,CACZ9O,QAAS,cACT4N,MAAO,YACPC,QAAS,gBAGQ,EAyFnBkB,UAAY,SAACryB,EAAMsyB,GAMjB,IALA,IAAIC,EAAQ,CACV/f,EAAGxS,EAAKwyB,MACRvN,OAAQjlB,EAAKilB,OAAOwN,MAAM,KAAKpsB,KAAI,SAACqsB,GAAD,OAAOC,WAAWD,OAG9CnsB,EAAQ,EAAGA,EAAQ+rB,EAAI,EAAG/rB,IAAS,CAC1C,IAAM8L,EAAKrS,EAAKilB,OAAO1e,GACvBgsB,EAAM,IAAMhsB,GAAS8L,EAEvB,OAAOkgB,GAjGP,EAAKK,eAAiB9jB,IAAM+jB,YAC5B,EAAKC,qBAAuB,EAAKA,qBAAqBvtB,KAA1B,gBAC5B,EAAKwtB,uBAAyB,EAAKA,uBAAuBxtB,KAA5B,gBAC9B,EAAKytB,UAAY,EAAKA,UAAUztB,KAAf,gBALA,E,iEAQE4K,GACnBlT,KAAKC,SAAS,CAAEk0B,KAAMjhB,EAAMK,OAAOjN,QACnCtG,KAAK+1B,c,6CAGgB7iB,GACrBlT,KAAKC,SAAS,CAAEm0B,WAAYlhB,EAAMK,OAAOjN,QACzCtG,KAAK+1B,c,4EAGY3G,G,kFACZA,GACHpvB,KAAKC,SAAS,CAAE6c,SAAS,I,SAEJxa,IAAMC,IAAIvC,KAAKZ,MAAMuU,IAAM,SAAU,CAC1DjR,QAAS1C,KAAKZ,MAAMsD,U,cADhBG,E,OAIAE,EADMF,EACKE,KAEXizB,EAAQjzB,EAAKA,KAAKqG,KAAI,SAACmM,GAAD,OAAOA,EAAE0H,Q,kBAC9B,CAAC,QAAQgZ,OAAOD,EAAM5sB,KAAI,SAAC8sB,GAAD,MAAS,QAAUA,O,qRAGtC9G,E,yCACQpvB,KAAKm2B,aAAa/G,G,OAAlCxqB,E,OAENtC,IACGsL,KACC5N,KAAKZ,MAAMuU,IAAM,UACjB,CAAEyiB,MAAOp2B,KAAKZ,MAAMg1B,WAAYiC,QAASr2B,KAAKZ,MAAM+0B,MACpD,CACEzxB,QAAS1C,KAAKZ,MAAMsD,UAGvBE,MAAK,SAACoL,GACL,IAAMjL,EAAOiL,EAAIjL,KACjB,OAAQ,EAAK3D,MAAM+0B,MACjB,IAAK,UAED,IAAM9N,EAAUtjB,EAAKA,KAAKqG,KAAI,SAACktB,GAAD,MAAQ,CACpC/gB,EAAG+gB,EAAEf,MACL9f,EAAG6gB,EAAEtO,WAEP,EAAK/nB,SAAS,CAAEomB,QAASA,EAASvJ,SAAS,IAE7C,MACF,IAAK,QAED,IAAMmX,EAAQ,CACZrzB,KAAM,QACNgE,QAASA,EACT2xB,OAAQxzB,EAAKA,KAAKqG,KAAI,SAACktB,GAAD,OAAO,EAAKlB,UAAUkB,EAAG1xB,EAAQ2B,YAEzD,EAAKtG,SAAS,CAAEg0B,MAAOA,EAAOnX,SAAS,IAEzC,MACF,IAAK,UAED,IAAMoX,EAAU,CACdtzB,KAAM,UACNgE,QAASA,EACT2xB,OAAQxzB,EAAKA,KAAKqG,KAAI,SAACktB,GAAD,OAAO,EAAKlB,UAAUkB,EAAG1xB,EAAQ2B,YAEzD,EAAKtG,SAAS,CAAEi0B,QAASA,EAASpX,SAAS,Q,oQAQrDpY,QAAQC,IAAI,mB,SACWrC,IAAMsL,KAC3B5N,KAAKZ,MAAMuU,IAAM,aACjB,CAAE0iB,QAAS,SACX,CAAE3zB,QAAS1C,KAAKZ,MAAMsD,U,cAHlBG,E,yBAKCA,G,gJAgBY,IAAD,OAClB7C,KAAK+1B,WAAU,GACf/1B,KAAKw2B,iBAAiB5zB,MAAK,SAACoL,GAC1B,EAAK/N,SAAS,CAAEo0B,QAASrmB,EAAIjL,KAAKsxB,QAASO,YAAY,IACvDlwB,QAAQC,IAAIqJ,MAEdhO,KAAKy2B,SAAWnZ,aAAY,kBAAM,EAAKyY,WAAU,KAAO,O,+BAGhD,IAAD,OACHW,EAAQ,kBAACha,EAAD,MACN2Z,EAAUr2B,KAAKZ,MAAM+0B,KACrBwC,EAAQ32B,KAAKZ,MAAMi3B,GAEzB,GAAIM,EAAO,CAET,IAAIC,EACAC,EAEJ,GAJAnyB,QAAQC,IAAIgyB,GAII,YAAZN,EAAuB,CACzB,IAAIS,EAAU92B,KAAK60B,kBAAL,QACdiC,EAAQ/zB,KAAO4zB,EACfE,EAAW,CAACC,GAGVF,EAD4B,QAA1B52B,KAAKZ,MAAMg1B,WACJuC,EACNvtB,KAAI,SAACmM,GAAD,OAAO,IAAI9M,KAAK,IAAIA,KAAc,IAAT8M,EAAC,OAC9BnM,IAAIpJ,KAAKyzB,mBAAmBztB,QAEtB2wB,EACNvtB,KAAI,SAACmM,GAAD,OAAO,IAAI9M,KAAK,IAAIA,KAAc,IAAT8M,EAAC,OAC9BnM,IAAIpJ,KAAKg0B,gBAAgBhuB,YAEzB,CAEH4wB,EAD4B,QAA1B52B,KAAKZ,MAAMg1B,WACJuC,EAAMJ,OACZntB,KAAI,SAACmM,GAAD,OAAO,IAAI9M,KAAK,IAAIA,KAAc,IAAT8M,EAAC,OAC9BnM,IAAIpJ,KAAKyzB,mBAAmBztB,QAEtB2wB,EAAMJ,OACZntB,KAAI,SAACmM,GAAD,OAAO,IAAI9M,KAAK,IAAIA,KAAc,IAAT8M,EAAC,OAC9BnM,IAAIpJ,KAAKg0B,gBAAgBhuB,QAE9B6wB,EAAW,GACX,IAXK,eAWIjmB,GACP,IAAMkmB,EAAU,EAAKjC,kBAAL,MAAgCjkB,EAAI,GACpDkmB,EAAQngB,MAAQggB,EAAM/xB,QAAQgM,GAC9BkmB,EAAQ/zB,KAAO4zB,EAAMJ,OAAOntB,KAAI,SAACqsB,GAAD,OAAOA,EAAEzN,OAAOpX,EAAI,MACpDimB,EAAShwB,KAAKiwB,IAJPlmB,EAAI,EAAGA,EAAI+lB,EAAM/xB,QAAQ2B,OAAQqK,IAAM,EAAvCA,GAQX,IAAMpL,EAAU,CACduxB,OAAQ,CACNC,MAAO,CACL,CACEC,WAAY,CACVjzB,SAAS,EACTkzB,YAAal3B,KAAKm1B,YAAYkB,QAMlCtzB,EAAO,CAAE6zB,OAAQA,EAAQC,SAAUA,GACzCH,EAAQ12B,KAAKZ,MAAM0d,QACjB,kBAACJ,EAAD,MAEA,kBAAC,OAAD,CAAMzV,IAAKjH,KAAK21B,eAAgB5yB,KAAMA,EAAMyC,QAASA,IAIzD,OACE,kBAAC,IAAD,KACE,6BACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE+J,WAAS,EACTyN,UAAU,MACV/b,QAAQ,eACRmP,WAAW,SACXU,QAAS,GAET,kBAAC,IAAD,CACEgM,QAAS9c,KAAKZ,MAAMw1B,WACpBlc,MAAM,UACNkE,WAAY5c,KAAKZ,MAAMi1B,QAAQR,MAC/BhX,UAAW7c,KAAKZ,MAAMi1B,QAAQE,aAEhC,kBAAC,IAAD,CACEzX,QAAS9c,KAAKZ,MAAMw1B,WACpBlc,MAAM,WACNkE,WAAY5c,KAAKZ,MAAMi1B,QAAQ8C,aAC/Bta,UAAW7c,KAAKZ,MAAMi1B,QAAQI,oBAEhC,kBAAC,IAAD,CACE3X,QAAS9c,KAAKZ,MAAMw1B,WACpBlc,MAAM,OACNkE,WAAY5c,KAAKZ,MAAMi1B,QAAQ+C,KAC/Bva,UAAW7c,KAAKZ,MAAMi1B,QAAQgD,cAIpC,6BACA,6BACA,kBAAC,IAAD,CAAM9nB,WAAS,EAACyN,UAAU,OACxB,kBAAC,IAAD,CAAM3T,MAAI,GACR,kBAAC,IAAD,sBACA,kBAAC,IAAD,CACEzI,KAAK,cACLwF,KAAG,EACHkN,SAAUtT,KAAK61B,sBAEd71B,KAAKwzB,aAAapqB,KAAI,SAACkuB,GAAD,OACrB,kBAAC,IAAD,CACE/tB,IAAK+tB,EAAEtiB,cACP1O,MAAOgxB,EAAEtiB,cACTuiB,QAAS,kBAAC,IAAD,MACT5gB,MAAO2gB,EACP3R,QAAS,EAAKvmB,MAAM+0B,OAASmD,EAAEtiB,sBAMzC,kBAAC,IAAD,CAAMzF,WAAS,GACb,kBAAC,IAAD,CAAMlG,MAAI,GACR,kBAAC,IAAD,qBACA,kBAAC,IAAD,CACEzI,KAAK,aACLwF,KAAG,EACHkN,SAAUtT,KAAK81B,wBAEf,kBAAC,IAAD,CACEvsB,IAAI,MACJjD,MAAM,MACNixB,QAAS,kBAAC,IAAD,MACT5gB,MAAM,QACNgP,QAAmC,QAA1B3lB,KAAKZ,MAAMg1B,aAEtB,kBAAC,IAAD,CACE7qB,IAAI,QACJjD,MAAM,QACNixB,QAAS,kBAAC,IAAD,MACT5gB,MAAM,UACNgP,QAAmC,UAA1B3lB,KAAKZ,MAAMg1B,aAEtB,kBAAC,IAAD,CACE7qB,IAAI,eACJjD,MAAM,eACNixB,QAAS,kBAAC,IAAD,MACT5gB,MAAM,WACNgP,QAAmC,iBAA1B3lB,KAAKZ,MAAMg1B,aAEtB,kBAAC,IAAD,CACE7qB,IAAI,OACJjD,MAAM,OACNixB,QAAS,kBAAC,IAAD,MACT5gB,MAAM,SACNgP,QAAmC,SAA1B3lB,KAAKZ,MAAMg1B,gBAK3BsC,O,GAvVe7kB,IAAM1R,WA6VfozB,Q,kVCzUT1T,EAAmB,kBACvB,yBACE3f,UAAU,yBACV0B,MAAO,CAAEqD,MAAO,OAAQjG,OAAQ,WAI9BwB,E,4MACJsf,MAAQ,E,EACR1gB,MAAQ,CACNyM,QAAS,GACTkU,UAAW,GACXC,aAAc,GACdtI,MAAO,GACPuI,QAAQ,EACRC,YAAa,KACbC,KAAM,EACNC,UAAW,GACXC,iBAAiB,EACjBC,gBAAgB,EAChBC,kBAAkB,EAClBC,eAAe,EACfC,eAAe,EACfC,eAAe,EACfC,cAAc,EACdC,iBAAiB,EACjBC,cAAc,EACdC,OAAQ,KACRC,SAAU,GACVC,eAAgB,GAChBjT,MAAO,GACPkN,YAAa,KACbuc,SAAU,UACV/2B,QAAS,GACT2gB,cAAe,CACb,CACEvc,UAAW,KACXX,KAAM,YACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,YACXX,KAAM,YACNY,MAAM,GAER,CACED,UAAW,OACXX,KAAM,OACNY,MAAM,EACNuc,OAAQ,CACN5X,KAAM6X,OAAKC,OACX/b,QAAS,CACP,CAAEc,MAAO,QAASqQ,MAAO,SACzB,CAAErQ,MAAO,SAAUqQ,MAAO,UAC1B,CAAErQ,MAAO,QAASqQ,MAAO,YAI/B,CACE9R,UAAW,aACXX,KAAM,OACNY,MAAM,GAER,CACED,UAAW,aACXX,KAAM,WACNY,MAAM,EACNuc,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,gBAGtB7b,UAAW,SAAC8b,EAAavb,EAAKwb,GAC5B,OAAO,wCAAUxb,EAAIyU,SAAd,cAA4BzU,EAAI8N,MAAhC,aAGX,CACErP,UAAW,QACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,EACR0f,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,iBAIxB,CACE7c,UAAW,WACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,EACR0f,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,iBAIxB,CACE7c,UAAW,UACXX,KAAM,gBACNY,MAAM,IAGV+c,gBAAiB,GACjBC,gBAAiB,GACjBC,oBAAqB,GACrBC,oBAAqB,CACnB,CACEnd,UAAW,KACXX,KAAM,YACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,YACXX,KAAM,YACNY,MAAM,GAER,CACED,UAAW,OACXX,KAAM,OACNY,MAAM,EACNuc,OAAQ,CACN5X,KAAM6X,OAAKC,OACX/b,QAAS,CACP,CAAEc,MAAO,QAASqQ,MAAO,SACzB,CAAErQ,MAAO,SAAUqQ,MAAO,UAC1B,CAAErQ,MAAO,QAASqQ,MAAO,YAI/B,CACE9R,UAAW,aACXX,KAAM,WACNY,MAAM,EACNuc,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,gBAGtB7b,UAAW,SAAC8b,EAAavb,EAAKwb,GAC5B,OAAO,wCAAUxb,EAAIyU,SAAd,cAA4BzU,EAAI8N,MAAhC,aAGX,CACErP,UAAW,QACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,EACR0f,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,iBAIxB,CACE7c,UAAW,WACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,EACR0f,OAAQ,CACN5X,KAAM6X,OAAKC,OACXC,WAAY,SAACC,EAAD,GAAiC,EAAlBrb,IAAkB,EAAbxC,OAC9B,OAAO,EAAKxE,MAAMsiB,iBAIxB,CACE7c,UAAW,UACXX,KAAM,gBACNY,MAAM,IAkBV4L,YAAa,GACbuR,YAAa,CACX,CACEpd,UAAW,KACXX,KAAM,YACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,YACXX,KAAM,YACNY,MAAM,EACNyU,UAAU,GAEZ,CACE1U,UAAW,OACXX,KAAM,OACNY,MAAM,EACNyU,UAAU,GAEZ,CACE1U,UAAW,QACXX,KAAM,WACNY,MAAM,EACNyU,UAAU,EACV1T,UAAW,SAAC8b,EAAavb,EAAKwb,GAC5B,OAAO,wCAAUxb,EAAIyU,SAAd,oBAAkCzU,EAAI8N,UAGjD,CACErP,UAAW,WACXX,KAAM,GACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,UACXX,KAAM,gBACNY,MAAM,EACNyU,UAAU,EACVxU,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,WAGpB,CACEJ,UAAW,WACXX,KAAM,WACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,WACXX,KAAM,YACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,GACXX,KAAM,WACNqV,UAAU,EACV2I,MAAO,SACPnd,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,OAAQpD,UAAW,WAErCgE,UAAW,SAAC8b,EAAavb,EAAKwb,GAC5B,GAAqB,IAAjBxb,EAAI+b,SAAgB,OAAO,gDAC/B,GAAI/b,EAAIsJ,SAAW,GAAsB,IAAjBtJ,EAAI+b,SAAgB,CAC1C,IAAIzS,EAAW3J,IAAO2J,SAAStJ,EAAIsJ,UAI/B0S,EAAW,KAHIhc,EAAIsJ,SAAWtJ,EAAIic,cAAiB,KAAKnF,QAC1D,GAIF,OACE,kBAAC,IAAD,CAA2B5W,MAAO8b,EAAU1S,SAAUA,IAG1D,OAAqB,IAAjBtJ,EAAIsJ,UAAmC,IAAjBtJ,EAAI+b,SACrB,gDAEY,IAAjB/b,EAAI+b,SACC,0BAAMvgB,MAAO,CAAEC,UAAW,WAA1B,iBAEY,IAAjBuE,EAAI+b,SACC,UADT,IAKJ,CACEtd,UAAW,IACXX,KAAM,eACNqV,UAAU,EACV2I,MAAO,SACPnd,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEhC,UAAW,WAEtBgE,UAAW,SAAC8b,EAAavb,GAEvB,OADA1B,QAAQC,IAAIyB,EAAK,EAAKhH,MAAMsR,aAE1B,6BACoB,IAAjBtK,EAAI+b,SACD,QACA/b,EAAI4S,OAAOzS,OACXkxB,MAAMC,KAAKtxB,EAAI4S,QAAQ2e,KAAK,MAC5B,QAKZ,CACE9yB,UAAW,MACXX,KAAM,UACN2B,UAAW,SAAC8b,EAAavb,GAKvB,OAJeA,EAAI4S,OAAOzS,OACtBkxB,MAAMC,KAAKtxB,EAAI4S,QAAQ2e,KAAK,KAC5B,IAEOriB,SAAS,iBACX,wCACmB,IAAjBlP,EAAI+b,SAAuB,oCAC1B,OAGhB,CACEtd,UAAW,OACXX,KAAM,OACN2B,UAAW,SAAC8b,EAAavb,GAIvB,OAHeA,EAAI4S,OAAOzS,OACtBkxB,MAAMC,KAAKtxB,EAAI4S,QAAQ2e,KAAK,KAC5B,IACOriB,SAAS,cACX,wCACmB,IAAjBlP,EAAI+b,SAAuB,oCAC1B,OAGhB,CACEtd,UAAW,OACXX,KAAM,iBACN2B,UAAW,SAAC8b,EAAavb,GAIvB,OAHeA,EAAI4S,OAAOzS,OACtBkxB,MAAMC,KAAKtxB,EAAI4S,QAAQ2e,KAAK,KAC5B,IACUriB,SAAS,QACrB,oDAEA,sCAIN,CACEzQ,UAAW,UACXX,KAAM,GACNvC,QAAQ,GAEV,CACEkD,UAAW,UACXX,KAAM,GACNge,MAAO,SACP3I,UAAU,EACV1T,UAAW,SAAC8b,EAAavb,GACvB,IAAII,GAAW,EAGf,OAFIJ,EAAI+b,SAAW,GAAK/b,EAAIkc,QAAU,KAAG9b,GAAW,GACR,IAAxC,EAAKpH,MAAM2hB,SAAS+B,kBAAuBtc,GAAW,GAExD,kBAAC,IAAD,CACEjI,MAAM,UACNiI,SAAUA,EACVN,QAAS,WACP,EAAKqc,eAAenc,EAAIhD,MAJ5B,oBAaRia,WAAY,I,EAGdmF,SAAW,SAACrU,GACV,EAAK2R,MAAQxC,aAAY,YACS,IAA5B,EAAKle,MAAMyhB,cACb1F,YAAW,WACToC,cAAc,EAAKuC,SAClB,MAEwB,IAAzBtd,EAAOigB,cACTngB,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,kBAAoB0L,IAC1CvL,MAAK,SAACoL,GACHA,EAAIjL,KAAKwD,OAAS,GACpB,EAAKtG,SAAS,CACZ6gB,OAAQ9S,EAAIjL,KAAK,GAAG2f,QACpB3B,SAAU/S,EAAIjL,KAAK,KAGrB,EAAK9C,SACH,CACEyQ,YAAa1C,EAAIjL,KAAK,GAAGtC,UAE3B,WACE,IAAI2f,EAAY,EAAKhhB,MAAMsR,YAAYiS,OAAM,SAACvN,GAC5C,OAAIA,EAAG+M,SAAW,IAAM,EAAK/iB,MAAMshB,iBAKO,KAAvC,EAAKthB,MAAM2hB,SAAS6B,gBACvB,EAAK3iB,SAAS,CAAEygB,eAAe,KAG9BN,GACuC,IAAvC,EAAKhhB,MAAM2hB,SAAS6B,gBACnB,EAAKxjB,MAAMshB,cAEb,EAAKzgB,SAAS,CAAEqgB,gBAAgB,IAC3B,EAAKrgB,SAAS,CAAEqgB,gBAAgB,IAEG,IAAtC,EAAKlhB,MAAM2hB,SAAS8B,cACtB,EAAK5iB,SAAS,CAAEwgB,eAAe,IAEO,IAAtC,EAAKrhB,MAAM2hB,SAAS8B,eACnB,EAAKzjB,MAAMuhB,cAEZ,EAAK1gB,SAAS,CAAEwgB,eAAe,IAGW,IAAxC,EAAKrhB,MAAM2hB,SAAS+B,gBACtB,EAAK7iB,SAAS,CAAEsgB,kBAAkB,IAElC,EAAKtgB,SAAS,CACZsgB,kBAAkB,EAClBK,iBAAiB,QAIpB,EAAK3gB,SAAS,CAAEyQ,YAAa,QAEjC6M,cAAc,EAAKuC,SACzB,M,EAuELiD,YAAc,WACZ,IAAMrjB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GACrBd,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,wBAA0B0L,EACjDpL,KAAM,CAEJ8I,QAAS,EAAKzM,MAAM+gB,KACpB1f,QAAS,EAAKrB,MAAM0iB,gBACpB3T,KAAMA,EACNypB,UAAW,EAAKx4B,MAAMo4B,YAGvB50B,MAAK,SAACoL,GACL,EAAK/N,SACH,CACE4L,QAASmC,EAAIjL,KACbod,KAAM,EACNE,iBAAiB,EACjBQ,cAAc,IAEhB,WACE,EAAK2B,SAASrU,SAInBE,OAAM,SAACC,GACN6G,MAAM7G,EAAIzL,SAASE,MACnB,EAAK9C,SAAS,CAAE+f,aAAc1R,EAAIzL,SAASE,W,EASjDwf,eAAiB,SAACzL,GAChB,IAAMpX,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GAErBd,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,uBACvBM,KAAM,CAEJ+T,OAAQA,EACRG,MAAO,EAAK7X,MAAMsR,YAAY,GAAG4S,WACjCnV,KAAMA,GAER+I,QAAS,IAERtU,MAAK,SAACoL,GACL,EAAK/N,SAAS,CAAE4L,QAASmC,EAAIjL,KAAMod,KAAM,OAE1C9R,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,EAAMT,UAClB,EAAK5C,SAAS,CAAE+f,aAAc1c,EAAMT,SAASE,W,EAInDigB,YAAc,WACZ,IAAMtjB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GACrB,EAAKnD,SAAS,CACZsgB,kBAAkB,EAClBK,iBAAiB,IAEnBte,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,oBACvBM,KAAM,CAEJ8I,QAAS,EAAKzM,MAAM+gB,KACpB1f,QAAS,EAAKrB,MAAM0iB,gBACpB3T,KAAMA,EACN8I,MAAO,EAAK7X,MAAMsR,YAAY,GAAG4S,YAEnCpM,QAAS,IAERtU,MAAK,SAACoL,GACL,EAAK/N,SAAS,CAAEkgB,KAAM,OAEvB9R,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,EAAMT,UAClB,EAAK5C,SAAS,CAAE+f,aAAc1c,EAAMT,SAASE,W,EAInDqd,UAAY,SAACjN,EAAUuE,GACrB,IAAMhY,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GAErBd,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,mBAAqB0Q,EAC5CpQ,KAAM,CAEJqd,UAAW1I,EACXvJ,KAAMA,KAGPvL,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,MAEbK,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,EAAMT,UAClB,EAAK5C,SAAS,CAAE+f,aAAc1c,EAAMT,SAASE,W,EAInDkgB,SAAW,WACT,IAAMvjB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GACrB,EAAKnD,SAAS,CACZ4L,QAAS,YACTyU,gBAAgB,EAChBI,eAAe,EACfC,cAAc,IAEhBre,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,kBAAoB,EAAKrD,MAAM0hB,OACtD5J,QAAS,EACTnU,KAAM,CAAEoL,KAAMA,EAAM8I,MAAO,EAAK7X,MAAMsR,YAAY,GAAG4S,cAEpD1gB,MAAK,SAACoL,GACL,EAAK/N,SAAS,CAAE4L,QAASmC,EAAIjL,KAAMod,KAAM,EAAGE,iBAAiB,IAC7D,EAAKpgB,SAAS,CAAE8hB,oBAAqB,GAAID,gBAAiB,KAC1Dxf,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,uBAAyB0L,IAC/CvL,MAAK,SAACoL,GACP,EAAK/N,SAAS,CACZod,WAAYrP,EAAIjL,KAChB8d,cAAc,EACdD,iBAAiB,EACjBL,kBAAkB,EAClBG,eAAe,EACfC,cAAc,UAInBtS,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,EAAMT,UAClB,EAAK5C,SAAS,CAAE+f,aAAc1c,EAAMT,SAASE,W,EAInDmgB,UAAY,WACV,GAAIrE,OAAOsE,QAAQ,mCAAoC,CACrD,IAAMzjB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GACrB,EAAKnD,SAAS,CACZ4L,QAAS,gBACTyU,gBAAgB,EAChBI,eAAe,EACfD,eAAe,EACfE,cAAc,IAEhBre,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,mBAAqB,EAAKrD,MAAM0hB,OACvD5J,QAAS,EACTnU,KAAM,CAAEoL,KAAMA,EAAM8I,MAAO,EAAK7X,MAAMsR,YAAY,GAAG4S,cAEpD1gB,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,GACZ,EAAK/N,SAAS,CAAE8hB,oBAAqB,GAAID,gBAAiB,KAC1Dxf,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,uBAAyB0L,IAC/CvL,MAAK,SAACoL,GACP,EAAK/N,SAAS,CACZod,WAAYrP,EAAIjL,KAChB8d,cAAc,OAGlB,EAAK5gB,SAAS,CAAE4L,QAASmC,EAAIjL,KAAMod,KAAM,EAAGE,iBAAiB,OAE9DhS,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,EAAMT,UAClB,EAAK5C,SAAS,CAAE+f,aAAc1c,EAAMT,SAASE,Y,EAKrDqgB,YAAc,WACR,EAAKhkB,MAAM0iB,gBAAgBvb,OAC7B,EAAKtG,SAAS,CAAEkgB,KAAM,EAAGH,aAAc,GAAIK,iBAAiB,IACvDlL,MAAM,0C,EAGf+O,aAAe,SAAChR,GACd,EAAKjT,SACH,CACE+gB,eAAgB9N,EAAMK,OAAOjN,QAE/B,WACoC,KAA9B,EAAKlH,MAAM4hB,gBACb,EAAK/gB,SAAS,CAAEugB,eAAe,Q,EAMvC2D,UAAY,WACV,IAAMzkB,EAAQC,aAAaC,UAErBwkB,EADUtkB,IAAWJ,GACH0D,GAExBd,IACGC,IAAIC,EAAOC,SAAW,cAAgB2hB,EAAS,CAC9C1hB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACDA,EAASE,KAAKwD,QAChB,EAAKtG,SACH,CACE8N,MAAOlL,EAASE,KAChBkY,YAAapY,EAASE,KAAK,GAAGiY,SAC9BqJ,SAAUxhB,EAASE,KAAK,GAAGnC,OAE7B,WACE,EAAKX,SAAS,CACZ4hB,gBAAiB,EAAKziB,MAAMqB,QAAQyC,QAAO,SAACohB,GAC1C,OAAIA,EAAMtJ,WAAa,EAAK5b,MAAM2O,MAAM,GAAGiN,SAClCsJ,EAEA,iB,EAUzBC,iBAAmB,SAACrR,EAAO0M,GACrB,EAAKxgB,MAAM2O,MAAM8I,MAAK,SAACtB,GAAD,OAAOA,EAAEyF,WAAa4E,OAC9CzE,YAAW,WACT,EAAKlb,SAAS,CAAEkgB,KAAM,MACrB,GACH,EAAKlgB,SAAS,CACZkgB,KAAM,GACN2B,gBAAiB,GACjBuC,SAAU,EAAKjlB,MAAM2O,MAAM8I,MAAK,SAACtB,GAAD,OAAOA,EAAEyF,WAAa4E,KAAMhf,KAC5Dqa,YAAa2E,EACbiC,gBAAiB,EAAKziB,MAAMqB,QAAQyC,QAAO,SAACohB,GAC1C,OAAIA,EAAMtJ,WAAa4E,EACd0E,EAEA,Y,EAOjBuT,iBAAmB,SAAC1xB,GAClB,EAAKlG,SAAS,CAAEu3B,SAAUrxB,EAAEoN,OAAOjN,S,EAGrCke,mBAAqB,WACnB,IAAM9kB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GACjB,EAAKhE,MAAM2iB,oBAAoBxb,OAAS,GAC1CjE,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,mBACvBM,KAAM,CACJtC,QAAS,EAAKrB,MAAM2iB,oBACpBzb,MAAO,EAAKlH,MAAM4hB,eAClB7S,KAAMA,KAGPvL,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,GACZ,EAAK/N,SAAS,CAAE8hB,oBAAqB,QAEtC1T,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,EAAMT,UAClB,EAAK5C,SAAS,CAAE+f,aAAc1c,EAAMT,SAASE,W,EASrD0hB,cAAgB,WACd,EAAKxkB,SAAS,CAAE6hB,gBAAiB,M,kEAjad,IAAD,OACZpiB,EAAQC,aAAaC,UAErBuO,EADUrO,IAAWJ,GACN0D,GAErBd,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,kBAAoB0L,IAC1CvL,MAAK,SAACoL,GACHA,EAAIjL,KAAKwD,SACX7B,QAAQC,IAAIqJ,EAAIjL,KAAK,GAAG2hB,UAAW1W,EAAIjL,KAAK,GAAGkd,OAAQjS,EAAIjL,KAAK,IAC5DiL,EAAIjL,KAAK,GAAG2hB,YAAc1W,EAAIjL,KAAK,GAAGkd,QACxC,EAAKhgB,SAAS,CAAEkgB,KAAM,IAEpBnS,EAAIjL,KAAK,GAAG2hB,WAAa1W,EAAIjL,KAAK,GAAGkd,SACvC,EAAKhgB,SAAS,CAAEkgB,KAAM,IACtB,EAAKqC,SAASrU,KAEXH,EAAIjL,KAAK,GAAG2hB,WAAa1W,EAAIjL,KAAK,GAAGkd,QACxC,EAAKhgB,SAAS,CAAEkgB,KAAM,KAEpBnS,EAAIjL,OACFiL,EAAIjL,KAAK,GAAGwD,OAAS,IACvB7B,QAAQC,IAAIqJ,EAAIjL,KAAK,GAAG2f,SACxB,EAAKziB,SAAS,CACZ6gB,OAAQ9S,EAAIjL,KAAK,GAAG2f,WAGxB,EAAKziB,SAAS,CACZigB,YAAalS,EAAIjL,KAAKmd,YACtBxP,YAAa1C,EAAIjL,KAAK,GAAGtC,eAMjC6B,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,uBAAyB0L,IAC/CvL,MAAK,SAACoL,GACP,EAAK/N,SAAS,CACZod,WAAYrP,EAAIjL,UAIpBT,IAAM,CAEJyU,OAAQ,MACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,eAAiB0L,IACvCvL,MAAK,SAACoL,GACP,EAAK/N,SAAS,CAAEQ,QAASuN,EAAIjL,OAAQ,kBAAM,EAAKohB,oB,6CA6VlD5G,cAAcvd,KAAK8f,S,+BAOX,IAAD,OACD6E,EAAY,CAChBC,KAAM,WACNC,eAAe,EACfC,SAAU,SAAC1e,EAAK2e,EAAUnD,EAAUzb,GAC9B4e,GACF,EAAK9kB,UAAS,SAAC+kB,GAAD,MAAgB,CAC5BlD,gBAAgB,GAAD,mBAAMkD,EAAUlD,iBAAhB,CAAiC1b,QAG/C2e,GACH,EAAK9kB,SAAS,CACZ6hB,gBAAiB,EAAK1iB,MAAM0iB,gBAAgB5e,QAAO,SAACkS,GAClD,OAAIA,EAAGhS,KAAOgD,EAAIhD,GACTgS,EACK,WAKtB6P,YAAa,SAACF,EAAUG,EAAM/e,GACxB4e,GACF,EAAK9kB,SAAS,CAAE6hB,gBAAiBoD,IAE9BH,GACH,EAAK9kB,SAAS,CAAE6hB,gBAAiB,OAKjCqD,EAAuB,CAC3BP,KAAM,WACNC,eAAe,EACfO,aAAa,EACbN,SAAU,SAAC1e,EAAK2e,EAAUnD,GACpBmD,GACF,EAAK9kB,UAAS,SAAC+kB,GAAD,MAAgB,CAC5BjD,oBAAoB,GAAD,mBAAMiD,EAAUjD,qBAAhB,CAAqC3b,QAGvD2e,GACH,EAAK9kB,SAAS,CACZ8hB,oBAAqB,EAAK3iB,MAAM2iB,oBAAoB7e,QAAO,SAACkS,GAC1D,OAAIA,EAAGhS,KAAOgD,EAAIhD,GACTgS,EACK,WAKtB6P,YAAa,SAACF,EAAUG,EAAM/e,GACxB4e,GACF,EAAK9kB,SAAS,CAAE8hB,oBAAqBmD,IAElCH,GACH,EAAK9kB,SAAS,CAAE8hB,oBAAqB,OAoCrCsD,EAAkB,CACtBhf,gBAAiB,CACf,CACEnC,KAAM,IACNoC,MAAO,GAET,CACEpC,KAAM,KACNoC,MAAO,IAET,CACEpC,KAAM,MACNoC,MAAOtG,KAAKZ,MAAM0iB,gBAAgBvb,UAUhCxF,EAAYf,KAAKmC,MAAjBpB,QAER,OACE,6BACE,kBAAC,IAAD,CAAeE,QAAQ,UACrB,kBAAC,IAAD,CAAUE,GAAI,EAAGE,GAAI,IAClBrB,KAAKZ,MAAM2O,OAA6B,IAApB/N,KAAKZ,MAAM+gB,KAC9B,kBAAC,IAAD,CACE7Z,MAAOtG,KAAKZ,MAAM6b,YAClB3H,SAAUtT,KAAKukB,iBACfe,eAAe,UACfC,UAAU,UACV3jB,MAAO,CACLwS,OAAQ,sBACRlL,aAAc,OAEhBsc,UAAQ,GAEPxlB,KAAKZ,MAAM2O,MAAM3E,KAAI,SAAC2P,EAAGzP,GAAJ,OACpB,kBAAC,IAAD,CAAKC,IAAKD,EAAOhD,MAAOyS,EAAEiC,SAAUrE,MAAOoC,EAAEnY,WAG/C,OAGa,IAApBZ,KAAKZ,MAAM+gB,KACV,kBAAC,IAAD,CACEve,MAAO,CAAEzD,aAAc,QACvB+H,QAAS,WACP,EAAKjG,SAAS,CAAEkgB,KAAM,EAAK/gB,MAAM+gB,KAAO,IACpC,EAAK/gB,MAAM+gB,KAAO,GAAG,EAAKlgB,SAAS,CAAE6hB,gBAAiB,MAE5Dtb,UAAU,GAEV,kBAAC,IAAD,CAAM5E,MAAO,CAAE6E,UAAW,mBAA1B,eAEA,KACiB,IAApBzG,KAAKZ,MAAM+gB,MAAkC,KAApBngB,KAAKZ,MAAM+gB,KACnC,kBAAC,IAAD,CACE5hB,MAAM,UACNiI,SAAUxG,KAAKZ,MAAMihB,gBACrBna,QAAS,WACP,EAAKjG,SAAS,CAAEkgB,KAAM,EAAK/gB,MAAM+gB,KAAO,IACpC,EAAK/gB,MAAM+gB,KAAO,GAAG,EAAKlgB,SAAS,CAAE6hB,gBAAiB,KAClC,IAApB,EAAK1iB,MAAM+gB,MAAY,EAAKlgB,SAAS,CAAEkgB,KAAM,MAGnD,kBAAC,IAAD,CAAMve,MAAO,CAAE6E,UAAW,mBAA1B,eAEA,KAEiB,IAApBzG,KAAKZ,MAAM+gB,KACV,6BACE,kBAAC,IAAD,CACE2X,aAAc93B,KAAK63B,iBACnBvxB,MAAOtG,KAAKZ,MAAMo4B,WAEpB,kBAAC,IAAD,CAAYxnB,QAAQ,KAAKwE,cAAY,GAArC,kBAGA,kBAAC,IAAD,CACExN,iBAAkB,mBAClBI,UAAU,EACVC,OAAK,EACLC,SAAS,KACTvE,KAAM/C,KAAKZ,MAAMyiB,gBACjBjd,QAAS5E,KAAKZ,MAAMgiB,cACpBuD,UAAWA,IAGb,kBAAC,IAAD,CACE3U,QAAQ,YACRzR,MAAM,UACNqD,MAAO,CAAE+E,MAAO,SAChBT,QAASlG,KAAKojB,aAJhB,SASA,KAEiB,IAApBpjB,KAAKZ,MAAM+gB,KACV,6BACE,kBAAC,IAAD,CAAYnQ,QAAQ,KAAKwE,cAAY,GAClCxU,KAAKZ,MAAM4gB,cAEd,kBAAC,IAAD,CAAYhQ,QAAQ,KAAKwE,cAAY,GAArC,oBAGA,kBAAC,IAAD,CACExN,iBAAkB,mBAClBI,UAAU,EACVC,OAAK,EACLC,SAAS,KACTvE,KAAM/C,KAAKZ,MAAM0iB,gBACjBld,QAAS5E,KAAKZ,MAAM4iB,oBACpBta,WAAYC,IAAkB0d,KAEhC,kBAAC,IAAD,CACErV,QAAQ,YACRzR,MAAM,UACNqD,MAAO,CAAE+E,MAAO,SAChBT,QAASlG,KAAK+iB,aAJhB,UASA,KAEiB,IAApB/iB,KAAKZ,MAAM+gB,KACV,6BACE,kBAAC,IAAD,CAAYnQ,QAAQ,KAAKwE,cAAY,GAClCxU,KAAKZ,MAAMyM,SAEd,kBAAC,IAAD,CAAYmE,QAAQ,KAAKwE,cAAY,GAClCxU,KAAKZ,MAAM4gB,cAGd,yBAAKpe,MAAO,CAAE+E,MAAO,UACnB,kBAAC,IAAD,CACEH,SAAUxG,KAAKZ,MAAMmhB,iBACrBhiB,MAAM,UACN2H,QAASlG,KAAKgjB,aAHhB,iBAOA,kBAAC,IAAD,CACEzkB,MAAM,UACNiI,SAAUxG,KAAKZ,MAAMkhB,eACrBpa,QAASlG,KAAKijB,UAHhB,iBAOA,kBAAC,IAAD,CACE1kB,MAAM,YACNiI,SAAUxG,KAAKZ,MAAMqhB,cACrBva,QAASlG,KAAKkjB,WAHhB,UAQF,kBAAC,IAAD,CACElc,iBAAkB,kBAAM,kBAAC6Y,EAAD,OACxBzY,UAAU,EACVC,OAAK,EACLC,SAAS,KACTvE,KAAM/C,KAAKZ,MAAMsR,YACjB9L,QAAS5E,KAAKZ,MAAM6iB,YACpBza,SAzMO,SAACpB,EAAKwb,GACrB,IAAMhgB,EAAQ,GAUd,OATqB,IAAjBwE,EAAI+b,WACNvgB,EAAM+G,gBAAkB,UAEL,IAAjBvC,EAAI+b,WACNvgB,EAAM+G,gBAAkB,aAEL,IAAjBvC,EAAIsJ,WACN9N,EAAM+G,gBAAkB,cAEnB/G,GA+LC+iB,UAAWQ,EACXS,SAAUC,IAAgB,CACxBjB,KAAM,QACNkB,cA7JU,SAACC,EAAUC,EAAU5f,EAAKxC,GAC9Cc,QAAQC,IAAIyB,EAAIhD,GAAI4iB,GACpB,EAAK5F,UAAUha,EAAIhD,GAAI4iB,IA4JbC,YAAY,MAgBhB,kBAAC,IAAD,CACEzf,SAAUxG,KAAKZ,MAAMohB,cACrBjiB,MAAM,UACN2H,QAASlG,KAAKwkB,oBAHhB,UAQA,KACiB,IAApBxkB,KAAKZ,MAAM+gB,KACV,6BACE,kBAAC,IAAD,CAAYnQ,QAAQ,KAAKwE,cAAY,GAClCxU,KAAKZ,MAAMyM,SAEd,kBAAC,IAAD,CACEvH,kBAAkB,EAClBC,SAAUvE,KAAKZ,MAAM0hB,OACrB7d,MAAOjD,KAAKZ,MAAMie,cAGpB,KACiB,KAApBrd,KAAKZ,MAAM+gB,KACV,kBAAC,IAAD,CAAYnQ,QAAQ,KAAKwE,cAAY,GAArC,kDAGE,KACiB,IAApBxU,KAAKZ,MAAM+gB,MAAkC,KAApBngB,KAAKZ,MAAM+gB,KACnC,yBAAKjgB,UAAWa,EAAQwO,WACrBvP,KAAKZ,MAAMsR,YAAYnK,OAAS,EAC/B,kBAAC,IAAD,CAAsBmK,YAAa1Q,KAAKZ,MAAMsR,cAC5C,MAEJ,U,GAppCYvQ,aA0pCT+lB,gBAhrCA,CACbnnB,KAAM,CACJqZ,WAAY,mDACZhE,OAAQ,EACRlL,aAAc,EACdJ,UAAW,wCACXvK,MAAO,QACPS,OAAQ,GACRqL,QAAS,UAEXkF,UAAW,CACT7Q,UAAW,KAqqCAwnB,CAAmB1lB,K,mDCzsClC,mGAOe,SAASu3B,EAAkB51B,GACxC,OACE,kBAAC,IAAD,CAAarB,UAAU,YACrB,kBAAC,IAAD,CAAWA,UAAU,UAArB,aACA,kBAAC,IAAD,CACEgJ,aAAW,OACXlJ,KAAK,OACL0F,MAAOnE,EAAMmE,MACbgN,SAAUnR,EAAM21B,cAEhB,kBAAC,IAAD,CAAkBxxB,MAAM,UAAUixB,QAAS,kBAAC,IAAD,MAAW5gB,MAAM,YAC5D,kBAAC,IAAD,CAAkBrQ,MAAM,SAASixB,QAAS,kBAAC,IAAD,MAAW5gB,MAAM,e,iCClBnE,2GASMqhB,EACJ,kBAAC,IAAD,KACGC,IAAO7uB,KAAI,SAAC8uB,EAAM3uB,GACjB,MAAoB,WAAhB2uB,EAAKx2B,OAEL,kBAAC,IAAD,CACEf,KAAMu3B,EAAKx2B,OAASw2B,EAAKv3B,KACzBG,UAAWo3B,EAAKp3B,UAChByI,IAAKA,IAIJ,QAET,kBAAC,IAAD,CAAUmuB,KAAK,SAASvvB,GAAG,kBAIzB/J,EAAYC,YAAWqO,KAEd,SAASyrB,EAAT,GAA4B,oBAAC,IAEpCp3B,EAAU3C,IAEV2Q,EAAY8C,IAAM+jB,YAGlBwC,EAAW,WACf,MAAoC,gBAA7BvZ,OAAOra,SAAS6zB,UAKzB,OACE,yBAAKpxB,IAAK8H,GACR,kBAAC,IAAD,MAECqpB,IACC,yBAAKl4B,UAAWa,EAAQuO,SACtB,yBAAKpP,UAAWa,EAAQwO,WAAYyoB,IAGtC,yBAAK93B,UAAWa,EAAQqI,KAAM4uB,GAE/BI,IAAa,kBAAC,IAAD,MAAa,Q,iCCrDjC,8EAQe,SAASh4B,EAAU+B,GAMhC,OAHAgZ,YAAW,WACThZ,EAAMyE,QAAQC,KAAK,sBAClB,KAED,6BACE,kBAAC,IAAD,CAAe5F,QAAQ,UACrB,kBAAC,IAAD,CAAUE,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC5B,yBAAKO,MAAO,CAAEpD,OAAQ,SACpB,mDACA,kBAAC,IAAD,CACEwR,QAAQ,YACRzR,MAAM,UACNqD,MAAO,CAAEnD,SAAU,MACnByH,QAAS,kBAAM/D,EAAMyE,QAAQC,KAAK,sBAJpC,kB,0YCuGGyxB,EAjHO,SAAAzpB,GAAK,MAAK,CAC9B0pB,WAAW,eACR1pB,EAAMG,YAAYwpB,KAAK,MAAQ,CAC9Bx0B,QAAS,OACTwF,WAAY,OACZvE,MAAO,SAGXwzB,MAAM,aACJxzB,MAAO,OACPjG,OAAQ,OACRg0B,OAAQ,KACPnkB,EAAMG,YAAYwpB,KAAK,MAAQ,CAC9Bx0B,QAAS,QACTiB,MAAO,OACPjG,OAAQ,OACRT,MAAOsK,IAAU,GACjB4D,YAAa,SAGjBisB,SAAS,yBACP1F,OAAQ,KACL7oB,KAFG,IAGN1L,SAAU,SAEZk6B,YAAa,CACXthB,cAAe,QAEjBuhB,iBAAiB,eACd/pB,EAAMG,YAAYwpB,KAAK,MAAQ,CAC9BxF,OAAQ,OACR/pB,SAAU,SACVtC,MAAO,OACP1B,MAAO,OACPvG,UAAW,IACXiK,gBAAiB,cACjByL,OAAQ,IACRykB,gBAAiB,OACjB/vB,UAAW,OACXvK,MAAO,UAGXu6B,UAAU,eACPjqB,EAAMG,YAAYwpB,KAAK,MAAQ,CAC9BvvB,SAAU,oBACVD,KAAM,mBACND,IAAK,mBACLtC,UAAW,kBACXsyB,WAAY,mBACZ,UAAW,CACTjwB,UAAW,kBACXU,WAAY,OACZiD,YAAa,OACb0C,WAAY,kBACZzQ,UAAW,iBACXP,aAAc,iBACdkM,QAAS,iBACT1B,gBAAiB,yBACjB,UAAW,CACTpK,MAAO+L,IAAa,cACpB9L,OAAQ,wBACR6L,QAAS,uBACT,UAAW,CACT1B,gBAAiB,oBACjBG,UAAW,YAMrBkwB,SAAU,CACR9vB,aAAc,MACdkL,OAAQ,IACRtL,UAAW,oBAAsBF,YAAS4B,KAAc,UACxDzB,IAAK,OACLiqB,OAAQ,OACRzoB,SAAU,QACVF,QAAS,QACT7L,OAAQ,UACRC,SAAU,OACVoD,UAAW,OACXo3B,UAAW,OACXtwB,gBAAiB2B,IACjB4uB,qBAAsB,cACtBC,eAAgB,eAElBC,aAAa,2BACRjvB,KADO,IAEV1L,SAAU,OACV4L,QAAS,YACT7L,OAAQ,QACR0K,aAAc,MACdmwB,iBAAkB,mBAClBC,cAAe,mBACfC,YAAa,mBACbC,aAAc,mBACdrqB,WAAY,mBACZnL,QAAS,QACTy1B,MAAO,OACPx7B,WAAY,MACZa,WAAY,aACZP,MAAOsK,IAAU,GACjBzD,WAAY,SACZpG,OAAQ,QACRJ,UAAW,QACX,UAAU,aACR+J,gBAAiB6C,IAAa,GAC9BjN,MAAO+L,KACJmB,SCNMiuB,EAxGU,SAAA7qB,GAAK,4CACzBypB,EAAczpB,IADW,IAE5B8qB,OAAO,aACL,UAAW,CACTj7B,UAAW,MAEZmQ,EAAMG,YAAYwpB,KAAK,MAAQ,CAC9Bh6B,OAAQ,uBACRmI,MAAO,kBACP+K,WAAY,MACZkoB,cAAe,MACfvvB,QAAS,cACTpF,MAAO,MACPvG,UAAW,OACX,UAAW,CACTH,MAAO+L,OAIbouB,SAAS,yBACP1F,OAAQ,KACL7oB,KAFG,IAGN1L,SAAU,OACVD,OAAQ,QAEV+5B,WAAW,eACR1pB,EAAMG,YAAYwpB,KAAK,MAAQ,CAC9Bx0B,QAAS,OACTxF,OAAQ,cACRyG,MAAO,yBACP,QAAS,CACPA,MAAO,OACPjG,OAAQ,OACRyN,YAAa,OACbjD,WAAY,SAEd,gDAAiD,CAC/C/K,SAAU,OACVK,WAAY,OACZmG,MAAO,OACPjG,OAAQ,OACRyN,YAAa,OACbjD,WAAY,SAEd,WAAY,CACV6G,eAAgB,aAChBpL,MAAO,UAIb40B,aAAa,eACVhrB,EAAMG,YAAYwpB,KAAK,MAAQ,CAC9BzvB,IAAK,mBACL0D,YAAa,OACb9F,MAAO,UAGXnI,OAAQ,CACNw0B,OAAQ,IACRx0B,OAAQ,KAEVs7B,WAAY,CACV70B,MAAO,OACP+tB,OAAQ,KAEV+G,eAAa,GACX/G,OAAQ,KADG,cAEVnkB,EAAMG,YAAYC,GAAG,MAAQ,CAC5BhG,SAAU,WACVF,IAAK,MACLqL,OAAQ,aAAe9J,IACvB6F,MAAO,MACP1R,SAAU,MACV2Z,WAAY/M,IAAY,GACxB9M,MAAO+L,IACPC,SAAU,OACVvL,OAAQ,OACRkK,aAAc,OACdrH,UAAW,SACX/C,WAAY,OACZk7B,cAAe,SACfh2B,QAAS,UAhBA,cAkBV6K,EAAMG,YAAYwpB,KAAK,MAlBb,2BAmBNruB,KAnBM,IAoBT1L,SAAU,OACVgO,YAAa,SArBJ,GAwBbwtB,SAAO,mBACJprB,EAAMG,YAAYwpB,KAAK,MAAQ,CAC9BvzB,MAAO,SAFJ,wBAII,gBAJJ,GAMPi1B,eAAa,mBACVrrB,EAAMG,YAAYwpB,KAAK,MAAQ,CAC9BvzB,MAAO,yBACPzG,OAAQ,gBAHC,wBAKF,gBALE,M,gBC8OA27B,EAxUK,CAClBC,OAAQ,CACNx7B,UAAW,OACX2L,SAAU,OACV5B,gBAAiBE,IAAU,GAC3BtK,MAAO+L,IACPxB,UACE,oBACAF,YAASC,IAAU,IACnB,gCACAD,YAASC,IAAU,IACnB,4BACAD,YAASC,IAAU,IACnB,UACFuL,OAAQ,OACRlL,aAAc,MACdD,SAAU,WACVoB,QAAS,YACT7L,OAAQ,eACRC,SAAU,OACVR,WAAY,MACZge,cAAe,YACfoe,cAAe,IACftB,WAAY,wBACZ5pB,WACE,iGACFrQ,WAAY,aACZ+C,UAAW,SACXuD,WAAY,SACZ40B,cAAe,SACfM,YAAa,eACb7yB,OAAQ,UACR,kBAAmB,CACjBlJ,MAAO+L,IACP3B,gBAAiBE,IAAU,GAC3BC,UACE,0BACAF,YAASC,IAAU,IACnB,gCACAD,YAAS4B,KACT,iCACA5B,YAASC,IAAU,IACnB,UAEJ,gDAAiD,CAC/CI,SAAU,WACVjF,QAAS,eACT+E,IAAK,IACLrK,UAAW,OACXP,aAAc,OACdM,SAAU,SACVgO,YAAa,MACbutB,cAAe,UAEjB,QAAS,CACP/wB,SAAU,WACVjF,QAAS,eACT+E,IAAK,IACL9D,MAAO,OACPjG,OAAQ,OACRyN,YAAa,MACbutB,cAAe,UAEjB,aAAc,CACZ,gDAAiD,CAC/Ct7B,UAAW,MACXuK,SAAU,WACVhE,MAAO,OACPwB,UAAW,OACXuC,KAAM,MACND,IAAK,MACL/J,OAAQ,OACRF,WAAY,OACZL,SAAU,UAIhB87B,MAAO,CACL,oBAAqB,CACnB5xB,gBAAiB2B,IACjB/L,MAAOsK,IAAU,KAGrB6C,KAAM,CACJ/C,gBAAiBgD,IAAU,GAC3B7C,UACE,oBACAF,YAAS+C,IAAU,IACnB,gCACA/C,YAAS+C,IAAU,IACnB,4BACA/C,YAAS+C,IAAU,IACnB,UACF,kBAAmB,CACjBhD,gBAAiBgD,IAAU,GAC3B7C,UACE,0BACAF,YAAS+C,IAAU,IACnB,gCACA/C,YAAS4B,KACT,iCACA5B,YAAS+C,IAAU,IACnB,WAGNJ,QAAS,CACP5C,gBAAiB6C,IAAa,GAC9B1C,UACE,oBACAF,YAAS4C,IAAa,IACtB,gCACA5C,YAAS4C,IAAa,IACtB,4BACA5C,YAAS4C,IAAa,IACtB,UACF,kBAAmB,CACjB7C,gBAAiB6C,IAAa,GAC9B1C,UACE,0BACAF,YAAS4C,IAAa,IACtB,gCACA5C,YAAS4B,KACT,iCACA5B,YAAS4C,IAAa,IACtB,WAGNb,KAAM,CACJhC,gBAAiBiC,IAAU,GAC3B9B,UACE,oBACAF,YAASgC,IAAU,IACnB,gCACAhC,YAASgC,IAAU,IACnB,4BACAhC,YAASgC,IAAU,IACnB,UACF,kBAAmB,CACjBjC,gBAAiBiC,IAAU,GAC3B9B,UACE,0BACAF,YAASgC,IAAU,IACnB,gCACAhC,YAAS4B,KACT,iCACA5B,YAASgC,IAAU,IACnB,WAGNE,QAAS,CACPnC,gBAAiBoC,IAAa,GAC9BjC,UACE,oBACAF,YAASmC,IAAa,IACtB,gCACAnC,YAASmC,IAAa,IACtB,4BACAnC,YAASmC,IAAa,IACtB,UACF,kBAAmB,CACjBpC,gBAAiBoC,IAAa,GAC9BjC,UACE,0BACAF,YAASmC,IAAa,IACtB,gCACAnC,YAAS4B,KACT,iCACA5B,YAASmC,IAAa,IACtB,WAGNE,QAAS,CACPtC,gBAAiBuC,IAAa,GAC9BpC,UACE,oBACAF,YAASsC,IAAa,IACtB,gCACAtC,YAASsC,IAAa,IACtB,4BACAtC,YAASsC,IAAa,IACtB,UACF,kBAAmB,CACjBvC,gBAAiBuC,IAAa,GAC9BpC,UACE,0BACAF,YAASsC,IAAa,IACtB,gCACAtC,YAAS4B,KACT,iCACA5B,YAASsC,IAAa,IACtB,WAGNE,OAAQ,CACNzC,gBAAiB0C,IAAY,GAC7BvC,UACE,oBACAF,YAASyC,IAAY,IACrB,gCACAzC,YAASyC,IAAY,IACrB,4BACAzC,YAASyC,IAAY,IACrB,UACF,kBAAmB,CACjB1C,gBAAiB0C,IAAY,GAC7BvC,UACE,0BACAF,YAASyC,IAAY,IACrB,gCACAzC,YAAS4B,KACT,iCACA5B,YAASyC,IAAY,IACrB,WAGNmvB,OAAQ,CACN,oBAAqB,CACnBj8B,MAAO+L,IACP8N,WAAY,cACZtP,UAAW,QAEb,SAAU,CACR,8BAA+B,CAC7BvK,MAAOoN,IAAU,KAGrB,YAAa,CACX,8BAA+B,CAC7BpN,MAAOiN,IAAa,KAGxB,SAAU,CACR,8BAA+B,CAC7BjN,MAAOqM,IAAU,KAGrB,YAAa,CACX,8BAA+B,CAC7BrM,MAAOwM,IAAa,KAGxB,YAAa,CACX,8BAA+B,CAC7BxM,MAAO2M,IAAa,KAGxB,WAAY,CACV,8BAA+B,CAC7B3M,MAAO8M,IAAY,MAIzBovB,YAAa,CACX,oBAAqB,CACnBl8B,MAAO,UACP6Z,WAAY,cACZtP,UAAW,SAGftC,SAAU,CACRuK,QAAS,OACTsG,cAAe,QAEjBqjB,GAAI,CACFrwB,QAAS,mBACT5L,SAAU,WACVK,WAAY,WACZoK,aAAc,UAEhB9H,GAAI,CACFiJ,QAAS,qBACT5L,SAAU,YACVK,WAAY,MACZoK,aAAc,UAEhByxB,MAAO,CACLzxB,aAAc,QAEhB8S,MAAO,CACL/W,MAAO,mBAET8Z,KAAM,CACJ,oBAAqB,CACnBpW,gBAAiB,cACjBpK,MAAOsK,IAAU,GACjBC,UAAW,SAGf8xB,SAAU,CACRruB,YAAa,OACb2L,aAAc,OACdzZ,SAAU,OACVO,OAAQ,OACRuL,SAAU,OACVtF,MAAO,OACP,sDAAuD,CACrDwH,YAAa,OAEf,OAAQ,CACNzN,OAAQ,OACRuL,SAAU,OACVtF,MAAO,OACPnG,WAAY,OACZ,gDAAiD,CAC/CL,SAAU,OACVK,WAAY,QAEd,QAAS,CACPmG,MAAO,OACPjG,OAAQ,SAGZ,OAAQ,CACNA,OAAQ,OACRuL,SAAU,OACVtF,MAAO,OACP,gDAAiD,CAC/CxG,SAAU,OACVK,WAAY,QAEd,QAAS,CACPmG,MAAO,OACPjG,OAAQ,WCnUVZ,EAAYC,YAAWqO,GAEd,SAASmuB,EAAc14B,GAAQ,IAAD,EACrCpB,EAAU3C,IAEdG,EAYE4D,EAZF5D,MACAo8B,EAWEx4B,EAXFw4B,MACAnsB,EAUErM,EAVFqM,SACAhI,EASErE,EATFqE,SACAg0B,EAQEr4B,EARFq4B,OACAvqB,EAOE9N,EAPF8N,KACA+L,EAME7Z,EANF6Z,MACA+C,EAKE5c,EALF4c,KACA6b,EAIEz4B,EAJFy4B,SACA16B,EAGEiC,EAHFjC,UACA46B,EAEE34B,EAFF24B,WACGrsB,EAdsC,YAevCtM,EAfuC,4GAgBrC44B,EAAa9tB,KAAU,mBAC1BlM,EAAQq5B,QAAS,GADS,cAE1Br5B,EAAQkP,GAAQA,GAFU,cAG1BlP,EAAQxC,GAASA,GAHS,cAI1BwC,EAAQ45B,MAAQA,GAJU,cAK1B55B,EAAQyF,SAAWA,GALO,cAM1BzF,EAAQy5B,OAASA,GANS,cAO1Bz5B,EAAQib,MAAQA,GAPU,cAQ1Bjb,EAAQge,KAAOA,GARW,cAS1Bhe,EAAQ65B,SAAWA,GATO,cAU1B16B,EAAYA,GAVc,IAY7B,OACE,kBAAC86B,EAAA,EAAD,iBAAYvsB,EAAZ,CAAkB1N,QAAS+5B,EAAY56B,UAAW66B,IAC/CvsB,G,mECyBQysB,GA7DU,CACvBz0B,SAAU,CACR,WAAY,CACVmC,gBAAiB,2BAGrBuyB,UAAW,CACT,yCAA0C,CACxCpG,YAAajsB,IAAU,GAAK,cAC5BksB,YAAa,kBAEf,UAAW,CACTD,YAAatpB,IAAa,KAG9B2vB,eAAgB,CACd,UAAW,CACTrG,YAAazpB,IAAY,KAG7B+vB,iBAAkB,CAChB,UAAW,CACTtG,YAAa/pB,IAAa,KAG9BswB,UAAU,2BACLlxB,KADI,IAEP5L,MAAOsK,IAAU,GAAK,cACtB5K,WAAY,MACZQ,SAAU,OACVK,WAAY,UACZu7B,cAAe,UAEjBiB,eAAgB,CACd/8B,MAAO8M,IAAY,IAErBkwB,iBAAkB,CAChBh9B,MAAOwM,IAAa,IAEtBywB,SAAU,CACRvyB,SAAU,WACVF,IAAK,OACLoH,MAAO,IACP6iB,OAAQ,IACRhvB,QAAS,QACTiB,MAAO,OACPjG,OAAQ,OACR6C,UAAW,SACXwV,cAAe,QAEjB3Y,UAAW,CACTA,UAAW,QAEb+8B,YAAa,CACX7B,cAAe,OACfp7B,OAAQ,aACRyK,SAAU,WACV+wB,cAAe,UCnDb57B,GAAYC,YAAWqO,IAEd,SAASgvB,GAAYv5B,GAAQ,IAAD,IACnCpB,EAAU3C,KAEdu9B,EAOEx5B,EAPFw5B,iBACAC,EAMEz5B,EANFy5B,UACAx4B,EAKEjB,EALFiB,GACAy4B,EAIE15B,EAJF05B,WACAC,EAGE35B,EAHF25B,WACAx4B,EAEEnB,EAFFmB,MACAwH,EACE3I,EADF2I,QAGIixB,EAAe9uB,KAAU,mBAC5B,IAAMlM,EAAQu6B,eAAiBh4B,GADH,cAE5B,IAAMvC,EAAQw6B,iBAAmBzwB,IAAYxH,GAFjB,IAIzB04B,EAAmB/uB,KAAU,mBAChClM,EAAQo6B,eAAiB73B,GADO,cAEhCvC,EAAQq6B,iBAAmBtwB,IAAYxH,GAFP,cAGhCvC,EAAQm6B,WAAY,GAHY,IAK7Bx8B,EAAYuO,IAAW,eAC1BlM,EAAQrC,eAA0BwO,IAAd0uB,IAEvB,OACE,kBAACK,EAAA,EAAD,iBACMN,EADN,CAEEz7B,UAAWy7B,EAAiBz7B,UAAY,IAAMa,EAAQ06B,mBAEvCvuB,IAAd0uB,EACC,kBAACM,EAAA,EAAD,eACEh8B,UAAWa,EAAQs6B,UAAYU,EAC/BjT,QAAS1lB,GACLy4B,GAEHD,GAED,KACJ,kBAACO,EAAA,EAAD,eACEp7B,QAAS,CACPhC,KAAML,EACN8H,SAAUzF,EAAQyF,SAClB00B,UAAWc,GAEb54B,GAAIA,GACA04B,IAELx4B,EACC,kBAAC,IAAD,CAAOpD,UAAWa,EAAQy6B,SAAW,IAAMz6B,EAAQu6B,iBACjDxwB,EACF,kBAAC,IAAD,CAAO5K,UAAWa,EAAQy6B,SAAW,IAAMz6B,EAAQw6B,mBACjD,MC7CV,IAAMn9B,GAAYC,YAAWqO,GAEd,SAAS0vB,KACtB,IAAMr7B,EAAU3C,KADyB,EAEOyT,IAAMC,SAAS,MAFtB,mBAElCuqB,EAFkC,KAEhBC,EAFgB,OAGHzqB,IAAMC,SAAS,MAHZ,mBAGlCyqB,EAHkC,KAGrBC,EAHqB,KAWnCC,EAA0B,WAC9BH,EAAoB,OAShBI,EAAqB,WACzBF,EAAe,OAEjB,OACE,6BACE,yBAAKt8B,UAAWa,EAAQm5B,eACtB,kBAACwB,GAAD,CACEC,iBAAkB,CAChBz7B,UAAWa,EAAQvC,OAAS,IAAMuC,EAAQ44B,QAE5CmC,WAAY,CACV/S,YAAa,SACb+S,WAAY,CACV,aAAc,aAIpB,kBAAC,EAAD,CAAQv9B,MAAM,QAAQuL,aAAW,OAAO8wB,UAAQ,EAACD,OAAK,GACpD,kBAAC,IAAD,QAGJ,kBAAC,EAAD,CACExyB,GAAG,aACH5J,MAAOsgB,OAAO8d,WAAa,IAAM,cAAgB,QACjD/B,SAAU/b,OAAO8d,WAAa,IAC9BnC,SAAU3b,OAAO8d,WAAa,KAC9B7yB,aAAW,YACX5J,UAAWa,EAAQw3B,YAEnB,kBAAC,IAAD,CAAWr4B,UAAWa,EAAQ67B,QAC9B,kBAACC,EAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,OAC1B,uBAAG78B,UAAWa,EAAQ23B,UAAtB,eAGJ,yBAAKx4B,UAAWa,EAAQk5B,SACtB,kBAAC,EAAD,CACE17B,MAAOsgB,OAAO8d,WAAa,IAAM,cAAgB,QACjD/B,SAAU/b,OAAO8d,WAAa,IAC9BnC,SAAU3b,OAAO8d,WAAa,KAC9BK,YAAWX,EAAmB,8BAAgC,KAC9DY,gBAAc,OACd/2B,QA1DwB,SAAAgN,GAC1BmpB,GAAoBA,EAAiBa,SAAShqB,EAAMK,QACtD+oB,EAAoB,MAEpBA,EAAoBppB,EAAME,gBAuDtBlT,UAAWa,EAAQw3B,YAEnB,kBAAC,IAAD,CAAer4B,UAAWa,EAAQ67B,QAClC,0BAAM18B,UAAWa,EAAQg5B,eAAzB,KACA,kBAAC8C,EAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,OAC1B,uBAAG72B,QAASu2B,EAAyBv8B,UAAWa,EAAQ23B,UAAxD,kBAKJ,kBAACyE,EAAA,EAAD,CACEtwB,KAAMkH,QAAQsoB,GACdtqB,SAAUsqB,EACVltB,YAAU,EACViuB,eAAa,EACbl9B,UACE+M,IAAW,eAAGlM,EAAQ43B,aAAe0D,IACrC,IACAt7B,EAAQ+3B,YAGT,gBAAGuE,EAAH,EAAGA,gBAAiBC,EAApB,EAAoBA,UAApB,OACC,kBAACC,EAAA,EAAD,iBACMF,EADN,CAEEj6B,GAAG,8BACHxB,MAAO,CACL0V,gBACgB,WAAdgmB,EAAyB,aAAe,mBAG5C,kBAACE,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAmBC,YAAajB,GAC9B,kBAACkB,EAAA,EAAD,CAAU7vB,KAAK,QACb,kBAAC8vB,EAAA,EAAD,CACE13B,QAASu2B,EACTv8B,UAAWa,EAAQq4B,cAFrB,qCAMA,kBAACwE,EAAA,EAAD,CACE13B,QAASu2B,EACTv8B,UAAWa,EAAQq4B,cAFrB,wBAMA,kBAACwE,EAAA,EAAD,CACE13B,QAASu2B,EACTv8B,UAAWa,EAAQq4B,cAFrB,MAIM,IAJN,6BAMA,kBAACwE,EAAA,EAAD,CACE13B,QAASu2B,EACTv8B,UAAWa,EAAQq4B,cAFrB,wBAMA,kBAACwE,EAAA,EAAD,CACE13B,QAASu2B,EACTv8B,UAAWa,EAAQq4B,cAFrB,uBAad,yBAAKl5B,UAAWa,EAAQk5B,SACtB,kBAAC,EAAD,CACE17B,MAAOsgB,OAAO8d,WAAa,IAAM,cAAgB,QACjD/B,SAAU/b,OAAO8d,WAAa,IAC9BnC,SAAU3b,OAAO8d,WAAa,KAC9BK,YAAWT,EAAc,yBAA2B,KACpDU,gBAAc,OACd/2B,QA9HmB,SAAAgN,GACrBqpB,GAAeA,EAAYW,SAAShqB,EAAMK,QAC5CipB,EAAe,MAEfA,EAAetpB,EAAME,gBA2HjBlT,UAAWa,EAAQw3B,YAEnB,kBAAC,IAAD,CAAQr4B,UAAWa,EAAQ67B,QAC3B,kBAACC,EAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,OAC1B,uBAAG78B,UAAWa,EAAQ23B,UAAtB,aAGJ,kBAACyE,EAAA,EAAD,CACEtwB,KAAMkH,QAAQwoB,GACdxqB,SAAUwqB,EACVptB,YAAU,EACViuB,eAAa,EACbl9B,UACE+M,IAAW,eAAGlM,EAAQ43B,aAAe4D,IACrC,IACAx7B,EAAQ+3B,YAGT,gBAAGuE,EAAH,EAAGA,gBAAiBC,EAApB,EAAoBA,UAApB,OACC,kBAACC,EAAA,EAAD,iBACMF,EADN,CAEEj6B,GAAG,yBACHxB,MAAO,CACL0V,gBACgB,WAAdgmB,EAAyB,aAAe,mBAG5C,kBAACE,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAmBC,YAAahB,GAC9B,kBAACiB,EAAA,EAAD,CAAU7vB,KAAK,QACb,kBAAC8vB,EAAA,EAAD,CACE13B,QAASw2B,EACTx8B,UAAWa,EAAQq4B,cAFrB,WAMA,kBAACwE,EAAA,EAAD,CACE13B,QAASw2B,EACTx8B,UAAWa,EAAQq4B,cAFrB,YAMA,kBAACyE,EAAA,EAAD,CAASvZ,OAAK,IACd,kBAACsZ,EAAA,EAAD,CACE13B,QAASw2B,EACTx8B,UAAWa,EAAQq4B,cAFrB,mBC/LpB,IA8Re0E,GA9RM,SAAAjvB,GAAK,cAAK,CAC7BkvB,YAAY,yBACV3pB,OAAQ,OACRnL,SAAU,QACVF,IAAK,IACLmH,OAAQ,IACRlH,KAAM,IACNgqB,OAAQ,IACRrqB,gBAAiB,QAAUC,YAASC,IAAU,IAAM,UACjDC,KARM,OAST7D,MAAOiK,KATE,cAURL,EAAMG,YAAYC,GAAG,MAAQ,CAC5BhK,MAAOiK,IACPjG,SAAU,QACVF,IAAK,MACL/J,OAAQ,QAdD,cAgBR6P,EAAMG,YAAYwpB,KAAK,MAhBf,yBAiBPvzB,MAAOiK,KACJpG,KAlBI,IAmBPG,SAAU,QACVjF,QAAS,QACT+E,IAAK,IACL/J,OAAQ,QACRmR,MAAO,IACPnH,KAAM,OACNgqB,OAAQ,OACRgL,WAAY,UACZ70B,UAAW,UACXwP,UAAW,OACX9W,UAAW,OACXqW,aAAc,MACd3L,YAAa,IACb9F,UAAU,eAAD,OAAiByI,IAAjB,cACNC,MAjCI,IAoCX8uB,gBAAc,mBACXpvB,EAAMG,YAAYC,GAAG,MAAQ,CAC5BjG,KAAM,kBACNmH,MAAO,iBAHG,cAKXtB,EAAMG,YAAYwpB,KAAK,MAAQ,CAC9BxvB,KAAM,gBACNmH,MAAO,oBAPG,GAUdnG,KAAM,CACJf,SAAU,WACVoB,QAAS,YACT2oB,OAAQ,IACR,UAAW,CACT1jB,QAAS,KACTrG,SAAU,WACViH,OAAQ,IAERlR,OAAQ,MACRmR,MAAO,OACPlL,MAAO,oBACP0D,gBAAiB,QAAUC,YAASC,IAAU,IAAM,WAGxDq1B,SAAS,2BACJ/zB,KADG,IAEN8R,cAAe,YACf5R,QAAS,QACTrG,QAAS,QACTvF,SAAU,OACVoD,UAAW,OACX5D,WAAY,MACZa,WAAY,OACZZ,eAAgB,OAChByK,gBAAiB,cACjB,YAAa,CACXpK,MAAO+L,OAGX6zB,YAAa,CACXt8B,UAAW,SAEbu8B,UAAW,CACTn5B,MAAO,OACPjB,QAAS,eACToL,UAAW,OACX5F,WAAY,OACZiD,YAAa,QAEf4xB,IAAK,CACHp5B,MAAO,OACP8D,IAAK,OACLE,SAAU,WACV+wB,cAAe,SACf5lB,OAAQ,KAEVgE,WAAY,CACVnP,SAAU,WACV+pB,OAAQ,IACRh0B,OAAQ,OACRiG,MAAO,OACPjB,QAAS,QACT+E,IAAK,IACLC,KAAM,IACNsL,eAAgB,QAChBgqB,mBAAoB,gBACpB,UAAW,CACTr1B,SAAU,WACV+pB,OAAQ,IACR/tB,MAAO,OACPjG,OAAQ,OACRsQ,QAAS,KACTtL,QAAS,QACToU,WAAY5N,IACZuG,QAAS,OAGboL,KAAM,CACJzd,UAAW,OACX6N,YAAa,IACbmF,WAAY,IACZkoB,cAAe,IACfz7B,aAAc,IACd86B,UAAW,OACXhwB,SAAU,SAEZI,KAAM,CACJJ,SAAU,WACVjF,QAAS,QACT9F,eAAgB,OAChB+G,MAAOiK,IACP,8BAA+B,CAC7B3Q,MAAO+L,MAGXi0B,SAAS,aACPt5B,MAAO,OACPkK,WAAY,mBACZ3Q,OAAQ,cACR0K,aAAc,MACdD,SAAU,WACVjF,QAAS,QACTqG,QAAS,YACT1B,gBAAiB,eACdwB,KAELq0B,SAAU,CACRv5B,MAAO,OACPjG,OAAQ,OACRP,SAAU,OACVK,WAAY,OACZ6H,MAAO,OACP8F,YAAa,OACb5K,UAAW,SACXm4B,cAAe,SACfz7B,MAAO,QAAUqK,YAAS0B,KAAc,UAE1Cm0B,YAAa,CACXhyB,YAAa,MACbjD,WAAY,OACZ7C,MAAO,SAET+3B,SAAS,2BACJv0B,KADG,IAEN3L,OAAQ,IACRM,WAAY,OACZL,SAAU,OACVF,MAAO+L,MAETq0B,YAAa,CACX98B,UAAW,SAEb+8B,UAAW,CACTrgC,MAAO+L,KAETu0B,OAAO,yBACLl2B,gBAAiB6C,IAAa,IAC3BC,KAFC,IAGJ,kBAAkB,aAChB9C,gBAAiB6C,IAAa,IAC3BC,OAGPqzB,KAAM,CACJn2B,gBAAiBiC,IAAU,GAC3B9B,UACE,0BACAF,YAASgC,IAAU,IACnB,4BACAhC,YAAS4B,KACT,8BACA5B,YAASgC,IAAU,IACnB,OACF,kBAAmB,CACjBjC,gBAAiBiC,IAAU,GAC3B9B,UACE,0BACAF,YAASgC,IAAU,IACnB,4BACAhC,YAAS4B,KACT,8BACA5B,YAASgC,IAAU,IACnB,SAGNm0B,MAAO,CACLp2B,gBAAiBoC,IAAa,GAC9BjC,UACE,0BACAF,YAASmC,IAAa,IACtB,4BACAnC,YAAS4B,KACT,8BACA5B,YAASmC,IAAa,IACtB,OACF,kBAAmB,CACjBpC,gBAAiBoC,IAAa,GAC9BjC,UACE,0BACAF,YAASmC,IAAa,IACtB,4BACAnC,YAAS4B,KACT,8BACA5B,YAASmC,IAAa,IACtB,SAGNi0B,OAAQ,CACNr2B,gBAAiBuC,IAAa,GAC9BpC,UACE,0BACAF,YAASsC,IAAa,IACtB,4BACAtC,YAAS4B,KACT,8BACA5B,YAASsC,IAAa,IACtB,OACF,kBAAmB,CACjBvC,gBAAiBuC,IAAa,GAC9BpC,UACE,0BACAF,YAASsC,IAAa,IACtB,4BACAtC,YAAS4B,KACT,8BACA5B,YAASsC,IAAa,IACtB,SAGN+zB,IAAK,CACHt2B,gBAAiB0C,IAAY,GAC7BvC,UACE,0BACAF,YAASyC,IAAY,IACrB,4BACAzC,YAAS4B,KACT,8BACA5B,YAASyC,IAAY,IACrB,OACF,kBAAmB,CACjB1C,gBAAiB0C,IAAY,GAC7BvC,UACE,0BACAF,YAASyC,IAAY,IACrB,4BACAzC,YAAS4B,KACT,8BACA5B,YAASyC,IAAY,IACrB,SAGN6zB,eAAgB,CACdj2B,SAAU,WACVjK,OAAQ,qBACRsG,SAAU,OACVL,MAAO,QACP+tB,OAAQ,IACR3jB,kBAAmB,SAErB8vB,UAAU,eACPtwB,EAAMG,YAAYC,GAAG,MAAQ,CAC5BhG,SAAU,WACVhE,MAAO,OACPiL,OAAQ,W,6BCrRR9R,GAAYC,YAAWqO,IA4Hd9E,qBA1Hf,SAAiBzF,GACf,IAAMpB,EAAU3C,KAEhB,SAASghC,EAAYC,GACnB,OAAOxgB,OAAOra,SAASiY,KAAKlP,QAAQ8xB,IAAc,EAEpD,IAAM3/B,EAAQC,aAAaC,UAErBuO,EADUrO,KAAWJ,GAIzByC,EAAM81B,OAAO7uB,KAAI,SAACgM,GACZA,EAAG1T,OAAS0T,EAAGzU,OAASwB,EAAMqC,SAAS6zB,UACrCjjB,EAAG3V,OAAS0O,EAAK1O,QACnB0C,EAAMyE,QAAQC,KAAK,gBAdL,IAqBdtI,EAAyC4D,EAAzC5D,MAAa+gC,GAA4Bn9B,EAAlC6H,KAAkC7H,EAA5Bm9B,OAAiBrH,GAAW91B,EAArBo9B,SAAqBp9B,EAAX81B,QAClCQ,EACF,kBAACnc,EAAA,EAAD,CAAMpc,UAAWa,EAAQob,MACtB8b,EAAO7uB,KAAI,SAAC8uB,EAAM3uB,GACjB,IAKIi2B,EALE9/B,EAAQC,aAAaC,UAErBuO,EADUrO,KAAWJ,GAMzB8/B,EADgB,MAAdtH,EAAKv3B,KACWsM,IAAW,eAC1B,IAAMlM,EAAQxC,IAAS,IAGR0O,IAAW,eAC1B,IAAMlM,EAAQxC,GAAS6gC,EAAYlH,EAAKx2B,OAASw2B,EAAKv3B,QAG3D,IAAM8+B,EAAmBxyB,IAAW,eACjC,IAAMlM,EAAQ69B,UAAYQ,EAAYlH,EAAKx2B,OAASw2B,EAAKv3B,QAE5D,GAAIu3B,EAAKz4B,QAAU0O,EAAK1O,SAAWy4B,EAAKv2B,OACtC,OACE,kBAAC,IAAD,CACEwG,GAAI+vB,EAAKx2B,OAASw2B,EAAKv3B,KACvBT,UAlBU,IAkBaa,EAAQsI,KAC/Bq2B,gBAAgB,SAChBn2B,IAAKA,GAEL,kBAACgT,EAAA,EAAD,CAAU6d,QAAM,EAACl6B,UAAWa,EAAQw9B,SAAWiB,GACvB,kBAAdtH,EAAKr3B,KACX,kBAAC8+B,EAAA,EAAD,CACEz/B,UAAW+M,IAAWlM,EAAQy9B,SAAUiB,IAEvCvH,EAAKr3B,MAGR,kBAACq3B,EAAKr3B,KAAN,CACEX,UAAW+M,IAAWlM,EAAQy9B,SAAUiB,KAG5C,kBAACG,EAAA,EAAD,CACEr0B,QAASpJ,EAAM2K,UAAYorB,EAAK2H,QAAU3H,EAAKt3B,KAC/CV,UAAW+M,IAAWlM,EAAQ29B,SAAUe,GACxCK,mBAAmB,UAUnC,OACE,6BACE,kBAACjD,EAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,OAC1B,kBAACgD,EAAA,EAAD,CACE/vB,QAAQ,YACRgwB,OAAO,OACPnzB,KAAM1K,EAAM0K,KACZ9L,QAAS,CACPurB,MAAOrf,IAAWlM,EAAQg9B,cAE5BznB,QAASnU,EAAM89B,mBACfC,WAAY,CACVC,aAAa,IAGf,yBAAKjgC,UAAWa,EAAQm+B,gBACtB,kBAAC9C,GAAD,MACC3D,KAIP,kBAACoE,EAAA,EAAD,CAAQuD,QAAM,EAACrD,eAAe,OAC5B,kBAACgD,EAAA,EAAD,CACE/vB,QAAQ,YACRnD,MAAI,EACJ9L,QAAS,CACPurB,MAAOrf,IAAWlM,EAAQg9B,eAG5B,yBAAK79B,UAAWa,EAAQm+B,gBAAiBzG,QAC9BvrB,IAAVoyB,EAAsB,yBAAKp/B,UAAWa,EAAQqX,aAAiB,W,oBClHpE4f,GACJ,kBAAC,KAAD,KACGC,KAAO7uB,KAAI,SAAC8uB,EAAM3uB,GACjB,MAAoB,WAAhB2uB,EAAKx2B,OAEL,kBAAC,KAAD,CACEf,KAAMu3B,EAAKx2B,OAASw2B,EAAKv3B,KACzBG,UAAWo3B,EAAKp3B,UAChByI,IAAKA,IAIJ,QAET,kBAAC,KAAD,CAAUmuB,KAAK,SAASvvB,GAAG,2BAIzB/J,GAAYC,YAAWqO,KAEd,SAAS2zB,GAAT,GAA6B,IAAT5xB,EAAQ,oBAEnC1N,EAAU3C,KAEV2Q,EAAY8C,IAAM+jB,YAJiB,EAMzB/jB,IAAMC,SAASwuB,KAAxBhB,EANkC,sBAOzBztB,IAAMC,SAAS,QAAxBvT,EAPkC,sBAQLsT,IAAMC,UAAS,GARV,mBAQlCyuB,EARkC,KAQtBC,EARsB,KAYnCpI,EAAW,WACf,MAAoC,gBAA7BvZ,OAAOra,SAAS6zB,UAEnBoI,EAAiB,WACjB5hB,OAAO8d,YAAc,KACvB6D,GAAc,IAoBlB,OAfA3uB,IAAM2B,WAAU,WAMd,OALIktB,UAAUC,SAASpzB,QAAQ,QAAU,IACvCyR,SAASI,KAAKxd,MAAM0D,SAAW,UAEjCuZ,OAAO+hB,iBAAiB,SAAUH,GAE3B,WACDC,UAAUC,SAASpzB,QAAQ,OAE/BsR,OAAOgiB,oBAAoB,SAAUJ,MAEtC,CAAC1xB,IAKF,yBAAK7O,UAAWa,EAAQ+N,SACtB,kBAAC,GAAD,eACEmpB,OAAQA,KACRsH,SAAU,GACVv1B,KAAMA,IACNs1B,MAAOA,EACPW,mBAnCqB,WACzBO,GAAeD,IAmCX1zB,KAAM0zB,EACNhiC,MAAOA,GACHkQ,IAEN,yBAAKvO,UAAWa,EAAQgO,UAAW9H,IAAK8H,GACtC,kBAAClH,GAAA,EAAD,MAECuwB,IACC,yBAAKl4B,UAAWa,EAAQuO,SACtB,yBAAKpP,UAAWa,EAAQwO,WAAYyoB,KAGtC,yBAAK93B,UAAWa,EAAQqI,KAAM4uB,IAE/BI,IAAa,kBAAC/b,EAAA,EAAD,MAAa,S,0LCxF7BykB,E,kDACJ,aAAe,IAAD,8BACZ,gBACK1hC,MAAQ,CACXG,MAAO,GACPsO,SAAU,GACVhC,QAAS,GACT0c,KAAM,IAGR,EAAKjV,SAAW,EAAKA,SAAShL,KAAd,gBAChB,EAAKmgB,SAAW,EAAKA,SAASngB,KAAd,gBAVJ,E,qDAaLnC,GACPnG,KAAKC,SAAL,eAAiBkG,EAAEoN,OAAO3S,KAAOuF,EAAEoN,OAAOjN,U,+BAGnCH,GAAI,IAAD,OACVA,EAAE4B,iBAEF,IAAMoG,EAAO,CACX5O,MAAOS,KAAKZ,MAAMG,MAClBsO,SAAU7N,KAAKZ,MAAMyO,UAGvBK,YAAMC,GAAMvL,MAAK,SAACoL,GACZA,EACF,EAAK7L,MAAMyE,QAAQC,KAAK,yBAExB,EAAK5G,SAAS,CAAE4L,QAASoC,IAAUsa,MAAM,S,+BAM7C,OACE,6BACE,kBAAC1gB,EAAA,EAAD,MACA,yBAAK3H,UAAU,YAAY0B,MAAO,CAAElD,UAAW,SAC7C,yBAAKwB,UAAU,OACb,yBAAKA,UAAU,yBACb,0BAAM2oB,YAAU,EAACJ,SAAUzoB,KAAKyoB,UAC9B,wBAAIvoB,UAAU,8BAAd,WACA,yBAAKA,UAAU,cACb,2BAAO4oB,QAAQ,SAAf,iBACA,2BACErf,KAAK,QACLvJ,UAAU,eACVU,KAAK,QACLmoB,YAAY,cACZziB,MAAOtG,KAAKZ,MAAMG,MAClB+T,SAAUtT,KAAKsT,YAGnB,yBAAKpT,UAAU,cACb,2BAAO4oB,QAAQ,YAAf,YACA,2BACErf,KAAK,WACLvJ,UAAU,eACVU,KAAK,WACLmoB,YAAY,WACZziB,MAAOtG,KAAKZ,MAAMyO,SAClByF,SAAUtT,KAAKsT,YAGnB,4BACE7J,KAAK,SACLvJ,UAAU,oCAFZ,YAOF,kBAAC,UAAD,CACEqoB,KAAMvoB,KAAKZ,MAAMmpB,KACjB7Y,SAAU,GACVqxB,MAAO,CACLp4B,gBAAiB,cACjBoI,QAAS,KAEXiwB,IAAK,CACHjwB,QAAS,MACTpI,gBAAiB,MACjBO,aAAc,QAGhB,uBACEtH,MAAO,CACLlD,UAAW,OACXmD,UAAW,SACXtD,MAAO,QACPE,SAAU,UAGXuB,KAAKZ,MAAMyM,kB,GA9FV1L,aAyGLyH,cAAWk5B,GCxGX,SAASG,IAEtB,OACE,6BACE,kBAACjgC,EAAA,EAAD,KACE,kBAACE,EAAA,EAAD,CAAUC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC5B,kBAAC,EAAD,W,qNCOJ6/B,G,OAAOC,YAAqB,CAChCC,SAAU,OAIZ5+B,EAAOC,SAAW,2BAClBD,EAAOigB,eAAgB,EACvBjgB,EAAOmhB,WAAa,WAEpB,IAAM0d,EAAY,WAChB,IAAM3hC,EAAQC,aAAa2hC,QAAQ,aAEnC,IAAK5hC,EACH,OAAO,EAGT,IAAK,IACK8I,EAAQP,IAAOvI,GAAf8I,IAOR,GAAIA,GAAM,IAAIC,MAAOC,UAAY,IAC/B,OAAO,EAIT,IAAKF,EACH,OAAO,EAGT,MAAO8F,GACP,OAAO,sCAAYA,GAErB,OAAO,GAGHizB,EAAoB,WACxB,IAA6B,IAAzB/+B,EAAOigB,cAAyB,CAClCjgB,EAAOigB,eAAgB,EACvB,IAAMgU,EAAWnZ,aAAY,YACP,IAAhB+jB,MACFH,EAAKr6B,KAAK,aACVnC,QAAQC,IAAI,cAAe08B,KAC3B7+B,EAAOigB,eAAgB,EACvBlF,cAAckZ,MAEf,KAEL,OAAO,MAGH+K,EAAY,SAAC,GAAD,IAAcrhC,EAAd,EAAGW,UAAyB2N,EAA5B,oCAChB,kBAAC,IAAD,iBACMA,EADN,CAEEgzB,OAAQ,SAACt/B,GAAD,OACNk/B,IACE,6BACE,kBAACE,EAAD,MACA,kBAACphC,EAAcgC,IAGjB,6BACE,kBAAC,IAAD,CAAUgG,GAAI,CAAEu5B,MAAO,cACvB,oDAWVC,IAASF,OACP,kBAAC,IAAD,CAAQ76B,QAASs6B,GACf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOvgC,KAAK,SAASG,UAAWq3B,MAChC,kBAACqJ,EAAD,CAAW7gC,KAAK,SAASG,UAAWu/B,MACpC,kBAAC,IAAD,CAAOqB,OAAK,EAAC/gC,KAAK,SAASG,UAAWmgC,MACtC,kBAAC,IAAD,CAAOS,OAAK,EAAC/gC,KAAK,YAAYG,UAAW8gC,MAEzC,kBAAC,IAAD,CAAUlK,KAAK,IAAIvvB,GAAG,aAG1B6W,SAAS6iB,eAAe,U,+FC5G1B,yB,iCCAA,yB,wPC6HIC,G,cAAgB,GAEdC,E,8MACJ3iC,O,GACE2O,MAAO,GACPkN,YAAa,KACboJ,SAAU,GACVzL,UAAW,GACXopB,kBAAmB,GACnBzqB,gBAAiB,KACjB0qB,mBAAmB,EACnBlT,aAAc,GACdjT,OAAQ,GACRimB,OAAQ,GACRG,eAAgB,GAChBxiB,OAAQ,I,uBACA,I,uBACA,M,2BACI,M,gCACI,G,0BACL,I,gCACK,G,0BACL,I,0BACA,M,4BACE,I,4BACD,G,8BACG,M,2BACJ,G,iCACM,G,2BACL,I,wBACH,I,6BACK,M,oCACM,G,qCACC,G,2BACV,G,gCACK,G,2BACJ,I,gCACK,I,8BACF,G,wBACN,W,6BACK,CACZ,CACE7a,UAAW,KACXX,KAAM,KACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,QACXX,KAAM,QACNY,MAAM,EACNC,YAAa,WACX,MAAO,CAAEE,MAAO,UAElBY,UAAW,SAACC,GACV,MAAO,SAAWA,IAGtB,CACEjB,UAAW,UACXX,KAAM,UACNY,MAAM,EACNyU,UAAU,EACV4oB,OAAQ,CACNj8B,QAAS,SAACC,EAAGvC,EAAQw+B,EAAah8B,EAAKwb,GACrC,EAAKxiB,MAAM0c,OAAO2D,SAAQ,SAACvL,GACrBA,EAAM9Q,KAAOgD,EAAIhD,IACnB,EAAKnD,SAAS,CACZgvB,UAAW/a,EAAMA,WAIvB,EAAKjU,SACH,CACEoiC,gBAAgB,EAChBhpB,UAAWjT,EAAIhD,GACf6qB,cAAe7nB,EAAIk8B,SACnBJ,eAAgB,EAAK9iC,MAAM2iC,OAAO7+B,QAAO,SAACq/B,GACxC,OAAIA,EAAMlpB,YAAcjT,EAAIhD,GACnBm/B,EACK,QAEhB7iB,OAAQ,EAAKtgB,MAAMsgB,OAAOxc,QAAO,SAACohB,GAChC,OAAIA,EAAMjL,YAAcjT,EAAIhD,GACnBkhB,EAEA,UAIb,WACE5f,QAAQC,IAAI,EAAKvF,MAAM6uB,qBAMjC,CACEppB,UAAW,eACXX,KAAM,gBACNY,MAAM,EACNyU,UAAU,EACVxU,YAAa,WACX,MAAO,CAAEE,MAAO,UAElBk9B,OAAQ,CACNj8B,QAAS,SAACC,EAAGvC,EAAQw+B,EAAah8B,EAAKwb,GACrC,EAAKxiB,MAAM0c,OAAO2D,SAAQ,SAACvL,GACrBA,EAAM9Q,KAAOgD,EAAIhD,IACnB,EAAKnD,SAAS,CACZgvB,UAAW/a,EAAMA,WAIvB,EAAKjU,SACH,CACEoiC,gBAAgB,EAChBhpB,UAAWjT,EAAIhD,GACf6qB,cAAe7nB,EAAIk8B,SACnBJ,eAAgB,EAAK9iC,MAAM2iC,OAAO7+B,QAAO,SAACq/B,GACxC,OAAIA,EAAMlpB,YAAcjT,EAAIhD,GACnBm/B,EACK,UAGlB,WACM,EAAKnjC,MAAMsgB,OAAOnZ,OAAS,GAC7B,EAAKtG,SAAS,CACZguB,cAAe,EAAK7uB,MAAMsgB,OAAO,GAAGuO,sBAQlD,CACEppB,UAAW,KACXX,KAAM,GACNqV,UAAU,EACVxU,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,OAAQpD,UAAW,WAErCgE,UAAW,SAAC8b,EAAavb,EAAK/D,EAAOuf,EAAUzb,GAC7C,OACE,kBAAC,IAAD,CACE5H,MAAM,YACN2H,QAAS,SAACC,GACRA,EAAEq8B,kBACF,EAAK7mB,YAAYvV,KAGnB,kBAAC,IAAD,CAAMxE,MAAO,CAAEnD,SAAU,UAAzB,e,6BAMI,CACZ,CACEoG,UAAW,KACXX,KAAM,cACNY,MAAM,EACNnD,QAAQ,GAEV,CACEkD,UAAW,aACXX,KAAM,WACNY,MAAM,EACNyU,UAAU,EACVxU,YAAa,WACX,MAAO,CAAEE,MAAO,WAGpB,CACEJ,UAAW,SACXX,KAAM,UACNY,MAAM,EACNyU,UAAU,EACV4oB,OAAQ,CACNj8B,QAAS,SAACC,EAAGvC,EAAQw+B,EAAah8B,EAAKwb,GACrC,EAAKxiB,MAAM8iC,eAAeziB,SAAQ,SAAC8iB,GAC7BA,EAAMn/B,KAAOgD,EAAIhD,IACnB,EAAKnD,SAAS,CAAEwiC,UAAWF,EAAMG,gBAIrC,EAAKziC,SAAS,CACZ0iC,gBAAgB,EAChBN,gBAAgB,EAChBpU,cAAe7nB,EAAIhD,QAK3B,CACEyB,UAAW,KACXX,KAAM,GACNqV,UAAU,EACVxU,YAAa,SAACC,EAAOnB,GACnB,MAAO,CAAEoB,MAAO,OAAQpD,UAAW,WAErCgE,UAAW,SAAC8b,EAAavb,EAAK/D,EAAOuf,EAAUzb,GAC7C,OACE,kBAAC,IAAD,CACE5H,MAAM,YACN2H,QAAS,SAACC,GACRA,EAAEq8B,kBACF,EAAKI,YAAYx8B,KAGnB,kBAAC,IAAD,CAAMxE,MAAO,CAAEnD,SAAU,UAAzB,e,KAQZ0lB,UAAY,WACV,IAAMzkB,EAAQC,aAAaC,UAErBwkB,EADUtkB,IAAWJ,GACH0D,GAExBd,IACGC,IAAIC,EAAOC,SAAW,cAAgB2hB,EAAS,CAC9C1hB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACDA,EAASE,KAAKwD,QAChB,EAAKtG,SACH,CACE8N,MAAOlL,EAASE,KAChBkY,YAAapY,EAASE,KAAK,GAAGiY,SAC9BqJ,SAAUxhB,EAASE,KAAK,GAAGnC,OAE7B,WACE,EAAK0qB,YAAY,EAAKlsB,MAAM2O,MAAM,GAAG2d,aACrC,EAAK2B,uB,EAOjBA,cAAgB,WACd/qB,IACGC,IAAIC,EAAOC,SAAW,iBAAkB,CACvCC,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL,EAAK0qB,aACL,EAAKttB,SAAS,CACZ2Y,UAAW/V,EAASE,KACpBi/B,kBAAmBn/B,EAASE,KAAKG,QAAO,SAAC2X,GACvC,OAAIA,EAASG,WAAa,EAAK5b,MAAM6b,YAC5BJ,EACK,c,EAMxB0S,WAAa,WACXjrB,IAEGC,IAAIC,EAAOC,SAAW,eAAgB,CACrCC,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL,EAAKkuB,aACL,EAAK9wB,SACH,CACE6b,OAAQjZ,EAASE,OAEnB,WACE,EAAK9C,SAAS,CACZ4iC,eAAgB,EAAKzjC,MAAM0c,OAAO5Y,QAAO,SAACgR,GACxC,OAAIA,EAAM0G,eAAiB,EAAKxb,MAAMmY,gBAC7BrD,EACK,iB,EAQ5B6c,WAAa,WACXzuB,IACGC,IAAIC,EAAOC,SAAW,eAAgB,CACrCC,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL,EAAKiuB,aACL,EAAK7wB,SACH,CACE8hC,OAAQl/B,EAASE,OAEnB,WACE,EAAK9C,SAAS,CACZiiC,eAAgB,EAAK9iC,MAAM2iC,OAAO7+B,QAAO,SAACq/B,GACxC,OAAIA,EAAMlpB,YAAc,EAAKja,MAAMia,UAC1BkpB,EACK,iB,EAQ5BzR,WAAa,WACX,IAAMpxB,EAAQC,aAAaC,UACXE,IAAWJ,GACN0D,GAErBd,IAEGC,IAAIC,EAAOC,SAAW,qBAAuB,EAAKN,MAAMurB,QAAS,CAChEhrB,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACDA,EAASE,KAAK+/B,MAAK,SAAC5d,GAAD,OAAUA,EAAK6d,YACpC,EAAK9iC,SAAL,aACEyf,OAAQ,IADV,SAEU,KAIZ,EAAKzf,SAAS,CACZyf,OAAQ7c,EAASE,W,EAUzBsY,oBAAsB,SAAC9D,GACrB,EAAKtX,SAAS,CAAEgiC,mBAAmB,IAAQ,WACzC,EAAKhiC,SAAS,CACZ8uB,aAAc,EAAK3vB,MAAMwZ,UAAU/B,MAAK,SAACtB,GAAD,OAAOA,EAAEnS,KAAOmU,KACrDsD,SACHtD,gBAAiBA,EAEjBsrB,eAAgB,EAAKzjC,MAAM0c,OAAO5Y,QAAO,SAACgR,GACxC,OAAIA,EAAM0G,eAAiBrD,EAClBrD,EACK,c,EAMtBoX,YAAc,SAACC,GACb7mB,QAAQC,IAAI,iBAAkB4mB,GAC9B,EAAKtrB,SAAS,CAAEmrB,QAAS,YACzB9oB,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,kBACvBM,KAAM,CACJ2jB,OAAQ6E,GAEVrU,QAAS,IAERtU,MAAK,SAACoL,GACLtJ,QAAQC,IAAIqJ,GACZ,IAAIwd,EAAWxd,EAAIjL,KAAK8I,QAAQ2f,SAC5BC,EAAY,EAAKrsB,MAAM2O,MAAM8I,MAC/B,SAACzB,GAAD,OAAQA,EAAG4F,WAAa,EAAK5b,MAAM6b,eAGrCvW,QAAQC,IAAI8mB,GACRD,EAASlW,SAAS,iBACpBkW,EAAQ,UAAMA,EAAN,wCACNC,EAAUC,cAAgBH,GAC5B,EAAKtrB,SAAS,CAAEmrB,QAASI,OAE5Bnd,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAIlBihB,iBAAmB,SAACrR,EAAO0M,GACrB,EAAKxgB,MAAM2O,MAAM8I,MAAK,SAACtB,GAAD,OAAOA,EAAEyF,WAAa4E,OAC9C,EAAK0L,YACH,EAAKlsB,MAAM2O,MAAM8I,MAAK,SAACtB,GAAD,OAAOA,EAAEyF,WAAa4E,KAAM8L,aAEpD,EAAKzrB,SAAS,CACZokB,SAAU,EAAKjlB,MAAM2O,MAAM8I,MAAK,SAACtB,GAAD,OAAOA,EAAEyF,WAAa4E,KAAMhf,KAC5DqhC,mBAAmB,EACnBU,gBAAgB,EAChBN,gBAAgB,EAChBhpB,UAAW,KACX4B,YAAa2E,EACboiB,kBAAmB,EAAK5iC,MAAMwZ,UAAU1V,QAAO,SAAC2X,GAC9C,OAAIA,EAASG,WAAa4E,EACjB/E,EACK,Y,EAMtBmoB,UAAY,WACV,EAAK/iC,SAAS,CAAEgjC,WAAW,K,EAG7BC,WAAa,WACX,EAAKjjC,SAAS,CAAEgjC,WAAW,K,EAG7BE,eAAiB,WACf,EAAKljC,SAAS,CAAEmjC,gBAAgB,K,EAGlCC,gBAAkB,WAChB,EAAKpjC,SAAS,CAAEmjC,gBAAgB,K,EAGlCE,cAAgB,WAId,MAAO,CACLv6B,IAAI,GAAD,OAJO,GAIP,KACHC,KAAK,GAAD,OAJO,GAIP,KACJvC,UAAU,cAAD,OANC,GAMD,eALE,GAKF,Q,EAIb88B,qBAAuB,WACrBjhC,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,qBACvBM,KAAM,CACJnC,KAAM,EAAKxB,MAAMokC,gBACjBxoB,SAAU,EAAK5b,MAAM6b,YACrBwoB,aAAc,EAAKrkC,MAAMskC,iBAG1B9gC,MAAK,SAACC,GACL6B,QAAQC,IAAI9B,GACZ,EAAKwqB,mBAENhf,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAIlBqgC,kBAAoB,WAClBrhC,IAAM,CAEJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,cACvBM,KAAM,CACJ6X,aAAc,EAAKxb,MAAMmY,mBAG1B3U,MAAK,SAACC,GACL6B,QAAQC,IAAI9B,GACZ,EAAKwgC,kBACL,EAAKlf,eAEN9V,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAIlBqY,YAAc,SAACvV,GAGXyY,OAAO+kB,OACL,4GAHQ,MAKJx9B,EAAI8N,MAEV5R,IACGkuB,OAAOhuB,EAAOC,SAAW,eAAiB2D,EAAIhD,GAAI,CACjDV,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL,EAAK0qB,aACL7oB,QAAQC,IAAI9B,MAEbwL,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,MAEX,EAAKrD,SAAS,CAAE4jC,oBAAoB,K,EAG7CjB,YAAc,SAACx8B,GACTyY,OAAOsE,QAAQ,kBACjB7gB,IACGkuB,OAAOhuB,EAAOC,SAAW,eAAiB2D,EAAIhD,GAAI,CACjDV,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL,EAAKkuB,aACLrsB,QAAQC,IAAI9B,MAEbwL,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAKpBgW,aAAe,SAACjX,GACd,EAAKpC,SAAS,CACZ+xB,QAAS,EAAK5yB,MAAM4yB,QAAQ9uB,QAAO,SAACqS,GAClC,OAAOA,EAAEnS,KAAOf,OAGpB,EAAKpC,SAAS,CACZyf,OAAQ,EAAKtgB,MAAMsgB,OAAOxc,QAAO,SAAC4T,GAChC,OAAOA,EAAO1T,KAAOf,OAGzB,EAAKpC,SAAS,CACZyf,OAAQ,EAAKtgB,MAAMsgB,OAAOxc,QAAO,SAAC4T,GAChC,OAAOA,EAAO1T,KAAOf,Q,EAa3ByhC,WAAa,SAACxf,GACZhiB,IACGsL,KACCpL,EAAOC,SAAW,oBAAsB6hB,EAAMlhB,GAC9C,CAAEiW,UAAW,EAAKja,MAAMia,WACxB,CACE3W,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAI7CgD,MAAK,SAACC,GACL,EAAKshB,YACL,EAAKlkB,SAAS,CAAE8jC,qBAAqB,IACrCr/B,QAAQC,IAAI9B,MAEbwL,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAIlB0gC,aAAe,WACb,IAAIC,EAAa,EAAK7kC,MAAMsgB,OACxBsS,EAAU,EAAK5yB,MAAM4yB,QAEzB8P,IAEAx/B,IAEGC,IAAIC,EAAOC,SAAW,qBAAsB,CAC3CC,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAG3CgD,MAAK,SAACC,GACL,EAAK5C,SAAS,CAAEikC,OAAQrhC,EAASE,KAAKggC,UAAW,WAC/Cr+B,QAAQC,IAAI,EAAKvF,MAAM8kC,QACvBD,EAAWp9B,KAAK,CACdzD,GAAI,EAAKhE,MAAM8kC,OAASpC,EACxBY,WAAY,EAAKtjC,MAAMqjC,UACvBxU,cAAe,EAAK7uB,MAAMoY,aAC1B6B,UAAW,EAAKja,MAAMia,UACtB5C,QAAS,KACThN,KAAM,KACN+M,UAAW,OAEbwb,EAAQnrB,KAAK,CACXzD,GAAI,EAAKhE,MAAM8kC,OAASpC,EACxBY,WAAY,EAAKtjC,MAAMqjC,UACvBxU,cAAe,EAAK7uB,MAAM6uB,mBAI9B,EAAKhuB,SAAS,CAAE+xB,QAASA,OAE7B,EAAK/xB,SAAS,CAAEyf,OAAQukB,K,EAG1B7R,aAAe,WACb,EAAKnyB,SAAS,CAAE+xB,QAAS,M,EAG3BG,mBAAqB,WACnB2P,EAAgB,G,EAGlBqC,YAAc,WACZ7hC,IACGsL,KACCpL,EAAOC,SAAW,kBAClB,CAAE4W,UAAW,EAAKja,MAAMia,UAAWqpB,WAAY,gBAC/C,CACEhgC,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,aAI7CgD,MAAK,SAACC,GACL6B,QAAQC,IAAI9B,GACZ,EAAKkuB,gBAEN1iB,OAAM,SAAC/K,GACNoB,QAAQC,IAAIrB,O,EAIlB8gC,cAAgB,SAACj+B,GACf,EAAKlG,SAAL,eAAiBkG,EAAEoN,OAAO3S,KAAOuF,EAAEoN,OAAOjN,S,EAG5CsrB,cAAgB,SAACF,EAAaG,EAAgBJ,IACxB,IAAhBC,GACFvW,YAAW,WACT,EAAKlb,SAAL,eAAiB4xB,GAAkBH,MAClCD,I,kEA5TLzxB,KAAKmkB,YACLnkB,KAAKC,SAAS,CAAEokC,WAAYrkC,KAAKsjC,kB,mCAkNtBn9B,GACXnG,KAAKC,SAAS,CACZqkC,OAAQtkC,KAAKZ,MAAMklC,OAAOphC,QAAO,SAASqhC,GACxC,OAAOA,IAAWp+B,EAAEoN,OAAOjN,a,+BA0GvB,IAAD,OACPtG,KAAK4xB,cACH5xB,KAAKZ,MAAMykC,mBACX,qBACA,KAEF7jC,KAAK4xB,cACH5xB,KAAKZ,MAAM2kC,oBACX,sBACA,KAGF,IAuEQhjC,EAAYf,KAAKmC,MAAjBpB,QAER,OACE,yBAAKb,UAAWa,EAAQqrB,aACtB,kBAAC,IAAD,CACE1M,OAAQ1f,KAAKZ,MAAMsgB,OACnBoR,WAAY9wB,KAAK8wB,WACjBC,WAAY/wB,KAAK+wB,WACjB5M,UAAWnkB,KAAKmkB,UAChBzC,cAAe1hB,KAAKZ,MAAM2iC,OAC1BzoB,aAActZ,KAAKsZ,aACnB0Y,QAAShyB,KAAKZ,MAAM4yB,QACpBI,aAAcpyB,KAAKoyB,aACnBD,mBAAoBnyB,KAAKmyB,qBAE3B,kBAAC,IAAD,CACE5zB,MAAM,UACN2H,QAAS,kBAAM,EAAKjG,SAAS,CAAEukC,iBAAiB,MAFlD,wBAMA,kBAAC,IAAD,CAAQjmC,MAAM,UAAU2H,QAASlG,KAAKgkC,cAAtC,mB,GAtwBa7jC,aA8wBN+lB,YAx1BA,CACbnnB,KAAM,CACJ4J,gBAAiB,cACjBG,UAAW,OACX4I,WAAY,MACZrH,QAAS,OACTlM,aAAc,OAEhB,qBAAsB,CACpB,OAAQ,CAAE4S,QAAS,IAErBkb,UAAW,CACT7T,WAAY,uBAEd8T,cAAe,CACb/c,WAAY,OACZ,UAAW,CACTA,WAAY,OACZxG,gBAAiB,WAEnBlB,OAAQ,UACRkB,gBAAiB,SAEnBwjB,kBAAmB,CACjBhd,WAAY,OACZ,UAAW,CACTA,WAAY,OACZ5Q,MAAO,QACPL,eAAgB,YAChBuJ,OAAQ,YAGZ+jB,SAAU,CACRrc,WAAY,OACZ,UAAW,CACTA,WAAY,OACZ5Q,MAAO,QACPL,eAAgB,OAChBuJ,OAAQ,YAGZ2kB,YAAa,CACXrb,QAAS,IACTvS,OAAQ,OACRyS,cAAe,WACfC,kBAAmB,OACnBC,wBAAyB,SACzBkb,kBAAmB,YAErB1tB,eAAgB,CACdJ,MAAO,UACPG,UAAW,MACXE,UAAW,OACXX,WAAY,MACZY,WAAY,6CACZV,aAAc,MACdD,eAAgB,OAChB,UAAW,CACTK,MAAO,OACPN,WAAY,MACZa,WAAY,MAGhBwtB,MAAO,CACLrjB,SAAU,WACV/J,SAAU,QACVyJ,gBAAiB,QACjBG,UAAW,sBACXuB,QAAS,SAoxBE6b,CAAmB6b,K,8LC73B5B0C,E,4MACJrlC,MAAQ,CACNsV,aAAc,KACdgwB,UAAW,GACX9xB,YAAa,EACbxP,GAAI,KACJ3C,QAAS,GACTsR,SAAU,KACVE,gBAAiB,KACjBnH,SAAS,EACT65B,cAAe,CACbpvB,EAAG,EACHE,EAAG,GAELmvB,mBAAoB,CAClBrvB,GAAI,IACJE,EAAG,M,EAIPM,WAAa,SAAC5P,EAAGyP,EAAItM,EAAOlG,GAAQ,IAC5B3C,EAAY,EAAK0B,MAAjB1B,QACNA,EAAQ6I,GAAOoM,mBACbjV,EAAQ6I,GAAOoM,mBAAqBE,EAAGC,OACzCpV,EAAQ6I,GAAOkM,oBACb/U,EAAQ6I,GAAOkM,oBAAsBI,EAAGE,OAC1C,EAAK7V,SAAS,CACZQ,QAASA,EACT0C,KAAMC,K,EAIVyQ,QAAU,WACR,EAAK5T,SAAS,CAAE2S,YAAa,EAAKxT,MAAMwT,YAAc,K,EAGxDkB,OAAS,WACP,EAAK7T,SAAS,CAAE2S,YAAa,EAAKxT,MAAMwT,YAAc,K,EAIxDiyB,WAAa,SAAC1+B,GACZA,EAAE4B,iBACF5B,EAAEq8B,kBAFgB,MAGD,EAAKpjC,MAAMwlC,mBAApBrvB,EAHU,EAGVA,EAAGE,EAHO,EAGPA,EACX,EAAKxV,SAAS,CAAE2kC,mBAAoB,CAAErvB,EAAGA,EAAI,GAAIE,Q,EAGnDqvB,WAAa,SAAC3+B,GACZA,EAAE4B,iBACF5B,EAAEq8B,kBAFgB,IAGVoC,EAAuB,EAAKxlC,MAA5BwlC,mBACArvB,EAASqvB,EAATrvB,EAAGE,EAAMmvB,EAANnvB,EACX,EAAKxV,SAAS,CAAE2kC,mBAAoB,CAAErvB,IAAGE,EAAGA,EAAI,O,EAGlDsvB,iBAAmB,SAAC5+B,EAAG8C,GAAc,IAC3BsM,EAAStM,EAATsM,EAAGE,EAAMxM,EAANwM,EACX,EAAKxV,SAAS,CAAE2kC,mBAAoB,CAAErvB,IAAGE,Q,EAG3CuvB,qBAAuB,SAAC7+B,EAAG8C,GACzB,EAAK87B,iBAAiB5+B,EAAG8C,GACzB,EAAK6K,U,EAGPmxB,gBAAkB,SAAC/xB,GACjB,IAAMwB,EAAexB,EAAMK,OAAOoB,MAAM,GACpCC,EAASF,EAAa9T,KAAKiU,YAAY,KAAO,EAC9CC,EAAUJ,EAAa9T,KACxBmU,OAAOH,EAAQF,EAAa9T,KAAK2F,QACjCyO,cAEY,OAAXF,GAA+B,QAAXA,EAGtB,EAAK7U,SACH,CACEyU,aAAcxB,EAAMK,OAAOoB,MAAM,KAEnC,WACE,IAAM5R,EAAO,IAAIkS,SACjBlS,EAAKmS,OAAO,QAAS,EAAK/S,MAAM+iC,YAChCniC,EAAKmS,OAAO,OAAQ,EAAK9V,MAAMsV,cAE/BpS,IACGsL,KAAKpL,EAAOC,SAAW,yBAA0BM,EAAM,CACtDL,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1C8T,aAAc,SAEf9Q,MAAK,SAACC,GACL,EAAK5C,SAAS,CACZykC,UAAW/wB,IAAIC,gBAAgB/Q,EAASE,cAMlDoS,MAAM,oC,EAIVgwB,oBAAsB,WACpB7iC,IAAM,CACJyU,OAAQ,OACRrU,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1CoX,IAAKxU,EAAOC,SAAW,wBACvBM,KAAM,CAAEtC,QAAS,EAAKrB,MAAMqB,WAC3BmC,MAAK,SAACoL,GACPtJ,QAAQC,IAAIqJ,O,EAyBhBo3B,YAAc,SAAClyB,EAAOC,GACpB,EAAKlT,SAAS,CAAE8R,SAAUmB,EAAME,cAAenB,gBAAiBkB,K,EAGlEE,YAAc,WACZ,EAAKpT,SAAS,CAAE8R,SAAU,KAAME,gBAAiB,Q,kEA1B9B,IAAD,OAClB3P,IACGC,IAAIC,EAAOC,SAAW,yBAA2BzC,KAAKmC,MAAM+iC,WAAY,CACvExiC,QAAS,CACP,eAAgB,iCAChBC,cAAe,UAAYhD,aAAaC,WAE1C8T,aAAc,SAEfrF,OAAM,SAACC,GACN,MAAMA,KAEP1L,MAAK,SAACC,GACL,EAAK5C,SAAS,CACZykC,UAAW/wB,IAAIC,gBAAgB/Q,EAASE,WAd5B,IAiBVtC,EAAYT,KAAKmC,MAAjB1B,QACRT,KAAKC,SAAS,CAAEQ,QAASA,M,+BAWjB,IAAD,OAED2C,EADO2Q,QAAQ/T,KAAKZ,MAAM2S,UACd,sBAAmB7E,EAC/B8G,EAAe,CAAEH,QAAS7T,KAAK6T,QAASC,OAAQ9T,KAAK8T,QACnD/S,EAAYf,KAAKmC,MAAjBpB,QACJskC,EAAoBrlC,KAAKmC,MAAM1B,QAEnC,OACE,6BACGT,KAAKZ,MAAM+D,KACXnD,KAAKZ,MAAMslC,UACV,6BACE,yBAAK9iC,MAAO,CAAEuS,UAAW,SAAUjV,SAAU,SAC3C,yBAEE0C,MAAO,CACL5C,OAAQ,QACRiG,MAAO,SACPmP,OAAQ,kBACRC,iBAAkB,YAClBC,eAAgB,UAChBC,gBAAgB,OAAD,OAASvU,KAAKZ,MAAMslC,UAApB,MAEjBz6B,IAAI,eAEHo7B,EAAkBj8B,KAAI,SAACgM,EAAI9L,GAC1B,IAAI/K,EAKJ,OAHEA,EADgB,OAAd6W,EAAGC,OACG,UACK,YAGb,kBAAC,IAAD,eACE9L,IAAK6L,EAAGhS,GACRmL,KAAM,CAAC,EAAG,GACVyH,OAAQ,SACR/M,SAAU,CACRsM,EAAGH,EAAGI,oBACNC,EAAGL,EAAGM,oBAERC,OAAQ,SAACxP,EAAGyP,GAAJ,OAAW,EAAKG,WAAW5P,EAAGyP,EAAItM,EAAO8L,EAAGhS,MAChD4Q,GAEJ,yBACEpS,MAAO,CACLqD,MAAO,MACPjG,OAAQ,MACRiK,SAAU,aAGZ,kBAAC,IAAD,CACE1K,MAAOA,EACPqD,MAAO,CACLnD,SAAU,MACVwK,SAAU,WACVxB,OAAQ,QAEVyO,aAAc,SAAC/P,GAAD,OAAO,EAAKi/B,YAAYj/B,EAAGiP,EAAGhS,KAC5C+S,aAAc,EAAK9C,aARrB,eAYA,kBAAC,IAAD,CACEjQ,GAAIA,EACJyJ,KAAM,EAAKzN,MAAM6S,kBAAoBmD,EAAGhS,GACxC2O,SAAU,EAAK3S,MAAM2S,SACrBnQ,MAAO,CAAEyV,cAAe,QACxBhK,aAAc,CACZC,SAAU,SACVE,WAAY,UAEd8J,gBAAiB,CACfhK,SAAU,MACVE,WAAY,WAGd,6BACE,kBAAC,IAAD,CAAYtN,UAAWa,EAAQ8P,YAA/B,UACMuE,EAAGoB,UADT,cACwBpB,EAAG3L,KAD3B,cACqC2L,EAAGqB,WAG1C,6BACE,kBAAC,IAAD,CAAYvW,UAAWa,EAAQ8P,YAA/B,WACWuE,EAAGC,iBAU7BrV,KAAKZ,MAAM0L,QAAU,iDAA6B,KAEnD,kBAAC,IAAD,CAAQvM,MAAM,UAAU2H,QAASlG,KAAKmlC,qBAAtC,yBAGA,kBAAC,IAAD,CACE5mC,MAAM,UACN2H,QAAS,WACH2Y,OAAOsE,QAAQ,kBACjB,EAAKljB,SAAS,CAAEykC,UAAW,OAJjC,qBAWF,6BACE,kBAAC,IAAD,CAAY10B,QAAQ,KAAKwE,cAAY,GAArC,qCAGA,2BACE/K,KAAK,OACL7I,KAAK,OACL6T,OAAO,OACPnB,SAAUtT,KAAKilC,wB,GAzQL9kC,aAkRT+lB,YAzRA,CACbrV,WAAY,CACVxG,QAAS,OACTpF,MAAO,SAsRIihB,CAAmBue,K,gLC5RgBtkC,c,8KCiCnCmlC,EAjCG,CAChBh0B,KAAM,CACJ8C,OAAQ,IACRjW,aAAc,OACdO,UAAW,OACXwK,aAAc,MACd3K,MAAO,QAAUqK,YAAS4B,KAAc,UACxC4N,WAAY9N,IACZrF,MAAO,OACP6D,UAAW,oBAAsBF,YAAS4B,KAAc,UACxDvB,SAAU,WACVjF,QAAS,OACTC,cAAe,SACfsG,SAAU,IACVg7B,SAAU,aACV9mC,SAAU,WAEZ+mC,UAAW,CACTptB,WAAY,cACZtP,UAAW,QAEb28B,YAAa,CACX/mC,UAAW,OACXmD,UAAW,UAEb6jC,UAAW,CACT,MAAO,CACLhnC,UAAW,MACXgT,WAAY,SCtBZtT,EAAYC,YAAWqO,GAEd,SAASpL,EAAKa,GAAQ,IAAD,EAC5BpB,EAAU3C,IACR8B,EAAwDiC,EAAxDjC,UAAWsO,EAA6CrM,EAA7CqM,SAAU2P,EAAmChc,EAAnCgc,MAAOC,EAA4Bjc,EAA5Bic,QAASE,EAAmBnc,EAAnBmc,MAAU7P,EAFrB,YAE8BtM,EAF9B,oDAG5BwjC,EAAc14B,KAAU,mBAC3BlM,EAAQuQ,MAAO,GADY,cAE3BvQ,EAAQykC,UAAYrnB,GAFO,cAG3Bpd,EAAQ0kC,YAAcrnB,GAHK,cAI3Brd,EAAQ2kC,UAAYpnB,GAJO,cAK3Bpe,OAA0BgN,IAAdhN,GALe,IAO9B,OACE,uCAAKA,UAAWylC,GAAiBl3B,GAC9BD,K,+HCVQo3B,EAhBO,CACpBC,SAAU,CACRx7B,QAAS,iBACTy7B,KAAM,WACNC,cAAe,IACf98B,SAAU,YAEZ+8B,cAAe,CACbz5B,YAAa,MACb2L,aAAc,OAEhB+tB,gBAAiB,CACfvnC,UAAW,SCATN,EAAYC,YAAWqO,GAEd,SAASlL,EAASW,GAAQ,IAAD,EAChCpB,EAAU3C,IACR8B,EAAiDiC,EAAjDjC,UAAWsO,EAAsCrM,EAAtCqM,SAAU2P,EAA4Bhc,EAA5Bgc,MAAOC,EAAqBjc,EAArBic,QAAY3P,EAFV,YAEmBtM,EAFnB,4CAGhC+jC,EAAkBj5B,KAAU,mBAC/BlM,EAAQ8kC,UAAW,GADY,cAE/B9kC,EAAQilC,cAAgB7nB,GAFO,cAG/Bpd,EAAQklC,gBAAkB7nB,GAHK,cAI/Ble,OAA0BgN,IAAdhN,GAJmB,IAMlC,OACE,uCAAKA,UAAWgmC,GAAqBz3B,GAClCD,K,8ICkGQ23B,EAjHS,CACtBC,WAAY,CACV/7B,QAAS,kBACTlM,aAAc,IACdkoC,aAAc,OACdjuB,WAAY,cACZ4a,OAAQ,eACR,wKAAyK,CACvKx0B,OAAQ,SACR6L,QAAS,IACTpB,SAAU,WACV1K,MAAO+L,KAET,gBAAiB,CACfpB,aAAc,6CAEhB,mHAAoH,CAClH,yBAA0B,CACxBA,aAAc,MACdxK,UAAW,QACX2L,QAAS,SAGb,wBAAyB,CACvB5L,SAAU,OACVK,WAAY,OACZ+C,UAAW,SACXoD,MAAO,OACPjG,OAAQ,OACRR,OAAQ,iBAEV,wDAAyD,CACvDC,SAAU,OACVK,WAAY,OACZmG,MAAO,OACPjG,OAAQ,OACR6C,UAAW,SACXyD,SAAU,QACVnH,aAAc,OAEhB,mCAAoC,CAClC0D,UAAW,UAGfykC,gBAAiB,CACf98B,WAAY,iBACZiD,YAAa,kBAEf85B,gBAAiB,CACf,oBAAqB,CACnB1kC,UAAW,SAEb,gCAAiC,CAC/BrD,OAAQ,iBAGZgoC,eAAgB,CACd,mHAAoH,CAClHpuB,WAAY,cACZtP,UAAW,QAEb,wBAAyB,CACvB7D,MAAO,OACPjG,OAAQ,OACR6C,UAAW,SACX/C,WAAY,QAEd,QAAS,CACPmG,MAAO,OACPjG,OAAQ,OACR6C,UAAW,SACX/C,WAAY,OACZN,OAAQ,gBAGZ2Z,kBAAmB,CACjB5Z,MAAO+L,IACP,yBAAyB,eACpB6N,MAGPE,kBAAmB,CACjB9Z,MAAO+L,IACP,yBAAyB,eACpB+N,MAGPC,iBAAkB,CAChB/Z,MAAO+L,IACP,yBAAyB,eACpBgO,MAGPC,eAAgB,CACdha,MAAO+L,IACP,yBAAyB,eACpBiO,MAGPC,kBAAmB,CACjBja,MAAO+L,IACP,yBAAyB,eACpBkO,MAGPC,eAAgB,CACdla,MAAO+L,IACP,yBAAyB,eACpBmO,OC1GHra,EAAYC,YAAWqO,GAEd,SAASnL,EAAWY,GAAQ,IAAD,EAClCpB,EAAU3C,IACR8B,EAA4DiC,EAA5DjC,UAAWsO,EAAiDrM,EAAjDqM,SAAUjQ,EAAuC4D,EAAvC5D,MAAO4f,EAAgChc,EAAhCgc,MAAOE,EAAyBlc,EAAzBkc,MAAOxd,EAAkBsB,EAAlBtB,KAAS4N,EAFnB,YAE4BtM,EAF5B,yDAGlCskC,EAAoBx5B,KAAU,mBACjClM,EAAQqlC,YAAa,GADY,cAEjCrlC,EAAQxC,EAAQ,cAAgBA,GAFC,cAGjCwC,EAAQulC,gBAAkBnoB,GAHO,cAIjCpd,EAAQwlC,gBAAkBloB,GAJO,cAKjCtd,EAAQylC,eAAiB3lC,GALQ,cAMjCX,OAA0BgN,IAAdhN,GANqB,IAQpC,OACE,uCAAKA,UAAWumC,GAAuBh4B,GACpCD,M","file":"static/js/main.5938aa66.chunk.js","sourcesContent":["// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\n// core components\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\n// import TestComp from \"components/Data/TestsTableSelf.js\";\r\nimport TestCompTrial from \"components/Data/TrialTestsTableSelf\";\r\nimport React from \"react\";\r\n\r\nconst styles = {\r\n  cardCategoryWhite: {\r\n    \"&,& a,& a:hover,& a:focus\": {\r\n      color: \"rgba(255,255,255,.62)\",\r\n      margin: \"0\",\r\n      fontSize: \"14px\",\r\n      marginTop: \"0\",\r\n      marginBottom: \"0\",\r\n    },\r\n    \"& a,& a:hover,& a:focus\": {\r\n      color: \"#FFFFFF\",\r\n    },\r\n  },\r\n  cardTitleWhite: {\r\n    color: \"#FFFFFF\",\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: \"#777\",\r\n      fontSize: \"65%\",\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\",\r\n    },\r\n  },\r\n  root: {\r\n    height: \"216\",\r\n    flexGrow: \"1\",\r\n    maxWidth: \"400\",\r\n  },\r\n};\r\n\r\nconst lightText = {\r\n  fontWeight: \"100\",\r\n  textDecoration: \"none\",\r\n  marginBottom: \"20px\",\r\n};\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function TableList() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      {/**\r\n      <GridContainer>\r\n        <GridItem xs={12} sm={12} md={12}>\r\n          <Card>\r\n            <CardHeader color=\"success\">\r\n              <h4 className={classes.cardTitleWhite}>Users Table</h4>\r\n            </CardHeader>\r\n            <CardBody>\r\n              <UsersTable />\r\n              <AddUser />\r\n            </CardBody>\r\n          </Card>\r\n        </GridItem>\r\n      </GridContainer>\r\n       */}\r\n      <GridContainer>\r\n        <GridItem xs={12} sm={12} md={12} style={{ textAlign: \"center\" }}>\r\n          <h2 style={lightText}>Test history</h2>\r\n        </GridItem>\r\n      </GridContainer>\r\n      <GridContainer justify=\"center\">\r\n        <GridItem xs={12} sm={12} md={12}>\r\n          <Card>\r\n            <CardHeader color=\"success\">\r\n              <h4 className={classes.cardTitleWhite}>Test history</h4>\r\n            </CardHeader>\r\n            <CardBody>\r\n              <TestCompTrial />\r\n            </CardBody>\r\n          </Card>\r\n        </GridItem>\r\n      </GridContainer>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nclass Profile extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      first_name: \"\",\r\n      last_name: \"\",\r\n      email: \"\",\r\n      errors: {},\r\n      access: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    let access = decoded.role_name;\r\n\r\n    this.setState({\r\n      first_name: decoded.first_name,\r\n      last_name: decoded.last_name,\r\n      email: decoded.email,\r\n      access: access,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"jumbotron jumbotron-fluid\">\r\n          <div className=\"col-sm-8 mx-auto\">\r\n            <h1 className=\"text-center\">PROFILE</h1>\r\n          </div>\r\n          <table className=\"table col-md-6 mx-auto\">\r\n            <tbody>\r\n              <tr>\r\n                <td>First Name</td>\r\n                <td>{this.state.first_name}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Last Name</td>\r\n                <td>{this.state.last_name}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Email</td>\r\n                <td>{this.state.email}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Access role</td>\r\n                <td>{this.state.access}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from \"react\";\r\nimport DevTest from \"components/Developer/TestComponentDev\";\r\nimport ManualCommand from \"components/Developer/ManualCommand\";\r\nimport SocketDev from \"components/Developer/SocketDev\";\r\nexport default class Developer extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <DevTest />\r\n        <ManualCommand />\r\n        <SocketDev />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","// @material-ui/core\r\nimport React from \"react\";\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AdminPage from \"components/Users/AdminPage\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\n\r\nconst styles = {\r\n  cardCategoryWhite: {\r\n    \"&,& a,& a:hover,& a:focus\": {\r\n      color: \"rgba(255,255,255,.62)\",\r\n      margin: \"0\",\r\n      fontSize: \"14px\",\r\n      marginTop: \"0\",\r\n      marginBottom: \"0\",\r\n    },\r\n    \"& a,& a:hover,& a:focus\": {\r\n      color: \"#FFFFFF\",\r\n    },\r\n  },\r\n  cardTitleWhite: {\r\n    color: \"#FFFFFF\",\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: \"#777\",\r\n      fontSize: \"65%\",\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\",\r\n    },\r\n  },\r\n  root: {\r\n    height: \"216\",\r\n    flexGrow: \"1\",\r\n    maxWidth: \"400\",\r\n  },\r\n  lightText: {\r\n    fontWeight: \"100\",\r\n    textDecoration: \"none\",\r\n    marginBottom: \"20px\",\r\n  },\r\n};\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function Dashboard() {\r\n  const classes = useStyles();\r\n  return (\r\n    <GridContainer>\r\n      <GridItem xs={12} sm={12} md={12}>\r\n        <Card>\r\n          <CardHeader color=\"info\">\r\n            <h4 className={classes.cardTitleWhite}>Administration panel</h4>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <AdminPage />\r\n          </CardBody>\r\n        </Card>\r\n      </GridItem>\r\n    </GridContainer>\r\n  );\r\n}\r\n","// core components\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport React from \"react\";\r\n// @material-ui/core components\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport LiveEmStatus from \"components/LiveEmStatus/LiveEmStatus\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst styles = {\r\n  cardCategoryWhite: {\r\n    \"&,& a,& a:hover,& a:focus\": {\r\n      color: \"rgba(255,255,255,.62)\",\r\n      margin: \"0\",\r\n      fontSize: \"14px\",\r\n      marginTop: \"0\",\r\n      marginBottom: \"0\",\r\n    },\r\n    \"& a,& a:hover,& a:focus\": {\r\n      color: \"#FFFFFF\",\r\n    },\r\n  },\r\n  cardTitleWhite: {\r\n    color: \"#FFFFFF\",\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: \"#777\",\r\n      fontSize: \"65%\",\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\",\r\n    },\r\n  },\r\n  root: {\r\n    height: \"216\",\r\n    flexGrow: \"1\",\r\n    maxWidth: \"400\",\r\n  },\r\n  lightText: {\r\n    fontWeight: \"100\",\r\n    textDecoration: \"none\",\r\n    marginBottom: \"20px\",\r\n  },\r\n};\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function Reports() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <GridContainer justify=\"center\">\r\n        <GridItem xs={12} sm={12} md={12}>\r\n          <Card>\r\n            <CardHeader color=\"success\">\r\n              <h4 className={classes.cardTitleWhite}>Live EM Status</h4>\r\n            </CardHeader>\r\n            <CardBody>\r\n              <LiveEmStatus />\r\n            </CardBody>\r\n          </Card>\r\n        </GridItem>\r\n      </GridContainer>\r\n    </div>\r\n  );\r\n}\r\n","// core components\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport React from \"react\";\r\n// @material-ui/core components\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport SiteSetup from \"components/SiteSetup/SiteSetup.js\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst styles = {\r\n  cardCategoryWhite: {\r\n    \"&,& a,& a:hover,& a:focus\": {\r\n      color: \"rgba(255,255,255,.62)\",\r\n      margin: \"0\",\r\n      fontSize: \"14px\",\r\n      marginTop: \"0\",\r\n      marginBottom: \"0\",\r\n    },\r\n    \"& a,& a:hover,& a:focus\": {\r\n      color: \"#FFFFFF\",\r\n    },\r\n  },\r\n  cardTitleWhite: {\r\n    color: \"#FFFFFF\",\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: \"#777\",\r\n      fontSize: \"65%\",\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\",\r\n    },\r\n  },\r\n  root: {\r\n    height: \"216\",\r\n    flexGrow: \"1\",\r\n    maxWidth: \"400\",\r\n  },\r\n  lightText: {\r\n    fontWeight: \"100\",\r\n    textDecoration: \"none\",\r\n    marginBottom: \"20px\",\r\n  },\r\n};\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function Reports() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <GridContainer justify=\"center\">\r\n        <GridItem xs={12} sm={12} md={12}>\r\n          <Card>\r\n            <CardHeader color=\"success\">\r\n              <h4 className={classes.cardTitleWhite}>Site Setup</h4>\r\n            </CardHeader>\r\n            <CardBody>\r\n              <SiteSetup />\r\n            </CardBody>\r\n          </Card>\r\n        </GridItem>\r\n      </GridContainer>\r\n    </div>\r\n  );\r\n}\r\n","// core components\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport React from \"react\";\r\n// @material-ui/core components\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport Power from \"components/power/Dashboard\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst styles = {\r\n  cardCategoryWhite: {\r\n    \"&,& a,& a:hover,& a:focus\": {\r\n      color: \"rgba(255,255,255,.62)\",\r\n      margin: \"0\",\r\n      fontSize: \"14px\",\r\n      marginTop: \"0\",\r\n      marginBottom: \"0\",\r\n    },\r\n    \"& a,& a:hover,& a:focus\": {\r\n      color: \"#FFFFFF\",\r\n    },\r\n  },\r\n  cardTitleWhite: {\r\n    color: \"#FFFFFF\",\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: \"#777\",\r\n      fontSize: \"65%\",\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\",\r\n    },\r\n  },\r\n  root: {\r\n    height: \"216\",\r\n    flexGrow: \"1\",\r\n    maxWidth: \"400\",\r\n  },\r\n  lightText: {\r\n    fontWeight: \"100\",\r\n    textDecoration: \"none\",\r\n    marginBottom: \"20px\",\r\n  },\r\n};\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function Reports() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <GridContainer justify=\"center\">\r\n        <GridItem xs={12} sm={12} md={12}>\r\n          <Card>\r\n            <CardHeader color=\"success\">\r\n              <h4 className={classes.cardTitleWhite}>Energy overview</h4>\r\n            </CardHeader>\r\n            <CardBody>\r\n              <Power />\r\n            </CardBody>\r\n          </Card>\r\n        </GridItem>\r\n      </GridContainer>\r\n    </div>\r\n  );\r\n}\r\n","import TrialTest from \"components/Test/TrialTest\";\r\nimport React, { Component } from \"react\";\r\n\r\nexport default class TrialTestContainer extends Component {\r\n  state = {};\r\n  componentDidMount() {}\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <TrialTest devices={[]} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\n// core components\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport TrialTestContainer from \"components/Test/TrialTestContainer\";\r\nimport TrialTestsTableSelf from \"components/Data/TrialTestsTableSelf\";\r\n// import DraggableTest from \"components/Data/DraggableTest\";\r\nimport React from \"react\";\r\n\r\nconst styles = {\r\n  cardCategoryWhite: {\r\n    \"&,& a,& a:hover,& a:focus\": {\r\n      color: \"rgba(255,255,255,.62)\",\r\n      margin: \"0\",\r\n      fontSize: \"14px\",\r\n      marginTop: \"0\",\r\n      marginBottom: \"0\",\r\n    },\r\n    \"& a,& a:hover,& a:focus\": {\r\n      color: \"#FFFFFF\",\r\n    },\r\n  },\r\n  cardTitleWhite: {\r\n    color: \"#FFFFFF\",\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: \"#777\",\r\n      fontSize: \"65%\",\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\",\r\n    },\r\n  },\r\n};\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function TableList() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <GridContainer justify=\"center\">\r\n        <GridItem xs={12} sm={12} md={12}>\r\n          <Card>\r\n            <CardHeader color=\"info\">\r\n              <h4 className={classes.cardTitleWhite}>Site test</h4>\r\n            </CardHeader>\r\n            <CardBody>\r\n              <TrialTestContainer />\r\n            </CardBody>\r\n          </Card>\r\n        </GridItem>\r\n      </GridContainer>\r\n    </div>\r\n  );\r\n}\r\n","// @material-ui/icons\r\n// import LocationCity from \"@material-ui/icons/LocationCity\";\r\n// import Dashboard from \"@material-ui/icons/Dashboard\";\r\n// import LibraryBooks from \"@material-ui/icons/LibraryBooks\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\n// core components/views for Admin layout\r\n// import Dev from \"views/Dev/Dev.js\";\r\n// import DashboardPage from \"views/Dashboard/Dashboard.js\";\r\n// core components/views for RTL layout\r\n// import SiteManagementDev from \"views/SiteManagement/SiteManagementDev.js\";\r\nimport Test from \"views/Test/Test.js\";\r\nimport UserProfile from \"views/UserProfile/UserProfile\";\r\nimport Developer from \"views/Developer/Developer\";\r\nimport AdminPage from \"views/Admin/AdminPage\";\r\nimport SocketDevTest from \"views/SocketDevTest/SocketDevTest\";\r\nimport LiveEmStatus from \"views/LiveEmStatus/LiveEmStatus\";\r\nimport SiteSetup from \"views/SiteSetup/SiteSetup\";\r\nimport Energy from \"views/Energy/Energy\";\r\nimport SiteTest from \"views/TrialTest/TrialTest\";\r\n\r\nconst dashboardRoutes = [\r\n  {\r\n    path: \"/live-em-status\",\r\n    name: \"Live EM Status\",\r\n    icon: \"map\",\r\n    component: LiveEmStatus,\r\n    layout: \"/admin\",\r\n    access: 1,\r\n    hidden: false,\r\n  },\r\n  // {\r\n  //   path: \"/site-management\",\r\n  //   name: \"Site management\",\r\n  //   icon: \"map\",\r\n  //   component: SiteManagementDev,\r\n  //   layout: \"/admin\",\r\n  //   access: 1,\r\n  // },\r\n  {\r\n    path: \"/em-test-reports\",\r\n    name: \"EM Test Reports\",\r\n    icon: \"content_paste\",\r\n    component: Test,\r\n    layout: \"/admin\",\r\n    access: 1,\r\n    hidden: false,\r\n  },\r\n  {\r\n    path: \"/test\",\r\n    name: \"Site Test\",\r\n    icon: \"developer_mode\",\r\n    component: SiteTest,\r\n    layout: \"/admin\",\r\n    access: 3,\r\n    hidden: true,\r\n  },\r\n  // {\r\n  //   path: \"/configuration\",\r\n  //   name: \"Test configuration\",\r\n  //   icon: \"schedule\",\r\n  //   component: Schedule,\r\n  //   layout: \"/admin\",\r\n  // },\r\n  {\r\n    path: \"/site-setup\",\r\n    name: \"Site Setup\",\r\n    icon: \"settings_applications\",\r\n    component: SiteSetup,\r\n    layout: \"/admin\",\r\n    access: 2,\r\n    hidden: false,\r\n  },\r\n  {\r\n    path: \"/energy\",\r\n    name: \"Energy\",\r\n    icon: \"eco\",\r\n    component: Energy,\r\n    layout: \"/admin\",\r\n    access: 2,\r\n    hidden: false,\r\n  },\r\n  {\r\n    path: \"/profile\",\r\n    name: \"User Profile\",\r\n    icon: PersonIcon,\r\n    component: UserProfile,\r\n    layout: \"/admin\",\r\n    access: 1,\r\n    hidden: false,\r\n  },\r\n  {\r\n    path: \"/administration\",\r\n    name: \"Admin Panel\",\r\n    icon: \"supervised_user_circle\",\r\n    component: AdminPage,\r\n    layout: \"/admin\",\r\n    access: 3,\r\n    hidden: false,\r\n  },\r\n  {\r\n    path: \"/socket-dev-test\",\r\n    name: \"Socket Test\",\r\n    icon: \"developer_mode\",\r\n    component: SocketDevTest,\r\n    layout: \"/admin\",\r\n    access: 99,\r\n    hidden: false,\r\n  },\r\n  {\r\n    path: \"/developer\",\r\n    name: \"Developer\",\r\n    icon: \"developer_mode\",\r\n    component: Developer,\r\n    layout: \"/admin\",\r\n    access: 99,\r\n    hidden: false,\r\n  },\r\n];\r\n\r\nexport default dashboardRoutes;\r\n","// import { makeStyles } from \"@material-ui/core/styles\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\n// core components\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport React from \"react\";\r\nimport Profile from \"components/Users/Profile\";\r\n\r\nexport default function LoginPage() {\r\n  // const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <GridContainer>\r\n        <GridItem xs={12} sm={12} md={12}>\r\n          <Profile />\r\n        </GridItem>\r\n      </GridContainer>\r\n    </div>\r\n  );\r\n}\r\n","// @material-ui/core components\r\n// import { makeStyles } from \"@material-ui/core/styles\";\r\n// import Card from \"components/Card/Card.js\";\r\n// import CardBody from \"components/Card/CardBody.js\";\r\n// import CardHeader from \"components/Card/CardHeader.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\n// core components\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport DevTest from \"components/DevTestSockets/DevTestContainer\";\r\nimport React from \"react\";\r\n\r\n// const styles = {\r\n//   cardCategoryWhite: {\r\n//     \"&,& a,& a:hover,& a:focus\": {\r\n//       color: \"rgba(255,255,255,.62)\",\r\n//       margin: \"0\",\r\n//       fontSize: \"14px\",\r\n//       marginTop: \"0\",\r\n//       marginBottom: \"0\",\r\n//     },\r\n//     \"& a,& a:hover,& a:focus\": {\r\n//       color: \"#FFFFFF\",\r\n//     },\r\n//   },\r\n//   cardTitleWhite: {\r\n//     color: \"#FFFFFF\",\r\n//     marginTop: \"0px\",\r\n//     minHeight: \"auto\",\r\n//     fontWeight: \"300\",\r\n//     fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n//     marginBottom: \"3px\",\r\n//     textDecoration: \"none\",\r\n//     \"& small\": {\r\n//       color: \"#777\",\r\n//       fontSize: \"65%\",\r\n//       fontWeight: \"400\",\r\n//       lineHeight: \"1\",\r\n//     },\r\n//   },\r\n// };\r\n\r\n// const useStyles = makeStyles(styles);\r\n\r\nexport default function TableList() {\r\n  //   const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <GridContainer justify=\"center\">\r\n        <GridItem xs={12} sm={12} md={12}>\r\n          <DevTest />\r\n        </GridItem>\r\n      </GridContainer>\r\n    </div>\r\n  );\r\n}\r\n","// @material-ui/core components\r\n// import { makeStyles } from \"@material-ui/core/styles\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\n// core components\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport React from \"react\";\r\nimport DeveloperComp from \"components/Developer/Developer\";\r\n// import Maps from \"components/Maps/Maps\";\r\n\r\nexport default function Developer() {\r\n  // const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <GridContainer justify=\"center\">\r\n        <GridItem xs={12} sm={12} md={12}>\r\n          <h1>Developer page, access only for developers</h1>\r\n        </GridItem>\r\n        <GridItem xs={12}>\r\n          <DeveloperComp />\r\n        </GridItem>\r\n      </GridContainer>\r\n      {/* <GridContainer justify=\"center\">\r\n        <GridItem xs={12}>\r\n          <Maps />\r\n        </GridItem>\r\n      </GridContainer> */}\r\n    </div>\r\n  );\r\n}\r\n","import \"bootstrap/dist/css/bootstrap.css\";\r\nimport React, { Component } from \"react\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport filterFactory, {\r\n  textFilter,\r\n  dateFilter,\r\n  selectFilter,\r\n} from \"react-bootstrap-table2-filter\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Popup from \"components/Popup/Popup.js\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport moment from \"moment\";\r\nimport axios from \"axios\";\r\nimport { Icon, Fab } from \"@material-ui/core\";\r\n\r\nlet columnsGl = [];\r\n\r\nclass GroupsTable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showPopup: false,\r\n      rowId: null,\r\n      tests: [],\r\n      testsFiltered: [],\r\n      errors: [],\r\n      errorsFiltered: [],\r\n      errorsCsv: [],\r\n      backDisabled: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(global.BASE_URL + \"/api/trialtests/lightsresponses\", {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        this.setState({ errors: response.data });\r\n        if (this.props.justFinishedTest && this.props.lastTest) {\r\n          this.filterTests(this.props.lastTest);\r\n          this.togglePopup();\r\n        }\r\n\r\n        if (\r\n          this.props.location.state &&\r\n          this.props.location.state.fromDashboard === true\r\n        ) {\r\n          console.log(\r\n            this.props.location.state.fromDashboard,\r\n            this.props.location.state.lastTest,\r\n            this.props.location.state\r\n          );\r\n          this.filterTests(this.props.location.state.lastTest);\r\n          this.togglePopup();\r\n        }\r\n      });\r\n    this.handleSort();\r\n  }\r\n\r\n  filterTests = (rowId) => {\r\n    axios\r\n      .get(global.BASE_URL + \"/api/trialtests/lightsresponses/csv/\" + rowId, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        this.setState({\r\n          errorsCsv: response.data,\r\n          rowId: rowId,\r\n          testsFiltered: this.props.tests.filter((test) => {\r\n            if (test.id === rowId) {\r\n              return test;\r\n            } else return null;\r\n          }),\r\n          errorsFiltered: this.state.errors.filter((error) => {\r\n            if (error.trial_tests_id === rowId) {\r\n              return error;\r\n            } else return null;\r\n          }),\r\n        });\r\n      });\r\n  };\r\n\r\n  handleSort = () => {\r\n    this.table.sortContext.handleSort(columnsGl[0]);\r\n  };\r\n\r\n  locationFormatter = (column, colIndex, { sortElement, filterElement }) => {\r\n    return (\r\n      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n        {filterElement}\r\n        {column.text}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  togglePopup = () => {\r\n    this.setState(\r\n      {\r\n        showPopup: !this.state.showPopup,\r\n      },\r\n      () =>\r\n        this.state.showPopup === true\r\n          ? this.setState({ backDisabled: false })\r\n          : this.setState({ backDisabled: true })\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const dateFormatter = (cell) => {\r\n      return <span>{moment(cell).format(\"DD.MM.YYYY k:mm:ss\")}</span>;\r\n    };\r\n\r\n    const selectOptions = {\r\n      Finished: \"Finished\",\r\n      \"In Progress\": \"In Progress\",\r\n      Cancelled: \"Cancelled\",\r\n    };\r\n\r\n    const columns = [\r\n      {\r\n        dataField: \"id\",\r\n        text: \"ID\",\r\n        sort: true,\r\n        headerStyle: (colum, colIndex) => {\r\n          return { width: \"50px\" };\r\n        },\r\n      },\r\n      {\r\n        dataField: \"site\",\r\n        text: \"Site\",\r\n        sort: true,\r\n        filter: textFilter(),\r\n        headerStyle: () => {\r\n          return {\r\n            width: \"100px\",\r\n          };\r\n        },\r\n        headerFormatter: this.locationFormatter,\r\n        style: {\r\n          whiteSpace: \"nowrap\",\r\n          textOverflow: \"ellipsis\",\r\n          overflow: \"hidden\",\r\n        },\r\n      },\r\n      {\r\n        dataField: \"building\",\r\n        text: \"Building\",\r\n        sort: true,\r\n        filter: textFilter(),\r\n        headerStyle: () => {\r\n          return {\r\n            width: \"100px\",\r\n          };\r\n        },\r\n        headerFormatter: this.locationFormatter,\r\n        style: {\r\n          whiteSpace: \"nowrap\",\r\n          textOverflow: \"ellipsis\",\r\n          overflow: \"hidden\",\r\n        },\r\n      },\r\n      {\r\n        dataField: \"level\",\r\n        text: \"Levels\",\r\n        sort: true,\r\n        filter: textFilter(),\r\n        headerStyle: () => {\r\n          return {\r\n            width: \"100px\",\r\n          };\r\n        },\r\n        headerFormatter: this.locationFormatter,\r\n        style: {\r\n          whiteSpace: \"nowrap\",\r\n          textOverflow: \"ellipsis\",\r\n          overflow: \"hidden\",\r\n        },\r\n      },\r\n      {\r\n        dataField: \"group_name\",\r\n        text: \"Locations\",\r\n        sort: true,\r\n        filter: textFilter(),\r\n        hidden: true,\r\n        headerStyle: () => {\r\n          return {\r\n            width: \"160px\",\r\n          };\r\n        },\r\n        headerFormatter: this.locationFormatter,\r\n        style: {\r\n          whiteSpace: \"nowrap\",\r\n          textOverflow: \"ellipsis\",\r\n          overflow: \"hidden\",\r\n        },\r\n      },\r\n      {\r\n        dataField: \"lights\",\r\n        text: \"Devices\",\r\n        sort: true,\r\n        headerStyle: (colum, colIndex) => {\r\n          return { width: \"60px\" };\r\n        },\r\n      },\r\n      {\r\n        dataField: \"errors\",\r\n        text: \"Warnings\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"result\",\r\n        text: \"Status\",\r\n        sort: true,\r\n        filter: selectFilter({\r\n          options: selectOptions,\r\n        }),\r\n        headerFormatter: this.locationFormatter,\r\n        headerStyle: (colum, colIndex) => {\r\n          return { width: \"80px\" };\r\n        },\r\n      },\r\n      {\r\n        dataField: \"type\",\r\n        text: \"Type\",\r\n        sort: true,\r\n        filter: textFilter(),\r\n        headerFormatter: this.locationFormatter,\r\n        headerStyle: (colum, colIndex) => {\r\n          return { width: \"90px\" };\r\n        },\r\n        // style: {\r\n        //   whiteSpace: \"nowrap\",\r\n        //   textOverflow: \"ellipsis\",\r\n        //   overflow: \"hidden\",\r\n        // },\r\n      },\r\n      {\r\n        dataField: \"created_at\",\r\n        text: \"Start Time\",\r\n        sort: true,\r\n        filter: dateFilter({ dateStyle: { width: \"140px\", margin: \"0px\" } }),\r\n        formatter: dateFormatter,\r\n        headerFormatter: this.locationFormatter,\r\n        headerStyle: (colum, colIndex) => {\r\n          return { width: \"140px\" };\r\n        },\r\n      },\r\n    ];\r\n\r\n    columnsGl = columns;\r\n\r\n    const rowEvents = {\r\n      onClick: (e, row) => {\r\n        this.filterTests(row.id);\r\n        this.togglePopup();\r\n      },\r\n    };\r\n\r\n    const options = {\r\n      sizePerPageList: [\r\n        {\r\n          text: \"5\",\r\n          value: 5,\r\n        },\r\n        {\r\n          text: \"10\",\r\n          value: 10,\r\n        },\r\n        {\r\n          text: \"All\",\r\n          value: this.props.tests.length,\r\n        },\r\n      ],\r\n    };\r\n\r\n    return (\r\n      <div style={{ marginTop: 20 }}>\r\n        <Fab\r\n          disabled={this.state.backDisabled}\r\n          color=\"primary\"\r\n          style={{ transform: \"rotate(-90deg)\", margin: \"15px\" }}\r\n          onClick={() => {\r\n            this.setState({ documentGenerated: false });\r\n            this.togglePopup();\r\n          }}\r\n        >\r\n          <Icon>navigation</Icon>\r\n        </Fab>\r\n        <Fab\r\n          color=\"primary\"\r\n          style={{ margin: \"15px\", float: \"right\" }}\r\n          onClick={() => this.props.history.push(\"/admin/test\")}\r\n        >\r\n          <Icon>add</Icon>\r\n        </Fab>\r\n        {!this.state.showPopup ? (\r\n          <BootstrapTable\r\n            bootstrap4\r\n            noDataIndication={\"no results found\"}\r\n            ref={(n) => (this.table = n)}\r\n            wrapperClasses=\"table-responsive\"\r\n            bordered={true}\r\n            hover\r\n            keyField=\"id\"\r\n            data={this.props.tests}\r\n            columns={columns}\r\n            filter={filterFactory()}\r\n            rowEvents={rowEvents}\r\n            rowStyle={{ cursor: \"pointer\" }}\r\n            pagination={paginationFactory(options)}\r\n          />\r\n        ) : (\r\n          <Popup\r\n            showPopup={this.state.showPopup}\r\n            testsFiltered={this.state.testsFiltered}\r\n            errorsFiltered={this.state.errorsFiltered}\r\n            errorsCsv={this.state.errorsCsv}\r\n            rowId={this.state.rowId}\r\n            text='Click \"Close Button\" to hide popup'\r\n            closePopup={() => this.togglePopup()}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(GroupsTable);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { grayColor, hexToRgb } from \"assets/jss/material-dashboard-react.js\";\r\nimport decode from \"jwt-decode\";\r\nimport logo from \"assets/img/egg.png\";\r\nimport dashboardRoutes from \"../../routes.js\";\r\nimport nav from \"./nav.css\";\r\n\r\nclass UserNavbar extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      first_name: \"\",\r\n      last_name: \"\",\r\n      email: \"\",\r\n      errors: {},\r\n      isHidden: true,\r\n    };\r\n  }\r\n\r\n  logOut(e) {\r\n    e.preventDefault();\r\n    localStorage.removeItem(\"usertoken\");\r\n    this.props.history.push(`/`);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (localStorage.usertoken) {\r\n      const decoded = decode(localStorage.usertoken);\r\n      this.setState({\r\n        first_name: decoded.first_name,\r\n        last_name: decoded.last_name,\r\n        email: decoded.email,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const loginRegLink = (\r\n      <ul className=\"navbar-nav\">\r\n        <li className=\"nav-item btn\" style={{ fontSize: \"1.1em\" }}>\r\n          <Link to=\"/login\" className=\"nav-link text-white\">\r\n            Sign in\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    );\r\n\r\n    const userLink = (\r\n      <div>\r\n        <ul className=\"navbar-nav\">\r\n          <li className=\"nav-item btn\">\r\n            <Link\r\n              to=\"/admin/profile\"\r\n              className=\"nav-link btn text-white\"\r\n              style={{ fontSize: \"1.45em\" }}\r\n            >\r\n              {this.state.first_name} {this.state.last_name}\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item btn\">\r\n            <div\r\n              onClick={this.logOut.bind(this)}\r\n              className=\"nav-link btn text-white\"\r\n              style={{ fontSize: \"1.45em\" }}\r\n            >\r\n              Logout\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n\r\n    let comp = loginRegLink;\r\n\r\n    if (localStorage.usertoken) {\r\n      const { exp } = decode(localStorage.usertoken);\r\n      if (exp < new Date().getTime() / 1000) {\r\n        comp = loginRegLink;\r\n      } else comp = userLink;\r\n    }\r\n    return (\r\n      <nav\r\n        className=\"navbar navbar-expand-lg navbar-dark text-white fixed-top\"\r\n        style={{\r\n          backgroundColor: \"rgba(\" + hexToRgb(grayColor[8]) + \")\",\r\n          marginBottom: \"-70px\",\r\n          fontSize: \"1.3em\",\r\n          boxShadow: \"0px 10px 15px -12px rgba(0,0,0,0.6)\",\r\n          height: \"10vh\",\r\n        }}\r\n        id=\"navMedia\"\r\n      >\r\n        {\" \"}\r\n        {this.state.isHidden ? null : (\r\n          <div\r\n            style={{\r\n              top: \"10vh\",\r\n              left: \"-5px\",\r\n              height: \"300px\",\r\n              width: \"20vw\",\r\n              position: \"absolute\",\r\n              backgroundColor: \"#333333\",\r\n              borderRadius: \"0px 0px 3px 3px\",\r\n              overflowY: \"scroll\",\r\n            }}\r\n          >\r\n            <ul style={{ display: \"inline\" }}>\r\n              {dashboardRoutes.map((item, index) => (\r\n                <li key={index} style={{ textDecoration: \"none\" }}>\r\n                  <Link\r\n                    to={\"/admin\" + item.path}\r\n                    onClick={() => {\r\n                      this.setState({ isHidden: !this.state.isHidden });\r\n                    }}\r\n                  >\r\n                    <p\r\n                      style={{\r\n                        fontSize: \"1em\",\r\n                        marginLeft: \"10px\",\r\n                        textDecoration: \"none\",\r\n                        color: \"white\",\r\n                      }}\r\n                    >\r\n                      {item.name}\r\n                    </p>\r\n                  </Link>\r\n                </li>\r\n              ))}{\" \"}\r\n              <div\r\n                style={{\r\n                  textAlign: \"left\",\r\n                  float: \"left\",\r\n                  fontSize: \"1.1em\",\r\n                }}\r\n              >\r\n                {comp}\r\n              </div>\r\n            </ul>\r\n          </div>\r\n        )}\r\n        {localStorage.usertoken ? (\r\n          <button\r\n            className=\"navbar-toggler float-right\"\r\n            style={{ marginTop: \"-1vh\", height: \"7vh\" }}\r\n            type=\"button\"\r\n            data-toggle=\"collapse\"\r\n            data-target=\"#navbarsExample10\"\r\n            aria-controls=\"navbarsExample10\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n            onClick={() => this.setState({ isHidden: !this.state.isHidden })}\r\n          >\r\n            <span\r\n              className=\"navbar-toggler-icon\"\r\n              style={{ height: \"5vh\", color: \"white\" }}\r\n            />\r\n          </button>\r\n        ) : null}\r\n        <Link\r\n          className=\"navbar-brand float-left font-weight-light\"\r\n          to=\"/admin/dashboard\"\r\n        >\r\n          <img\r\n            src={logo}\r\n            width=\"30vw\"\r\n            height=\"30vh\"\r\n            className=\"d-inline-block align-top\"\r\n            alt=\"Logo\"\r\n          />\r\n          {/** */} EmergencyEGG\r\n        </Link>\r\n        <div\r\n          className=\"collapse navbar-collapse justify-content-md-end\"\r\n          id=\"navbarsExample10\"\r\n        >\r\n          {comp}\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UserNavbar);\r\n","import {\r\n  defaultFont,\r\n  primaryBoxShadow,\r\n  infoBoxShadow,\r\n  successBoxShadow,\r\n  warningBoxShadow,\r\n  dangerBoxShadow,\r\n  roseBoxShadow,\r\n  whiteColor,\r\n  blackColor,\r\n  grayColor,\r\n  infoColor,\r\n  successColor,\r\n  dangerColor,\r\n  roseColor,\r\n  primaryColor,\r\n  warningColor,\r\n  hexToRgb,\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst snackbarContentStyle = {\r\n  root: {\r\n    ...defaultFont,\r\n    flexWrap: \"unset\",\r\n    position: \"relative\",\r\n    padding: \"20px 15px\",\r\n    lineHeight: \"20px\",\r\n    marginBottom: \"20px\",\r\n    fontSize: \"14px\",\r\n    backgroundColor: whiteColor,\r\n    color: grayColor[7],\r\n    borderRadius: \"3px\",\r\n    minWidth: \"unset\",\r\n    maxWidth: \"unset\",\r\n    boxShadow:\r\n      \"0 12px 20px -10px rgba(\" +\r\n      hexToRgb(whiteColor) +\r\n      \", 0.28), 0 4px 20px 0px rgba(\" +\r\n      hexToRgb(blackColor) +\r\n      \", 0.12), 0 7px 8px -5px rgba(\" +\r\n      hexToRgb(whiteColor) +\r\n      \", 0.2)\",\r\n  },\r\n  top20: {\r\n    top: \"20px\",\r\n  },\r\n  top40: {\r\n    top: \"40px\",\r\n  },\r\n  info: {\r\n    backgroundColor: infoColor[3],\r\n    color: whiteColor,\r\n    ...infoBoxShadow,\r\n  },\r\n  success: {\r\n    backgroundColor: successColor[3],\r\n    color: whiteColor,\r\n    ...successBoxShadow,\r\n  },\r\n  warning: {\r\n    backgroundColor: warningColor[3],\r\n    color: whiteColor,\r\n    ...warningBoxShadow,\r\n  },\r\n  danger: {\r\n    backgroundColor: dangerColor[3],\r\n    color: whiteColor,\r\n    ...dangerBoxShadow,\r\n  },\r\n  primary: {\r\n    backgroundColor: primaryColor[3],\r\n    color: whiteColor,\r\n    ...primaryBoxShadow,\r\n  },\r\n  rose: {\r\n    backgroundColor: roseColor[3],\r\n    color: whiteColor,\r\n    ...roseBoxShadow,\r\n  },\r\n  message: {\r\n    padding: \"0\",\r\n    display: \"block\",\r\n    maxWidth: \"89%\",\r\n  },\r\n  close: {\r\n    width: \"11px\",\r\n    height: \"11px\",\r\n  },\r\n  iconButton: {\r\n    width: \"24px\",\r\n    height: \"24px\",\r\n    padding: \"0px\",\r\n  },\r\n  icon: {\r\n    display: \"block\",\r\n    left: \"15px\",\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    marginTop: \"-15px\",\r\n    width: \"30px\",\r\n    height: \"30px\",\r\n  },\r\n  infoIcon: {\r\n    color: infoColor[3],\r\n  },\r\n  successIcon: {\r\n    color: successColor[3],\r\n  },\r\n  warningIcon: {\r\n    color: warningColor[3],\r\n  },\r\n  dangerIcon: {\r\n    color: dangerColor[3],\r\n  },\r\n  primaryIcon: {\r\n    color: primaryColor[3],\r\n  },\r\n  roseIcon: {\r\n    color: roseColor[3],\r\n  },\r\n  iconMessage: {\r\n    paddingLeft: \"50px\",\r\n    display: \"block\",\r\n  },\r\n  actionRTL: {\r\n    marginLeft: \"-8px\",\r\n    marginRight: \"auto\",\r\n  },\r\n};\r\n\r\nexport default snackbarContentStyle;\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Snack from \"@material-ui/core/Snackbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n// @material-ui/icons\r\nimport Close from \"@material-ui/icons/Close\";\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/snackbarContentStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function Snackbar(props) {\r\n  const classes = useStyles();\r\n  const { message, color, close, icon, place, open, rtlActive } = props;\r\n  var action = [];\r\n  const messageClasses = classNames({\r\n    [classes.iconMessage]: icon !== undefined,\r\n  });\r\n  if (close !== undefined) {\r\n    action = [\r\n      <IconButton\r\n        className={classes.iconButton}\r\n        key=\"close\"\r\n        aria-label=\"Close\"\r\n        color=\"inherit\"\r\n        onClick={() => props.closeNotification()}\r\n      >\r\n        <Close className={classes.close} />\r\n      </IconButton>,\r\n    ];\r\n  }\r\n  return (\r\n    <Snack\r\n      anchorOrigin={{\r\n        vertical: place.indexOf(\"t\") === -1 ? \"bottom\" : \"top\",\r\n        horizontal:\r\n          place.indexOf(\"l\") !== -1\r\n            ? \"left\"\r\n            : place.indexOf(\"c\") !== -1\r\n            ? \"center\"\r\n            : \"right\",\r\n      }}\r\n      open={open}\r\n      message={\r\n        <div>\r\n          {icon !== undefined ? <props.icon className={classes.icon} /> : null}\r\n          <span className={messageClasses}>{message}</span>\r\n        </div>\r\n      }\r\n      action={action}\r\n      ContentProps={{\r\n        classes: {\r\n          root: classes.root + \" \" + classes[color],\r\n          message: classes.message,\r\n          action: classNames({ [classes.actionRTL]: rtlActive }),\r\n        },\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbar.propTypes = {\r\n  message: PropTypes.node.isRequired,\r\n  color: PropTypes.oneOf([\"info\", \"success\", \"warning\", \"danger\", \"primary\"]),\r\n  close: PropTypes.bool,\r\n  icon: PropTypes.object,\r\n  place: PropTypes.oneOf([\"tl\", \"tr\", \"tc\", \"br\", \"bl\", \"bc\"]),\r\n  open: PropTypes.bool,\r\n  rtlActive: PropTypes.bool,\r\n  closeNotification: PropTypes.func,\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport const register = (newUser) => {\r\n  return axios\r\n    .post(global.BASE_URL + \"/users/register\", {\r\n      first_name: newUser.first_name,\r\n      last_name: newUser.last_name,\r\n      email: newUser.email,\r\n      password: newUser.password,\r\n      role: newUser.role,\r\n      sites: newUser.sites,\r\n    })\r\n    .then((res) => {\r\n      console.log(res);\r\n    });\r\n};\r\nexport let loginVar = \"\";\r\nexport const login = (user) => {\r\n  return axios\r\n    .post(global.BASE_URL + \"/users/login\", {\r\n      email: user.email,\r\n      password: user.password,\r\n    })\r\n    .then((res) => {\r\n      localStorage.setItem(\"usertoken\", res.data);\r\n      return res.data;\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        loginVar = err.response.data;\r\n        console.log(err.response);\r\n      } else loginVar = \"Server not responding, check your connection\";\r\n    });\r\n};\r\n","import React from \"react\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst styles = {\r\n  grid: {\r\n    padding: \"0 15px !important\"\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function GridItem(props) {\r\n  const classes = useStyles();\r\n  const { children, ...rest } = props;\r\n  return (\r\n    <Grid item {...rest} className={classes.grid}>\r\n      {children}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nGridItem.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/egg.39e564b5.png\";","import {\r\n  drawerWidth,\r\n  transition,\r\n  container,\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst appStyle = (theme) => ({\r\n  wrapper: {\r\n    position: \"relative\",\r\n    top: \"0\",\r\n    height: \"100vh\",\r\n  },\r\n  mainPanel: {\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n    },\r\n    overflow: \"auto\",\r\n    position: \"relative\",\r\n    float: \"right\",\r\n    ...transition,\r\n    maxHeight: \"100%\",\r\n    width: \"100%\",\r\n    overflowScrolling: \"touch\",\r\n  },\r\n  content: {\r\n    marginTop: \"10vh\",\r\n    padding: \"30px 15px\",\r\n    minHeight: \"calc(100vh - 123px)\",\r\n  },\r\n  container,\r\n  map: {\r\n    marginTop: \"70px\",\r\n  },\r\n});\r\n\r\nexport default appStyle;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nexport default function CircularProgressWithLabel(props) {\r\n  var hr = props.duration.hours();\r\n  var min = props.duration.minutes();\r\n  var sec = props.duration.seconds();\r\n  return (\r\n    <Box position=\"relative\" display=\"inline-flex\">\r\n      <CircularProgress variant=\"static\" size={60} {...props} />\r\n      <Box\r\n        top={0}\r\n        left={0}\r\n        bottom={0}\r\n        right={0}\r\n        position=\"absolute\"\r\n        display=\"flex\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <Typography\r\n          variant=\"caption\"\r\n          component=\"div\"\r\n          color=\"textSecondary\"\r\n        >{`${hr}:${min}:${sec}`}</Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nCircularProgressWithLabel.propTypes = {\r\n  /**\r\n   * The value of the progress indicator for the determinate and static variants.\r\n   * Value between 0 and 100.\r\n   */\r\n  value: PropTypes.number.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport _ from \"lodash\";\r\nimport LiveFloorPlan from \"components/Test/LiveFloorPlan\";\r\n\r\nexport default class LiveFloorplanWrapper extends Component {\r\n  state = {\r\n    devicesGrouped: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    let devicesGrouped = _.groupBy(this.props.liveDevices, \"levels_id\"); //group the devices by \"levels_id\"\r\n    this.setState({ devicesGrouped: devicesGrouped });\r\n  }\r\n\r\n  render() {\r\n    let devicesGrouped = _.groupBy(this.props.liveDevices, \"levels_id\");\r\n    return (\r\n      <div>\r\n        {_.map(devicesGrouped, (subArr, i) => {\r\n          return <LiveFloorPlan key={i} liveDevices={subArr} />; //map those devices and return LiveFloorPlan component which will display floorplans\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport Draggable from \"react-draggable\";\r\nimport axios from \"axios\";\r\nimport UnassignedDevices from \"components/LiveEmStatus/UnassignedDevices\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport {\r\n  IconButton,\r\n  TextField,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  Button,\r\n  Icon,\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n    width: \"100%\",\r\n  },\r\n  \"@keyframes blinker\": {\r\n    \"0%\": { opacity: \"0.2\" },\r\n    \"20%\": { opacity: \"0.5\" },\r\n    \"50%\": { opacity: \"1\" },\r\n    \"80%\": { opacity: \"0.5\" },\r\n    \"100%\": { opacity: \"0.2\" },\r\n  },\r\n  blink: {\r\n    color: \"#3F51B5\",\r\n    animationName: \"$blinker\",\r\n    animationDuration: \"1.5s\",\r\n    animationTimingFunction: \"linear\",\r\n    animationIterationCount: \"infinite\",\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: \"40vw\",\r\n  },\r\n  card: {\r\n    float: \"left\",\r\n    width: \"100%\",\r\n    maxHeight: \"60px\",\r\n    margin: \"auto\",\r\n    transition: \"0.5s\",\r\n    padding: \"5px\",\r\n    borderTopLeftRadius: \"10px\",\r\n    borderTopRightRadius: \"10px\",\r\n    backgroundColor: \"rgba(161,161,161,0.2)\",\r\n    color: \"#464646\",\r\n  },\r\n  heading: {\r\n    float: \"left\",\r\n    paddingLeft: \"5px\",\r\n    paddingTop: \"4px\",\r\n    textAlign: \"center\",\r\n    margin: \"auto\",\r\n    backgroundColor: \"#3452B4\",\r\n    borderRadius: \"100px\",\r\n    width: \"50px\",\r\n    height: \"50px\",\r\n    color: \"white\",\r\n    marginRight: \"5px\",\r\n  },\r\n  changeButton: {\r\n    display: \"inline-block\",\r\n    margin: \"5px\",\r\n  },\r\n}));\r\n\r\nexport default function LiveFloorPlan(props) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [openedPopoverId, setOpenedPopoverId] = React.useState(null);\r\n  const [openedContextMenu, setOpenedContextMenu] = React.useState(false);\r\n  const [floorplanURL, setFloorplanURL] = React.useState(\"\");\r\n  const [floorplanNotFound, setFloorplanNotFound] = React.useState(\"\");\r\n  const [comment, setComment] = React.useState(\"\");\r\n  const [devices, setDevices] = React.useState(\"\");\r\n  const [activeDrags, setActiveDrags] = React.useState(0);\r\n  const [success, setSuccess] = React.useState(false);\r\n  const [selectedFile, setSelectedFile] = React.useState();\r\n\r\n  const openContextMenu = (event, deviceId) => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    if (decoded.access >= 99) {\r\n      setOpenedContextMenu(deviceId);\r\n      console.log(deviceId);\r\n    }\r\n  };\r\n\r\n  const handleCloseContextMenu = () => {\r\n    setOpenedContextMenu(null);\r\n  };\r\n\r\n  const handleHover = (event, deviceId) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setOpenedPopoverId(deviceId);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n    setOpenedPopoverId(null);\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n\r\n  const checkConnectivity = (deviceId) => {\r\n    console.log(\r\n      liveDevices_.find((el) => {\r\n        return el.id === deviceId;\r\n      })\r\n    );\r\n    const device = liveDevices_.find((el) => {\r\n      return el.id === deviceId;\r\n    });\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/dev/checkconnectivity\",\r\n      data: {\r\n        topic: \"LIVESPCOM\",\r\n        device: device,\r\n      },\r\n      timeout: 0,\r\n    }).then((res) => {\r\n      props.refreshData();\r\n      console.log(res);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const { devices } = props;\r\n    setDevices(devices);\r\n    axios\r\n      .get(global.BASE_URL + \"/api/levels/floorplan/\" + props.clickedLevel, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        responseType: \"blob\",\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setFloorplanNotFound(\"No floorplan assigned.\");\r\n      })\r\n      .then((response) => {\r\n        if (response) setFloorplanURL(URL.createObjectURL(response.data));\r\n      });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props.devices]);\r\n\r\n  const handleSavePositions = () => {\r\n    axios({\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/lights/edit/many\",\r\n      data: { devices: devices },\r\n    }).then((res) => {\r\n      console.log(res);\r\n      if (res.status === 200) {\r\n        setSuccess(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleDrag = (e, ui, index, id) => {\r\n    let { liveDevices } = props;\r\n    liveDevices[index].fp_coordinates_bot =\r\n      liveDevices[index].fp_coordinates_bot + ui.deltaY;\r\n    liveDevices[index].fp_coordinates_left =\r\n      liveDevices[index].fp_coordinates_left + ui.deltaX;\r\n    setDevices(liveDevices);\r\n  };\r\n\r\n  const onStart = () => {\r\n    setActiveDrags(activeDrags + 1);\r\n  };\r\n\r\n  const onStop = () => {\r\n    setActiveDrags(activeDrags - 1);\r\n  };\r\n\r\n  const uploadFP = (event) => {\r\n    const selectedFile = event.target.files[0];\r\n    var idxDot = selectedFile.name.lastIndexOf(\".\") + 1;\r\n    var extFile = selectedFile.name\r\n      .substr(idxDot, selectedFile.name.length)\r\n      .toLowerCase();\r\n    // eslint-disable-next-line\r\n    if (extFile == \"jpg\" || extFile == \"jpeg\") {\r\n      //do whatever want to do\r\n\r\n      setSelectedFile(event.target.files[0]);\r\n\r\n      const data = new FormData();\r\n      data.append(\"level\", props.clickedLevel);\r\n      data.append(\"file\", event.target.files[0]);\r\n\r\n      axios\r\n        .post(global.BASE_URL + \"/api/levels/testUpload\", data, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          responseType: \"blob\",\r\n        })\r\n        .then((response) => {\r\n          console.log(URL.createObjectURL(response.data));\r\n          setFloorplanURL(URL.createObjectURL(response.data));\r\n        });\r\n    } else {\r\n      alert(\"Only jpg/jpeg files are allowed\");\r\n    }\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n  const dragHandlers = { onStart: onStart, onStop: onStop };\r\n\r\n  const liveDevices_ = props.liveDevices;\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.card}>\r\n        <Typography variant=\"h4\" style={{ marginTop: \"5px\" }}>\r\n          Level {liveDevices_.length > 0 ? liveDevices_[0].level : null}{\" \"}\r\n          Luminaires: {liveDevices_.length > 1 ? liveDevices_.length : 0}\r\n          <p style={{ float: \"right\" }}></p>\r\n        </Typography>\r\n      </div>\r\n      <div\r\n        style={{\r\n          overflowX: \"scroll\",\r\n          width: \"100%\",\r\n          height: \"90vh\",\r\n          border: \"1pt solid black\",\r\n        }}\r\n      >\r\n        <div\r\n          // src={this.state.objectURL}\r\n          style={{\r\n            height: \"700px\",\r\n            width: \"1000px\",\r\n            backgroundRepeat: \"no-repeat\",\r\n            backgroundSize: \"contain\",\r\n            backgroundImage: `url(${floorplanURL})`,\r\n          }}\r\n          alt=\"Third Level\"\r\n        >\r\n          <div style={{ width: \"100%\", height: \"100%\", position: \"relative\" }}>\r\n            {liveDevices_.length > 0 ? (\r\n              !floorplanNotFound ? (\r\n                <div></div>\r\n              ) : (\r\n                <div>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Upload (only .jpg file extension)\r\n                  </Typography>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\".jpg\"\r\n                    onChange={uploadFP}\r\n                    name=\"upload\"\r\n                  />\r\n                </div>\r\n              )\r\n            ) : (\r\n              <Typography variant=\"h4\" gutterBottom>\r\n                No devices{\" \"}\r\n              </Typography>\r\n            )}\r\n            {liveDevices_.length > 0 && !floorplanNotFound\r\n              ? liveDevices_.map((el, index) => {\r\n                  let color = \"grey\";\r\n                  let blink;\r\n                  if (el.status) {\r\n                    blink = el.status.includes(\"Battery powered\")\r\n                      ? classes.blink\r\n                      : null;\r\n                    if (el.status.includes(\"OK\")) color = \"#4fa328\";\r\n                    if (el.status.includes(\"No connection to driver\"))\r\n                      color = \"orange\";\r\n                    if (el.status.includes(\"Weak connection to mesh\"))\r\n                      color = \"#F50158\";\r\n                    if (el.status.includes(\"Battery disconnected\"))\r\n                      color = \"purple\";\r\n                  }\r\n\r\n                  // switch (el.status) {\r\n                  //   case \"OK\":\r\n                  //     color = \"#4fa328\";\r\n                  //     break;\r\n                  //   case \"No connection to driver\":\r\n                  //     color = \"orange\";\r\n                  //     break;\r\n                  //   case \"Battery powered/under test\":\r\n                  //     color = \"blue\";\r\n                  //     setInterval(() => {\r\n                  //       color = \"grey\";\r\n                  //     }, 1000);\r\n                  //     setInterval(() => {\r\n                  //       color = \"blue\";\r\n                  //     }, 2000);\r\n                  //     break;\r\n                  //   case \"Weak connection to mesh\":\r\n                  //     color = \"#F50158\";\r\n                  //     break;\r\n                  //   case \"Battery disconnected\":\r\n                  //     color = \"purple\";\r\n                  //     break;\r\n                  //   default:\r\n                  //     color = \"grey\";\r\n                  //     break;\r\n                  // }\r\n\r\n                  return (\r\n                    <Draggable\r\n                      key={el.id}\r\n                      position={{\r\n                        x: el.fp_coordinates_left,\r\n                        y: el.fp_coordinates_bot,\r\n                      }}\r\n                      onDrag={(e, ui) => handleDrag(e, ui, index, el.id)}\r\n                      {...dragHandlers}\r\n                      onStart={onStart}\r\n                      onStop={onStop}\r\n                      grid={[5, 5]}\r\n                      bounds={\"parent\"}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          width: \"0px\",\r\n                          height: \"0px\",\r\n                          position: \"relative\",\r\n                        }}\r\n                      >\r\n                        <Icon\r\n                          className={blink}\r\n                          style={{\r\n                            fontSize: \"4em\",\r\n                            position: \"absolute\",\r\n                            cursor: \"move\",\r\n                            color: color,\r\n                          }}\r\n                          onClick={(e) => openContextMenu(e, el.id)}\r\n                          onMouseEnter={(e) => handleHover(e, el.id)}\r\n                          onMouseLeave={handleClose}\r\n                          onTouchStart={(e) => handleHover(e, el.id)}\r\n                          onTouchEnd={handleClose}\r\n                        >\r\n                          location_on\r\n                        </Icon>\r\n                        {/* )} */}\r\n\r\n                        <Dialog\r\n                          open={openedContextMenu === el.id}\r\n                          onClose={handleCloseContextMenu}\r\n                          aria-labelledby=\"form-dialog-title\"\r\n                        >\r\n                          <DialogTitle id=\"form-dialog-title\">\r\n                            {`${el.device_id} - ${el.type} - ${el.node_id}`}\r\n                          </DialogTitle>\r\n                          <DialogContent>\r\n                            <DialogContentText>\r\n                              Status: {el.status}\r\n                            </DialogContentText>\r\n                            <DialogContentText>\r\n                              {el.comment ? (\r\n                                <span>\r\n                                  Comment: <i>{el.comment}</i>\r\n                                </span>\r\n                              ) : (\r\n                                <i>No comment</i>\r\n                              )}\r\n                            </DialogContentText>\r\n                            <TextField\r\n                              className={classes.textField}\r\n                              autoFocus\r\n                              margin=\"dense\"\r\n                              id=\"name\"\r\n                              label=\"Add comment\"\r\n                              type=\"text\"\r\n                              onChange={onChange}\r\n                            />\r\n                            <IconButton\r\n                              onClick={() => props.addComment(el.id, comment)}\r\n                              color=\"primary\"\r\n                            >\r\n                              <Icon>add_comment</Icon>\r\n                            </IconButton>\r\n                            <IconButton\r\n                              onClick={() => props.addComment(el.id, \"\")}\r\n                              color=\"secondary\"\r\n                            >\r\n                              <Icon>delete</Icon>\r\n                            </IconButton>\r\n                          </DialogContent>\r\n                          <DialogActions>\r\n                            <Button onClick={() => checkConnectivity(el.id)}>\r\n                              test connectivity\r\n                            </Button>\r\n                            <Button\r\n                              onClick={handleCloseContextMenu}\r\n                              color=\"primary\"\r\n                            >\r\n                              close\r\n                            </Button>\r\n                          </DialogActions>\r\n                        </Dialog>\r\n\r\n                        {activeDrags < 1 ? (\r\n                          <Popover\r\n                            id={id}\r\n                            open={openedPopoverId === el.id}\r\n                            anchorEl={anchorEl}\r\n                            style={{ pointerEvents: \"none\" }} //important\r\n                            anchorOrigin={{\r\n                              vertical: \"bottom\",\r\n                              horizontal: \"center\",\r\n                            }}\r\n                            transformOrigin={{\r\n                              vertical: \"top\",\r\n                              horizontal: \"center\",\r\n                            }}\r\n                          >\r\n                            <div>\r\n                              <Typography className={classes.typography}>\r\n                                {`${el.device_id} - ${el.type} - ${el.node_id}`}\r\n                              </Typography>\r\n                            </div>\r\n                            <div>\r\n                              <Typography className={classes.typography}>\r\n                                Status: {el.status}\r\n                              </Typography>\r\n                            </div>\r\n                          </Popover>\r\n                        ) : null}\r\n                      </div>\r\n                    </Draggable>\r\n                  );\r\n                })\r\n              : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Button color=\"primary\" onClick={handleSavePositions}>\r\n        save device positions\r\n      </Button>\r\n      {success ? <h5>Device positions saved.</h5> : null}\r\n\r\n      <UnassignedDevices\r\n        clickedBuilding={props.clickedBuilding}\r\n        clickedLevel={props.clickedLevel}\r\n        clickedGroup={props.clickedGroup}\r\n        assignLight={props.assignLight}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","/*!\r\n\r\n =========================================================\r\n * Material Dashboard React - v1.8.0 based on Material Dashboard - v1.2.0\r\n =========================================================\r\n\r\n * Product Page: http://www.creative-tim.com/product/material-dashboard-react\r\n * Copyright 2019 Creative Tim (http://www.creative-tim.com)\r\n * Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\r\n\r\n =========================================================\r\n\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n */\r\n\r\n// ##############################\r\n// // // Function that converts from hex color to rgb color\r\n// // // Example: input = #9c27b0 => output = 156, 39, 176\r\n// // // Example: input = 9c27b0 => output = 156, 39, 176\r\n// // // Example: input = #999 => output = 153, 153, 153\r\n// // // Example: input = 999 => output = 153, 153, 153\r\n// #############################\r\nconst hexToRgb = input => {\r\n  input = input + \"\";\r\n  input = input.replace(\"#\", \"\");\r\n  let hexRegex = /[0-9A-Fa-f]/g;\r\n  if (!hexRegex.test(input) || (input.length !== 3 && input.length !== 6)) {\r\n    throw new Error(\"input is not a valid hex color.\");\r\n  }\r\n  if (input.length === 3) {\r\n    let first = input[0];\r\n    let second = input[1];\r\n    let last = input[2];\r\n    input = first + first + second + second + last + last;\r\n  }\r\n  input = input.toUpperCase(input);\r\n  let first = input[0] + input[1];\r\n  let second = input[2] + input[3];\r\n  let last = input[4] + input[5];\r\n  return (\r\n    parseInt(first, 16) +\r\n    \", \" +\r\n    parseInt(second, 16) +\r\n    \", \" +\r\n    parseInt(last, 16)\r\n  );\r\n};\r\n\r\n// ##############################\r\n// // // Variables - Styles that are used on more than one component\r\n// #############################\r\n\r\nconst drawerWidth = 230;\r\n\r\nconst transition = {\r\n  transition: \"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)\"\r\n};\r\n\r\nconst container = {\r\n  paddingRight: \"15px\",\r\n  paddingLeft: \"15px\",\r\n  marginRight: \"auto\",\r\n  marginLeft: \"auto\"\r\n};\r\n\r\nconst defaultFont = {\r\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n  fontWeight: \"300\",\r\n  lineHeight: \"1.5em\"\r\n};\r\n\r\nconst primaryColor = [\"#9c27b0\", \"#ab47bc\", \"#8e24aa\", \"#af2cc5\"];\r\nconst warningColor = [\"#ff9800\", \"#ffa726\", \"#fb8c00\", \"#ffa21a\"];\r\nconst dangerColor = [\"#f44336\", \"#ef5350\", \"#e53935\", \"#f55a4e\"];\r\nconst successColor = [\"#4caf50\", \"#66bb6a\", \"#43a047\", \"#5cb860\"];\r\nconst infoColor = [\"#00acc1\", \"#26c6da\", \"#00acc1\", \"#00d3ee\"];\r\nconst roseColor = [\"#e91e63\", \"#ec407a\", \"#d81b60\", \"#eb3573\"];\r\nconst grayColor = [\r\n  \"#999\",\r\n  \"#777\",\r\n  \"#3C4858\",\r\n  \"#AAAAAA\",\r\n  \"#D2D2D2\",\r\n  \"#DDD\",\r\n  \"#b4b4b4\",\r\n  \"#555555\",\r\n  \"#333\",\r\n  \"#a9afbb\",\r\n  \"#eee\",\r\n  \"#e7e7e7\"\r\n];\r\nconst blackColor = \"#000\";\r\nconst whiteColor = \"#FFF\";\r\n\r\nconst boxShadow = {\r\n  boxShadow:\r\n    \"0 10px 30px -12px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.42), 0 4px 25px 0px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.12), 0 8px 10px -5px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.2)\"\r\n};\r\n\r\nconst primaryBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(primaryColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst infoBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(infoColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst successBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(successColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst warningBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(warningColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst dangerBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(dangerColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst roseBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(roseColor[0]) +\r\n    \",.4)\"\r\n};\r\n\r\nconst warningCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + warningColor[1] + \", \" + warningColor[2] + \")\",\r\n  ...warningBoxShadow\r\n};\r\nconst successCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + successColor[1] + \", \" + successColor[2] + \")\",\r\n  ...successBoxShadow\r\n};\r\nconst dangerCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + dangerColor[1] + \", \" + dangerColor[2] + \")\",\r\n  ...dangerBoxShadow\r\n};\r\nconst infoCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + infoColor[1] + \", \" + infoColor[2] + \")\",\r\n  ...infoBoxShadow\r\n};\r\nconst primaryCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + primaryColor[1] + \", \" + primaryColor[2] + \")\",\r\n  ...primaryBoxShadow\r\n};\r\nconst roseCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + roseColor[1] + \", \" + roseColor[2] + \")\",\r\n  ...roseBoxShadow\r\n};\r\n\r\nconst cardActions = {\r\n  margin: \"0 20px 10px\",\r\n  paddingTop: \"10px\",\r\n  borderTop: \"1px solid \" + grayColor[10],\r\n  height: \"auto\",\r\n  ...defaultFont\r\n};\r\n\r\nconst cardHeader = {\r\n  margin: \"-20px 15px 0\",\r\n  borderRadius: \"3px\",\r\n  padding: \"15px\"\r\n};\r\n\r\nconst card = {\r\n  display: \"inline-block\",\r\n  position: \"relative\",\r\n  width: \"100%\",\r\n  margin: \"25px 0\",\r\n  boxShadow: \"0 1px 4px 0 rgba(\" + hexToRgb(blackColor) + \", 0.14)\",\r\n  borderRadius: \"3px\",\r\n  color: \"rgba(\" + hexToRgb(blackColor) + \", 0.87)\",\r\n  background: whiteColor\r\n};\r\n\r\nconst defaultBoxShadow = {\r\n  border: \"0\",\r\n  borderRadius: \"3px\",\r\n  boxShadow:\r\n    \"0 10px 20px -12px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.42), 0 3px 20px 0px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.12), 0 8px 10px -5px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.2)\",\r\n  padding: \"10px 0\",\r\n  transition: \"all 150ms ease 0s\"\r\n};\r\n\r\nconst title = {\r\n  color: grayColor[2],\r\n  textDecoration: \"none\",\r\n  fontWeight: \"300\",\r\n  marginTop: \"30px\",\r\n  marginBottom: \"25px\",\r\n  minHeight: \"32px\",\r\n  fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n  \"& small\": {\r\n    color: grayColor[1],\r\n    fontWeight: \"400\",\r\n    lineHeight: \"1\"\r\n  }\r\n};\r\n\r\nconst cardTitle = {\r\n  ...title,\r\n  marginTop: \"0\",\r\n  marginBottom: \"3px\",\r\n  minHeight: \"auto\",\r\n  \"& a\": {\r\n    ...title,\r\n    marginTop: \".625rem\",\r\n    marginBottom: \"0.75rem\",\r\n    minHeight: \"auto\"\r\n  }\r\n};\r\n\r\nconst cardSubtitle = {\r\n  marginTop: \"-.375rem\"\r\n};\r\n\r\nconst cardLink = {\r\n  \"& + $cardLink\": {\r\n    marginLeft: \"1.25rem\"\r\n  }\r\n};\r\n\r\nexport {\r\n  hexToRgb,\r\n  //variables\r\n  drawerWidth,\r\n  transition,\r\n  container,\r\n  boxShadow,\r\n  card,\r\n  defaultFont,\r\n  primaryColor,\r\n  warningColor,\r\n  dangerColor,\r\n  successColor,\r\n  infoColor,\r\n  roseColor,\r\n  grayColor,\r\n  blackColor,\r\n  whiteColor,\r\n  primaryBoxShadow,\r\n  infoBoxShadow,\r\n  successBoxShadow,\r\n  warningBoxShadow,\r\n  dangerBoxShadow,\r\n  roseBoxShadow,\r\n  warningCardHeader,\r\n  successCardHeader,\r\n  dangerCardHeader,\r\n  infoCardHeader,\r\n  primaryCardHeader,\r\n  roseCardHeader,\r\n  cardActions,\r\n  cardHeader,\r\n  defaultBoxShadow,\r\n  title,\r\n  cardTitle,\r\n  cardSubtitle,\r\n  cardLink\r\n};\r\n","import React from \"react\";\r\nimport NoDataIndication from \"components/NoDataIndication/NoDataIndicationTable\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport MaterialTable from \"material-table\";\r\nimport axios from \"axios\";\r\n\r\nexport default function buildings(props) {\r\n  const columns = [\r\n    {\r\n      field: \"id\",\r\n      title: \"ID\",\r\n      hidden: true,\r\n    },\r\n    {\r\n      field: \"device_id\",\r\n      title: \"Device ID\",\r\n    },\r\n    {\r\n      field: \"type\",\r\n      title: \"Fitting type\",\r\n      lookup: {\r\n        \"EX-58\": \"EX-58\",\r\n        \"F-51E\": \"F-51E\",\r\n        \"SA-25E\": \"SA-25E\",\r\n        \"S-25AE\": \"S-25AE\",\r\n        \"E-51\": \"E-51\",\r\n        \"EX-51E\": \"EX-51E\",\r\n      },\r\n    },\r\n    {\r\n      field: \"node_id\",\r\n      title: \"Mesh Address\",\r\n    },\r\n    {\r\n      field: \"is_assigned\",\r\n      title: \"Battery\",\r\n      editable: \"never\",\r\n    },\r\n    {\r\n      field: \"building\",\r\n      title: \"Luminance\",\r\n      editable: \"never\",\r\n    },\r\n  ];\r\n\r\n  const addEmpty = async (updateData) => {\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/lights/addempty/5\",\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const bulkEdit = async (updateData) => {\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/lights/bulkedit\",\r\n      data: {\r\n        update_data: updateData,\r\n      },\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const updateDevice = async (updateData) => {\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/lights/edit/single/\" + updateData.id,\r\n      data: {\r\n        device_id: updateData.device_id,\r\n        node_id: updateData.node_id,\r\n        type: updateData.type,\r\n      },\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const addDevice = async (updateData) => {\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/lights/add\",\r\n      data: {\r\n        device_id: updateData.device_id,\r\n        node_id: updateData.node_id,\r\n        type: updateData.type,\r\n        levels_id: props.clickedLevel,\r\n      },\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const deleteDevice = async (data) => {\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"delete\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/lights/\" + data.id,\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  let editable = {\r\n    onBulkUpdate: (changes) =>\r\n      new Promise((resolve, reject) => {\r\n        bulkEdit(changes).then((res) => {\r\n          console.log(res);\r\n          props.bulkEditDevices(changes);\r\n          resolve();\r\n        });\r\n      }),\r\n    onRowAdd: (newData) =>\r\n      new Promise((resolve, reject) => {\r\n        addDevice(newData).then((res) => {\r\n          console.log(res);\r\n          props.handleEditDevice(newData, {}, \"add\");\r\n          resolve();\r\n        });\r\n      }),\r\n    onRowUpdate: (newData, oldData) =>\r\n      new Promise((resolve, reject) => {\r\n        updateDevice(newData).then((res) => {\r\n          console.log(res);\r\n          props.handleEditDevice(newData, oldData, \"update\");\r\n          resolve();\r\n        });\r\n      }),\r\n    onRowDelete: (oldData) =>\r\n      new Promise((resolve, reject) => {\r\n        deleteDevice(oldData).then((res) => {\r\n          console.log(res);\r\n          props.handleEditDevice({}, oldData, \"delete\");\r\n          resolve();\r\n        });\r\n      }),\r\n  };\r\n\r\n  let actions = [\r\n    {\r\n      icon: \"add\",\r\n      tooltip: \"Add 5 empty\",\r\n      isFreeAction: true,\r\n      onClick: (event) => addEmpty(),\r\n    },\r\n  ];\r\n\r\n  if (!props.editable) {\r\n    editable = {};\r\n    actions = [];\r\n  }\r\n\r\n  return (\r\n    <MaterialTable\r\n      columns={columns}\r\n      onRowClick={(event, rowData) =>\r\n        console.log(props.devices[props.devices.indexOf(rowData)])\r\n      }\r\n      data={props.devices}\r\n      title=\"Devices\"\r\n      editable={editable}\r\n      actions={actions}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport NoDataIndication from \"components/NoDataIndication/NoDataIndicationTable\";\r\nimport \"./table.css\";\r\nimport MaterialTable from \"material-table\";\r\nimport axios from \"axios\";\r\n\r\nexport default function buildings(props) {\r\n  const columns = [\r\n    {\r\n      field: \"buildings_id\",\r\n      title: \"ID\",\r\n      hidden: true,\r\n    },\r\n    {\r\n      field: \"building\",\r\n      title: \"Building\",\r\n    },\r\n    {\r\n      field: \"address\",\r\n      title: \"Address\",\r\n    },\r\n    {\r\n      field: \"devices\",\r\n      title: \"Luminaires count\",\r\n      editable: \"never\",\r\n    },\r\n  ];\r\n\r\n  const updateBuilding = async (updateData) => {\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/buildings/\" + updateData.buildings_id,\r\n      data: {\r\n        building: updateData.building,\r\n        address: updateData.address,\r\n      },\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const addBuilding = async (updateData) => {\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/buildings/new-empty\",\r\n      data: {\r\n        building: updateData.building,\r\n        address: updateData.address,\r\n        sites_id: props.clickedSite,\r\n      },\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const deleteBuilding = async (data) => {\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"delete\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/buildings/\" + data.buildings_id,\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  let editable = {\r\n    onRowAdd: (newData) =>\r\n      new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          //   setData([...data, newData]);\r\n          console.log(newData);\r\n          addBuilding(newData).then((res) => {\r\n            console.log(res);\r\n            props.handleEditBuilding(newData, {}, \"add\");\r\n            resolve();\r\n          });\r\n        }, 1000);\r\n      }),\r\n    onRowUpdate: (newData, oldData) =>\r\n      new Promise((resolve, reject) => {\r\n        //   const dataUpdate = [...data];\r\n        //   const index = oldData.tableData.id;\r\n        //   dataUpdate[index] = newData;\r\n        //   setData([...dataUpdate]);\r\n        updateBuilding(newData).then((res) => {\r\n          console.log(res);\r\n          props.handleEditBuilding(newData, oldData, \"update\");\r\n\r\n          resolve();\r\n        });\r\n      }),\r\n    onRowDelete: (oldData) =>\r\n      new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          //   const dataDelete = [...data];\r\n          //   const index = oldData.tableData.id;\r\n          //   dataDelete.splice(index, 1);\r\n          //   setData([...dataDelete]);\r\n          deleteBuilding(oldData).then((res) => {\r\n            props.handleEditBuilding({}, oldData, \"delete\");\r\n            resolve();\r\n          });\r\n        }, 1000);\r\n      }),\r\n  };\r\n\r\n  if (!props.editable) editable = {};\r\n\r\n  return (\r\n    <MaterialTable\r\n      columns={columns}\r\n      onRowClick={props.handleClickBuilding}\r\n      data={props.buildings}\r\n      title=\"Buildings\"\r\n      editable={editable}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport NoDataIndication from \"components/NoDataIndication/NoDataIndicationTable\";\r\nimport MaterialTable from \"material-table\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Levels(props) {\r\n  const columns = [\r\n    {\r\n      field: \"id\",\r\n      title: \"ID\",\r\n      hidden: true,\r\n      sort: true,\r\n    },\r\n    {\r\n      field: \"level\",\r\n      title: \"Level\",\r\n      sort: true,\r\n    },\r\n    {\r\n      field: \"description\",\r\n      title: \"Description\",\r\n      sort: true,\r\n    },\r\n    {\r\n      field: \"devices\",\r\n      title: \"Luminaires\",\r\n      sort: true,\r\n      editable: \"never\",\r\n    },\r\n    {\r\n      field: \"lights_count\",\r\n      title: \"Luminaires count\",\r\n      sort: true,\r\n      editable: \"never\",\r\n    },\r\n  ];\r\n\r\n  const updateLevel = async (updateData) => {\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/levels/edit/\" + updateData.id,\r\n      data: {\r\n        level_name: updateData.level,\r\n        description: updateData.description,\r\n      },\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const addLevel = async (updateData) => {\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/levels/add\",\r\n      data: {\r\n        buildings_id: props.clickedBuilding,\r\n        level: updateData.level,\r\n        description: updateData.description,\r\n      },\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const deleteLevel = async (data) => {\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"delete\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/levels/\" + data.id,\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  let editable = {\r\n    onRowAdd: (newData) =>\r\n      new Promise((resolve, reject) => {\r\n        //   setData([...data, newData]);\r\n        addLevel(newData).then((res) => {\r\n          props.handleEditLevel(newData, {}, \"add\");\r\n          resolve();\r\n        });\r\n      }),\r\n    onRowUpdate: (newData, oldData) =>\r\n      new Promise((resolve, reject) => {\r\n        //   const dataUpdate = [...data];\r\n        //   const index = oldData.tableData.id;\r\n        //   dataUpdate[index] = newData;\r\n        //   setData([...dataUpdate]);\r\n        updateLevel(newData).then((res) => {\r\n          console.log(res);\r\n          props.handleEditLevel(newData, oldData, \"update\");\r\n          resolve();\r\n        });\r\n      }),\r\n    onRowDelete: (oldData) =>\r\n      new Promise((resolve, reject) => {\r\n        //   const dataDelete = [...data];\r\n        //   const index = oldData.tableData.id;\r\n        //   dataDelete.splice(index, 1);\r\n        //   setData([...dataDelete]);\r\n        deleteLevel(oldData).then((res) => {\r\n          console.log(res);\r\n          props.handleEditLevel({}, oldData, \"delete\");\r\n          resolve();\r\n        });\r\n      }),\r\n  };\r\n\r\n  if (!props.editable) editable = {};\r\n\r\n  return (\r\n    <MaterialTable\r\n      columns={columns}\r\n      onRowClick={props.handleClickLevel}\r\n      data={props.levels}\r\n      title=\"Levels\"\r\n      editable={editable}\r\n    />\r\n    // <div>\r\n    //   <ToolkitProvider\r\n    //     keyField=\"id\"\r\n    //     data={props.levels}\r\n    //     columns={columns}\r\n    //     search\r\n    //   >\r\n    //     {(props) => (\r\n    //       <div>\r\n    //         <SearchBar {...props.searchProps} />\r\n    //         <hr />\r\n    //         <BootstrapTable\r\n    //           {...props.baseProps}\r\n    //           noDataIndication={() => <NoDataIndication />}\r\n    //           rowStyle={{ cursor: \"pointer\" }}\r\n    //           rowEvents={rowEvents}\r\n    //           hover\r\n    //           wrapperClasses=\"table-responsive\"\r\n    //         />\r\n    //       </div>\r\n    //     )}\r\n    //   </ToolkitProvider>\r\n    // </div>\r\n  );\r\n}\r\n","import {\r\n  defaultFont,\r\n  container,\r\n  primaryColor,\r\n  grayColor\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst footerStyle = {\r\n  block: {\r\n    color: \"inherit\",\r\n    padding: \"15px\",\r\n    textTransform: \"uppercase\",\r\n    borderRadius: \"3px\",\r\n    textDecoration: \"none\",\r\n    position: \"relative\",\r\n    display: \"block\",\r\n    ...defaultFont,\r\n    fontWeight: \"500\",\r\n    fontSize: \"12px\"\r\n  },\r\n  left: {\r\n    float: \"left!important\",\r\n    display: \"block\"\r\n  },\r\n  right: {\r\n    padding: \"15px 0\",\r\n    margin: \"0\",\r\n    fontSize: \"14px\",\r\n    float: \"right!important\"\r\n  },\r\n  footer: {\r\n    bottom: \"0\",\r\n    borderTop: \"1px solid \" + grayColor[11],\r\n    padding: \"15px 0\",\r\n    ...defaultFont\r\n  },\r\n  container,\r\n  a: {\r\n    color: primaryColor,\r\n    textDecoration: \"none\",\r\n    backgroundColor: \"transparent\"\r\n  },\r\n  list: {\r\n    marginBottom: \"0\",\r\n    padding: \"0\",\r\n    marginTop: \"0\"\r\n  },\r\n  inlineBlock: {\r\n    display: \"inline-block\",\r\n    padding: \"0px\",\r\n    width: \"auto\"\r\n  }\r\n};\r\nexport default footerStyle;\r\n","/*eslint-disable*/\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport List from \"@material-ui/core/List\";\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/footerStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function Footer(props) {\r\n  const classes = useStyles();\r\n  return (\r\n    <footer className={classes.footer}>\r\n      <div className={classes.container}>\r\n        <div className={classes.left}>\r\n          <List className={classes.list}>\r\n            <ListItem className={classes.inlineBlock}>\r\n              <Link to=\"/admin/dashboard\" className={classes.block}>\r\n                Home\r\n              </Link>\r\n            </ListItem>\r\n          </List>\r\n        </div>\r\n        <p className={classes.right}>\r\n          <span>\r\n            &copy; {1900 + new Date().getYear()}{\" \"}\r\n            <a\r\n              href=\"http://www.egglighting.com\"\r\n              target=\"_blank\"\r\n              className={classes.a}\r\n            >\r\n              EggLighting\r\n            </a>\r\n          </span>\r\n        </p>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","import React from \"react\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst styles = {\r\n  grid: {\r\n    margin: \"0 -15px !important\",\r\n    width: \"unset\"\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function GridContainer(props) {\r\n  const classes = useStyles();\r\n  const { children, ...rest } = props;\r\n  return (\r\n    <Grid container {...rest} className={classes.grid}>\r\n      {children}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nGridContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n","import React from \"react\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nfunction Loading() {\r\n  return (\r\n    <div>\r\n      <Skeleton variant=\"rect\" width={\"13vw\"} height={\"30vh\"} />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst SummaryCard = ({ title, total_data, line_data, loading }) => {\r\n  if (!loading)\r\n    return (\r\n      <Card>\r\n        {title && total_data && line_data.length ? (\r\n          <CardContent>\r\n            <Typography variant=\"h5\" component=\"h2\">\r\n              {title}\r\n            </Typography>\r\n            <Typography variant=\"h6\" component=\"h6\">\r\n              {\" \"}\r\n              {total_data[0].power_consumption} Kwh{\" \"}\r\n            </Typography>\r\n            <br />\r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n              spacing={2}\r\n            >\r\n              {line_data.map((x) => (\r\n                <p key={x.line}>\r\n                  Line {x.line}: {x.power_consumption.toFixed(2)} Kwh{\" \"}\r\n                </p>\r\n              ))}\r\n            </Grid>\r\n          </CardContent>\r\n        ) : null}\r\n      </Card>\r\n    );\r\n  else return <Loading />;\r\n};\r\n\r\nexport default SummaryCard;\r\n","import React from \"react\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport default function NoDataIndication() {\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h3\">\r\n        <Skeleton />\r\n        <Skeleton />\r\n        <Skeleton />\r\n      </Typography>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport TrialTestsTable from \"components/Data/TrialTestsTable\";\r\n\r\nexport default class TrialTestsTableSelf extends Component {\r\n  intervalTests = 0;\r\n  state = {\r\n    trialTests: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n    axios({\r\n      //Axios GET request\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/trialtests/usr/\" + user,\r\n    }).then((res) => {\r\n      this.setState({\r\n        trialTests: res.data,\r\n      });\r\n    });\r\n    this.intervalTests = setInterval(() => {\r\n      axios({\r\n        //Axios GET request\r\n        method: \"get\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/api/trialtests/usr/\" + user,\r\n      }).then((res) => {\r\n        this.setState({\r\n          trialTests: res.data,\r\n        });\r\n      });\r\n    }, 7000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.intervalTests);\r\n  }\r\n\r\n  render() {\r\n    return <TrialTestsTable tests={this.state.trialTests} />;\r\n  }\r\n}\r\n","import {\r\n  warningCardHeader,\r\n  successCardHeader,\r\n  dangerCardHeader,\r\n  infoCardHeader,\r\n  primaryCardHeader,\r\n  roseCardHeader,\r\n  grayColor\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst cardIconStyle = {\r\n  cardIcon: {\r\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\r\n      borderRadius: \"3px\",\r\n      backgroundColor: grayColor[0],\r\n      padding: \"15px\",\r\n      marginTop: \"-20px\",\r\n      marginRight: \"15px\",\r\n      float: \"left\"\r\n    }\r\n  },\r\n  warningCardHeader,\r\n  successCardHeader,\r\n  dangerCardHeader,\r\n  infoCardHeader,\r\n  primaryCardHeader,\r\n  roseCardHeader\r\n};\r\n\r\nexport default cardIconStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/cardIconStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function CardIcon(props) {\r\n  const classes = useStyles();\r\n  const { className, children, color, ...rest } = props;\r\n  const cardIconClasses = classNames({\r\n    [classes.cardIcon]: true,\r\n    [classes[color + \"CardHeader\"]]: color,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardIconClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardIcon.propTypes = {\r\n  className: PropTypes.string,\r\n  color: PropTypes.oneOf([\r\n    \"warning\",\r\n    \"success\",\r\n    \"danger\",\r\n    \"info\",\r\n    \"primary\",\r\n    \"rose\"\r\n  ]),\r\n  children: PropTypes.node\r\n};\r\n","import { grayColor } from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst cardFooterStyle = {\r\n  cardFooter: {\r\n    padding: \"0\",\r\n    paddingTop: \"10px\",\r\n    margin: \"0 15px 10px\",\r\n    borderRadius: \"0\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n    backgroundColor: \"transparent\",\r\n    border: \"0\"\r\n  },\r\n  cardFooterProfile: {\r\n    marginTop: \"-15px\"\r\n  },\r\n  cardFooterPlain: {\r\n    paddingLeft: \"5px\",\r\n    paddingRight: \"5px\",\r\n    backgroundColor: \"transparent\"\r\n  },\r\n  cardFooterStats: {\r\n    borderTop: \"1px solid \" + grayColor[10],\r\n    marginTop: \"20px\",\r\n    \"& svg\": {\r\n      position: \"relative\",\r\n      top: \"4px\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\",\r\n      width: \"16px\",\r\n      height: \"16px\"\r\n    },\r\n    \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\r\n      fontSize: \"16px\",\r\n      position: \"relative\",\r\n      top: \"4px\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\"\r\n    }\r\n  },\r\n  cardFooterChart: {\r\n    borderTop: \"1px solid \" + grayColor[10]\r\n  }\r\n};\r\n\r\nexport default cardFooterStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/cardFooterStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function CardFooter(props) {\r\n  const classes = useStyles();\r\n  const { className, children, plain, profile, stats, chart, ...rest } = props;\r\n  const cardFooterClasses = classNames({\r\n    [classes.cardFooter]: true,\r\n    [classes.cardFooterPlain]: plain,\r\n    [classes.cardFooterProfile]: profile,\r\n    [classes.cardFooterStats]: stats,\r\n    [classes.cardFooterChart]: chart,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardFooterClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardFooter.propTypes = {\r\n  className: PropTypes.string,\r\n  plain: PropTypes.bool,\r\n  profile: PropTypes.bool,\r\n  stats: PropTypes.bool,\r\n  chart: PropTypes.bool,\r\n  children: PropTypes.node\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/sidebar-2.310509c9.jpg\";","import React from \"react\";\r\nimport \"./style.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CSVLink } from \"react-csv\";\r\n// import { PDFDownloadLink } from \"@react-pdf/renderer\";\r\n// import { PdfDocument } from \"./PdfTest\";\r\nimport moment from \"moment\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport axios from \"axios\";\r\n\r\nclass Popup extends React.Component {\r\n  state = {\r\n    reportData: [],\r\n    errorsCsv: [],\r\n    renderPDF: false,\r\n    documentGenerated: false,\r\n  };\r\n\r\n  generatePDF = () => {\r\n    this.setState({ documentGenerated: true });\r\n  };\r\n\r\n  downloadReport = () => {\r\n    const tests = this.props.testsFiltered[0];\r\n    axios({\r\n      url: global.BASE_URL + \"/api/generatepdf/generateReport/\" + tests.id,\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      method: \"GET\",\r\n      responseType: \"blob\", // important\r\n    }).then((response) => {\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement(\"a\");\r\n      link.href = url;\r\n      link.setAttribute(\r\n        \"download\",\r\n        `test${moment(tests.created_at).format(\"YYYY-MM-DD-kmmss\")}.pdf`\r\n      );\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    });\r\n  };\r\n\r\n  downloadOfficialReport = () => {\r\n    const tests = this.props.testsFiltered[0];\r\n    axios({\r\n      url:\r\n        global.BASE_URL + \"/api/generatepdf/generateOfficialReport/\" + tests.id,\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      method: \"GET\",\r\n      responseType: \"blob\", // important\r\n    }).then((response) => {\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement(\"a\");\r\n      link.href = url;\r\n      link.setAttribute(\r\n        \"download\",\r\n        `test${moment(tests.created_at).format(\"YYYY-MM-DD-kmmss\")}.pdf`\r\n      );\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const csvReportArray = this.props.errorsCsv;\r\n    const tests = this.props.testsFiltered[0];\r\n    const errors = this.props.errorsFiltered;\r\n\r\n    if (tests && errors) {\r\n      let successColor = \"green\";\r\n      let successful = 0;\r\n      errors.forEach((el) => {\r\n        if (el.result === \"OK\") successful++;\r\n      });\r\n      if (successful !== tests.lights) successColor = \"salmon\";\r\n      return (\r\n        <Fade in={this.props.showPopup}>\r\n          <div className=\"containerDetails\">\r\n            <div className=\"datagrid\">\r\n              <div style={{ overflowX: \"auto\" }}>\r\n                <table>\r\n                  <tbody>\r\n                    <tr>\r\n                      <th>Site</th>\r\n                      <th>Tested Lights</th>\r\n                      <th>Status</th>\r\n                      {/* <th>Warnings</th> */}\r\n                      <th>Type</th>\r\n                      <th>Test Time</th>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>\r\n                        {tests.site} - {tests.building}\r\n                      </td>\r\n                      <td style={{ color: successColor }}>\r\n                        {successful}/{tests.lights}\r\n                      </td>\r\n                      <td>{tests.result}</td>\r\n                      {/* <td>{tests.errors}</td> */}\r\n                      <td>{tests.type}</td>\r\n                      <td>\r\n                        {moment(tests.created_at).format(\"k:mm DD.MM.YYYY\")}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div className=\"infoContainer\">\r\n                <table>\r\n                  <tbody>\r\n                    <tr style={{ textAlign: \"left\" }}>\r\n                      <th>ID</th>\r\n                      <th>Type</th>\r\n                      <th>Location</th>\r\n                      <th>Response</th>\r\n                      {/* <th>Retest</th> */}\r\n                    </tr>\r\n                    {errors.map((item, index) => {\r\n                      let color = \"\";\r\n                      if (item.result) {\r\n                        item.error = item.result;\r\n                      }\r\n                      if (item.result !== \"OK\") color = \"salmon\";\r\n                      return (\r\n                        <tr key={index} style={{ backgroundColor: color }}>\r\n                          <td\r\n                            style={{\r\n                              fontWeight: \"lighter\",\r\n                              fontSize: \"1.3em\",\r\n                            }}\r\n                          >\r\n                            {item.device_id}\r\n                          </td>\r\n                          <td\r\n                            style={{\r\n                              fontWeight: \"lighter\",\r\n                              fontSize: \"1.3em\",\r\n                            }}\r\n                          >\r\n                            {item.type}\r\n                          </td>\r\n                          <td\r\n                            style={{\r\n                              fontWeight: \"bold\",\r\n                              fontSize: \"1.3em\",\r\n                            }}\r\n                          >\r\n                            {`${item.building} - level ${item.level}`}\r\n                          </td>\r\n                          <td\r\n                            style={{\r\n                              fontWeight: \"lighter\",\r\n                              fontSize: \"1.3em\",\r\n                            }}\r\n                          >\r\n                            {item.error}\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            {/* <ErrorsRender /> */}\r\n            <div\r\n              className=\"btn-group\"\r\n              role=\"group\"\r\n              aria-label=\"CSV PDF buttons group\"\r\n              style={{ marginTop: \"20px\" }}\r\n            >\r\n              {/* <CSVLink\r\n                    data={csvReportArray}\r\n                    target=\"\"\r\n                    className=\"btn btn-primary\"\r\n                  >\r\n                    Download CSV\r\n                  </CSVLink>\r\n\r\n                  <button\r\n                    onClick={this.downloadReport}\r\n                    className=\"btn btn-success\"\r\n                  >\r\n                    Download PDF\r\n                  </button> */}\r\n              <button\r\n                onClick={this.downloadOfficialReport}\r\n                className=\"btn btn-primary m-3 mb-5\"\r\n              >\r\n                Download PDF\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </Fade>\r\n      );\r\n    } else return null;\r\n  }\r\n}\r\n\r\nexport default Popup;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { Type } from \"react-bootstrap-table2-editor\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport moment from \"moment\";\r\nimport TrialTestsTable from \"components/Data/TrialTestsTable\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport cellEditFactory from \"react-bootstrap-table2-editor\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CircularProgressWithLabel from \"components/CircularProgress/CircularProgress\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/styles/withStyles\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport LiveFloorplanWrapper from \"components/Test/LiveFloorplanWrapper\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst styles = {\r\n  root: {\r\n    background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\r\n    border: 0,\r\n    borderRadius: 3,\r\n    boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\r\n    color: \"white\",\r\n    height: 48,\r\n    padding: \"0 30px\",\r\n  },\r\n  container: {\r\n    marginTop: 50,\r\n  },\r\n};\r\n\r\nconst NoDataIndication = () => (\r\n  <div\r\n    className=\"spinner-grow text-info\"\r\n    style={{ width: \"6rem\", height: \"6rem\" }}\r\n  ></div>\r\n);\r\n\r\nconst topic = \"DEVSPCOM\";\r\n\r\nclass TrialTest extends Component {\r\n  timer = 0;\r\n  state = {\r\n    message: \"\",\r\n    gwMessage: \"\",\r\n    errorMessage: \"\",\r\n    input: \"\",\r\n    isTest: true,\r\n    testCounter: null,\r\n    step: 1,\r\n    userInput: \"\",\r\n    disabledBackBtn: true,\r\n    disabledFinish: true,\r\n    disabledStartAll: true,\r\n    disabledApply: true,\r\n    disabledAbort: false,\r\n    finishClicked: false,\r\n    abortClicked: false,\r\n    clickedStartAll: false,\r\n    testFinished: false,\r\n    testid: null,\r\n    testData: [],\r\n    selectedAction: \"\",\r\n    sites: [],\r\n    clickedSite: null,\r\n    deviceManual: [],\r\n    responses: [],\r\n    textInput: false,\r\n    devices: [],\r\n    deviceColumns: [\r\n      {\r\n        dataField: \"id\",\r\n        text: \"Record ID\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"device_id\",\r\n        text: \"Device ID\",\r\n        sort: true,\r\n      },\r\n      {\r\n        dataField: \"type\",\r\n        text: \"Type\",\r\n        sort: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          options: [\r\n            { value: \"EX-58\", label: \"EX-58\" },\r\n            { value: \"SA-25E\", label: \"SA-25E\" },\r\n            { value: \"F-51E\", label: \"F-51E\" },\r\n          ],\r\n        },\r\n      },\r\n      {\r\n        dataField: \"sites_name\",\r\n        text: \"Site\",\r\n        sort: true,\r\n      },\r\n      {\r\n        dataField: \"group_name\",\r\n        text: \"Location\",\r\n        sort: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          getOptions: (setOptions, { row, column }) => {\r\n            return this.state.selectOptions;\r\n          },\r\n        },\r\n        formatter: (cellContent, row, rowIndex) => {\r\n          return <span>{`${row.building} - ${row.level} level`}</span>;\r\n        },\r\n      },\r\n      {\r\n        dataField: \"level\",\r\n        text: \"\",\r\n        sort: true,\r\n        hidden: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          getOptions: (setOptions, { row, column }) => {\r\n            return this.state.selectOptions;\r\n          },\r\n        },\r\n      },\r\n      {\r\n        dataField: \"building\",\r\n        text: \"\",\r\n        sort: true,\r\n        hidden: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          getOptions: (setOptions, { row, column }) => {\r\n            return this.state.selectOptions;\r\n          },\r\n        },\r\n      },\r\n      {\r\n        dataField: \"node_id\",\r\n        text: \"BMesh Address\",\r\n        sort: true,\r\n      },\r\n      {\r\n        dataField: \"light_node_id\",\r\n        text: \"Light BMesh Address\",\r\n        sort: true,\r\n      },\r\n      {\r\n        dataField: \"volt_reading_node_id\",\r\n        text: \"Volt BMesh Address\",\r\n        sort: true,\r\n      },\r\n    ],\r\n    devicesFiltered: [],\r\n    selectedDevices: [],\r\n    selectedDevicesLive: [],\r\n    selectedDevicesCols: [\r\n      {\r\n        dataField: \"id\",\r\n        text: \"Record ID\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"device_id\",\r\n        text: \"Device ID\",\r\n        sort: true,\r\n      },\r\n      {\r\n        dataField: \"type\",\r\n        text: \"Type\",\r\n        sort: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          options: [\r\n            { value: \"EX-58\", label: \"EX-58\" },\r\n            { value: \"SA-25E\", label: \"SA-25E\" },\r\n            { value: \"F-51E\", label: \"F-51E\" },\r\n          ],\r\n        },\r\n      },\r\n      {\r\n        dataField: \"group_name\",\r\n        text: \"Location\",\r\n        sort: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          getOptions: (setOptions, { row, column }) => {\r\n            return this.state.selectOptions;\r\n          },\r\n        },\r\n        formatter: (cellContent, row, rowIndex) => {\r\n          return <span>{`${row.building} - ${row.level} level`}</span>;\r\n        },\r\n      },\r\n      {\r\n        dataField: \"level\",\r\n        text: \"\",\r\n        sort: true,\r\n        hidden: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          getOptions: (setOptions, { row, column }) => {\r\n            return this.state.selectOptions;\r\n          },\r\n        },\r\n      },\r\n      {\r\n        dataField: \"building\",\r\n        text: \"\",\r\n        sort: true,\r\n        hidden: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          getOptions: (setOptions, { row, column }) => {\r\n            return this.state.selectOptions;\r\n          },\r\n        },\r\n      },\r\n      {\r\n        dataField: \"node_id\",\r\n        text: \"BMesh Address\",\r\n        sort: true,\r\n      },\r\n      // {\r\n      //   dataField: \"id\",\r\n      //   text: \"\",\r\n      //   editable: false,\r\n      //   headerStyle: (colum, colIndex) => {\r\n      //     return { width: \"80px\", textAlign: \"center\" };\r\n      //   },\r\n      //   formatter: (cellContent, row, rowIndex) => {\r\n      //     return (\r\n      //       <IconButton color=\"secondary\" onClick={() => console.log(row)}>\r\n      //         <Icon style={{ fontSize: \"1.2em\" }}>delete</Icon>\r\n      //       </IconButton>\r\n      //     );\r\n      //   },\r\n      // },\r\n    ],\r\n    liveDevices: [],\r\n    testColumns: [\r\n      {\r\n        dataField: \"id\",\r\n        text: \"Record ID\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"device_id\",\r\n        text: \"Device ID\",\r\n        sort: true,\r\n        editable: false,\r\n      },\r\n      {\r\n        dataField: \"type\",\r\n        text: \"Type\",\r\n        sort: true,\r\n        editable: false,\r\n      },\r\n      {\r\n        dataField: \"group_name\",\r\n        text: \"Location\",\r\n        sort: true,\r\n        editable: false,\r\n        formatter: (cellContent, row, rowIndex) => {\r\n          return <span>{`${row.building} - ${row.level} level`}</span>;\r\n        },\r\n      },\r\n      {\r\n        dataField: \"level\",\r\n        text: \"\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"building\",\r\n        text: \"\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"node_id\",\r\n        text: \"BMesh Address\",\r\n        sort: true,\r\n        editable: false,\r\n        headerStyle: (colum, colIndex) => {\r\n          return { width: \"100px\" };\r\n        },\r\n      },\r\n      {\r\n        dataField: \"powercut\",\r\n        text: \"powercut\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"duration\",\r\n        text: \"Time left\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"\",\r\n        text: \"Progress\",\r\n        editable: false,\r\n        align: \"center\",\r\n        headerStyle: (colum, colIndex) => {\r\n          return { width: \"160px\", textAlign: \"center\" };\r\n        },\r\n        formatter: (cellContent, row, rowIndex) => {\r\n          if (row.powercut === 0) return <span>Awaiting Start</span>;\r\n          if (row.duration > 0 && row.powercut === 1) {\r\n            var duration = moment.duration(row.duration);\r\n            var percentage = ((row.duration / row.durationStart) * 100).toFixed(\r\n              0\r\n            );\r\n            var progress = 100 - percentage;\r\n\r\n            return (\r\n              <CircularProgressWithLabel value={progress} duration={duration} />\r\n            );\r\n          }\r\n          if (row.duration === 0 && row.powercut === 1) {\r\n            return <div>Awaiting review</div>;\r\n          }\r\n          if (row.powercut === 2) {\r\n            return <span style={{ textAlign: \"center\" }}>Power back on</span>;\r\n          }\r\n          if (row.powercut === 3) {\r\n            return <span>No connection to Mesh</span>;\r\n          }\r\n        },\r\n      },\r\n      {\r\n        dataField: \"userInput\",\r\n        text: \"Device state\",\r\n        editable: true,\r\n        align: \"center\",\r\n        editor: {\r\n          type: Type.SELECT,\r\n          options: [\r\n            {\r\n              value: \"\",\r\n              label: \"\",\r\n            },\r\n            {\r\n              value: \"OK\",\r\n              label: \"OK\",\r\n            },\r\n            {\r\n              value: \"Lamp Fault\",\r\n              label: \"Lamp Fault\",\r\n            },\r\n            {\r\n              value: \"Battery Fault\",\r\n              label: \"Battery Fault\",\r\n            },\r\n            {\r\n              value: \"No response from Bluetooth Module\",\r\n              label: \"No response from Bluetooth Module\",\r\n            },\r\n          ],\r\n        },\r\n        headerStyle: (colum, colIndex) => {\r\n          return { width: \"250px\", textAlign: \"center\" };\r\n        },\r\n        formatter: (cellContent, row) => {\r\n          if (cellContent === \"\") {\r\n            return <Button color=\"primary\">review</Button>;\r\n          } else return cellContent;\r\n        },\r\n      },\r\n      {\r\n        dataField: \"clicked\",\r\n        text: \"\",\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"actions\",\r\n        text: \"\",\r\n        align: \"center\",\r\n        editable: false,\r\n        formatter: (cellContent, row) => {\r\n          var disabled = false;\r\n          if (row.powercut > 0 || row.clicked > 0) disabled = true;\r\n          if (this.state.clickedStartAll) disabled = true;\r\n          return (\r\n            <Button\r\n              color=\"primary\"\r\n              disabled={disabled}\r\n              onClick={() => {\r\n                this.cutPowerSingle(row.id);\r\n              }}\r\n            >\r\n              Start em test\r\n            </Button>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    trialTests: [],\r\n  };\r\n\r\n  testInfo = (user) => {\r\n    this.timer = setInterval(() => {\r\n      if (this.state.testFinished === true)\r\n        setTimeout(() => {\r\n          clearInterval(this.timer);\r\n        }, 2000);\r\n\r\n      if (global.intervalCheck === true) {\r\n        axios({\r\n          //Axios GET request\r\n          method: \"get\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          url: global.BASE_URL + \"/mqtt/testinfo/\" + user,\r\n        }).then((res) => {\r\n          if (res.data.length > 0) {\r\n            this.setState({\r\n              testid: res.data[1].test_id,\r\n              testData: res.data[1],\r\n            });\r\n\r\n            this.setState({\r\n              liveDevices: res.data[1].devices,\r\n            });\r\n          } else this.setState({ liveDevices: [] });\r\n        });\r\n        var userInput = this.state.liveDevices.every((el) => {\r\n          if (el.userInput !== \"\") return true;\r\n          else return false;\r\n        });\r\n\r\n        if (userInput && this.state.testData.finish_clicked === 0) {\r\n          this.setState({ disabledFinish: false });\r\n        } else this.setState({ disabledFinish: true });\r\n\r\n        if (\r\n          this.state.testData.abort_clicked === 1 ||\r\n          this.state.finishClicked\r\n        ) {\r\n          this.setState({ disabledAbort: true });\r\n        } else if (\r\n          this.state.testData.abort_clicked === 0 &&\r\n          !this.state.abortClicked\r\n        ) {\r\n          this.setState({ disabledAbort: false });\r\n        }\r\n\r\n        if (this.state.testData.cut_all_clicked === 1) {\r\n          this.setState({ disabledStartAll: true });\r\n        } else this.setState({ disabledStartAll: false });\r\n      } else clearInterval(this.timer);\r\n    }, 1000);\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n\r\n    axios({\r\n      //Axios GET request\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/testinfo/\" + user,\r\n    }).then((res) => {\r\n      if (res.data.length) {\r\n        console.log(res.data[0].hasAccess, res.data[0].isTest, res.data[1]);\r\n        if (res.data[0].hasAccess && !res.data[0].isTest) {\r\n          this.setState({ step: 1 });\r\n        }\r\n        if (res.data[0].hasAccess && res.data[0].isTest) {\r\n          this.setState({ step: 3 });\r\n          this.testInfo(user);\r\n        }\r\n        if (!res.data[0].hasAccess && res.data[0].isTest) {\r\n          this.setState({ step: 20 });\r\n        }\r\n        if (res.data) {\r\n          if (res.data[1].length > 0) {\r\n            console.log(res.data[1].test_id);\r\n            this.setState({\r\n              testid: res.data[1].test_id,\r\n            });\r\n          }\r\n          this.setState({\r\n            testCounter: res.data.testCounter,\r\n            liveDevices: res.data[1].devices,\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    axios({\r\n      //Axios GET request\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/trialtests/usr/\" + user,\r\n    }).then((res) => {\r\n      this.setState({\r\n        trialTests: res.data,\r\n      });\r\n    });\r\n\r\n    axios({\r\n      //Axios GET request\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/lights/\" + user,\r\n    }).then((res) => {\r\n      this.setState({ devices: res.data });\r\n    });\r\n    this.callSites();\r\n  }\r\n\r\n  handleStart = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/trialteststart/\" + user,\r\n      data: {\r\n        //data object sent in request's body\r\n        message: this.state.step,\r\n        devices: this.state.selectedDevices,\r\n        user: user,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        this.setState(\r\n          {\r\n            message: res.data,\r\n            step: 3,\r\n            disabledBackBtn: true,\r\n            testFinished: false,\r\n          },\r\n          () => {\r\n            this.testInfo(user);\r\n          }\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        alert(err.response.data);\r\n        this.setState({ errorMessage: err.response.data });\r\n      });\r\n\r\n    // .catch((error) => {\r\n    //   console.log(error.response);\r\n    //   this.setState({ errorMessage: error.response.data });\r\n    // });\r\n  };\r\n\r\n  cutPowerSingle = (device) => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/cutpowersingle\",\r\n      data: {\r\n        //data object sent in request's body\r\n        device: device,\r\n        topic: topic,\r\n        user: user,\r\n      },\r\n      timeout: 0,\r\n    })\r\n      .then((res) => {\r\n        this.setState({ message: res.data, step: 3 });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        this.setState({ errorMessage: error.response.data });\r\n      });\r\n  };\r\n\r\n  cutPowerAll = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n    this.setState({\r\n      disabledStartAll: true,\r\n      clickedStartAll: true,\r\n      message: \"Cutting power...\",\r\n    });\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/cutpowerall\",\r\n      data: {\r\n        //data object sent in request's body\r\n        message: this.state.step,\r\n        devices: this.state.selectedDevices,\r\n        user: user,\r\n        topic: topic,\r\n      },\r\n      timeout: 0,\r\n    })\r\n      .then((res) => {\r\n        this.setState({ message: res.data, step: 3 });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        this.setState({ errorMessage: error.response.data });\r\n      });\r\n  };\r\n\r\n  userInput = (deviceId, input) => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/userinput/\" + deviceId,\r\n      data: {\r\n        //data object sent in request's body\r\n        userInput: input,\r\n        user: user,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        this.setState({ errorMessage: error.response.data });\r\n      });\r\n  };\r\n\r\n  saveTest = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n    this.setState({\r\n      message: \"Saving...\",\r\n      disabledFinish: true,\r\n      finishClicked: true,\r\n      abortClicked: true,\r\n    });\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/savetest/\" + this.state.testid,\r\n      timeout: 0,\r\n      data: { user: user, topic: topic },\r\n    })\r\n      .then((res) => {\r\n        this.setState({ message: res.data, step: 4, disabledBackBtn: false });\r\n        this.setState({ selectedDevicesLive: [], selectedDevices: [] });\r\n        axios({\r\n          //Axios GET request\r\n          method: \"get\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          url: global.BASE_URL + \"/api/trialtests/usr/\" + user,\r\n        }).then((res) => {\r\n          this.setState({\r\n            trialTests: res.data,\r\n            testFinished: true,\r\n            clickedStartAll: false,\r\n            disabledStartAll: false,\r\n            finishClicked: false,\r\n            abortClicked: false,\r\n          });\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        this.setState({ errorMessage: error.response.data });\r\n      });\r\n  };\r\n\r\n  abortTest = () => {\r\n    if (window.confirm(\"Are you sure you want to abort?\")) {\r\n      const token = localStorage.usertoken;\r\n      const decoded = jwt_decode(token);\r\n      const user = decoded.id;\r\n      this.setState({\r\n        message: \"Cancelling...\",\r\n        disabledFinish: true,\r\n        finishClicked: true,\r\n        disabledAbort: true,\r\n        abortClicked: true,\r\n      });\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/aborttest/\" + this.state.testid,\r\n        timeout: 0,\r\n        data: { user: user, topic: topic },\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.setState({ selectedDevicesLive: [], selectedDevices: [] });\r\n          axios({\r\n            //Axios GET request\r\n            method: \"get\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json;charset=UTF-8\",\r\n              Authorization: \"Bearer \" + localStorage.usertoken,\r\n            },\r\n            url: global.BASE_URL + \"/api/trialtests/usr/\" + user,\r\n          }).then((res) => {\r\n            this.setState({\r\n              trialTests: res.data,\r\n              testFinished: true,\r\n            });\r\n          });\r\n          this.setState({ message: res.data, step: 4, disabledBackBtn: false });\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response);\r\n          this.setState({ errorMessage: error.response.data });\r\n        });\r\n    }\r\n  };\r\n\r\n  goToStepTwo = () => {\r\n    if (this.state.selectedDevices.length) {\r\n      this.setState({ step: 2, errorMessage: \"\", disabledBackBtn: false });\r\n    } else alert(\"You have to select devices to proceed\");\r\n  };\r\n\r\n  devSetRelayOn = () => {\r\n    if (this.state.textInput) {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/dev/relay/on\",\r\n        data: {\r\n          devices: this.state.deviceManual,\r\n          topic: this.state.deviceManual[0].mqtt_topic,\r\n        },\r\n        timeout: 0,\r\n      })\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            this.setState({\r\n              responses: [\r\n                ...this.state.responses,\r\n                `No response from ${this.state.deviceManual[0].node_id}`,\r\n              ],\r\n            });\r\n          }\r\n          this.setState({ responses: [...this.state.responses, res.data] });\r\n          console.log(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      if (this.state.selectedDevices.length > 0) {\r\n        axios({\r\n          //Axios POST request\r\n          method: \"post\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          url: global.BASE_URL + \"/mqtt/dev/relay/on\",\r\n          data: {\r\n            devices: this.state.selectedDevices,\r\n            topic: topic,\r\n          },\r\n          timeout: 0,\r\n        })\r\n          .then((res) => {\r\n            console.log(res);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  devSetRelayOff = () => {\r\n    if (this.state.textInput) {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/dev/relay/off\",\r\n        data: {\r\n          devices: this.state.deviceManual,\r\n          topic: this.state.deviceManual[0].mqtt_topic,\r\n        },\r\n        timeout: 0,\r\n      })\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            this.setState({\r\n              responses: [\r\n                ...this.state.responses,\r\n                `No response from ${this.state.deviceManual[0].node_id}`,\r\n              ],\r\n            });\r\n          }\r\n          this.setState({ responses: [...this.state.responses, res.data] });\r\n          console.log(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      if (this.state.selectedDevices.length > 0) {\r\n        axios({\r\n          //Axios POST request\r\n          method: \"post\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          url: global.BASE_URL + \"/mqtt/dev/relay/off\",\r\n          data: {\r\n            devices: this.state.selectedDevices,\r\n            topic: topic,\r\n          },\r\n          timeout: 0,\r\n        })\r\n          .then((res) => {\r\n            console.log(res);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  devGetOnOff = () => {\r\n    if (this.state.textInput) {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/dev/relay/state\",\r\n        data: {\r\n          devices: this.state.deviceManual,\r\n          topic: topic,\r\n        },\r\n        timeout: 0,\r\n      })\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            this.setState({\r\n              responses: [\r\n                ...this.state.responses,\r\n                `No response from ${this.state.deviceManual[0].node_id}`,\r\n              ],\r\n            });\r\n          }\r\n          this.setState({ responses: [...this.state.responses, res.data] });\r\n          console.log(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      if (this.state.selectedDevices.length > 0) {\r\n        axios({\r\n          //Axios POST request\r\n          method: \"post\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          url: global.BASE_URL + \"/mqtt/dev/relay/state\",\r\n          data: {\r\n            devices: this.state.selectedDevices,\r\n            topic: topic,\r\n          },\r\n          timeout: 0,\r\n        })\r\n          .then((res) => {\r\n            console.log(topic);\r\n            if (res.data.length === 0) {\r\n              this.setState({\r\n                responses: [\r\n                  ...this.state.responses,\r\n                  `No response from ${this.state.deviceManual[0].node_id}`,\r\n                ],\r\n              });\r\n            }\r\n            this.setState({ responses: [...this.state.responses, res.data] });\r\n            console.log(res);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  devGetLedState = () => {\r\n    if (this.state.textInput) {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/dev/led/state\",\r\n        data: {\r\n          devices: this.state.deviceManual,\r\n          topic: this.state.deviceManual[0].mqtt_topic,\r\n        },\r\n        timeout: 0,\r\n      })\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            this.setState({\r\n              responses: [\r\n                ...this.state.responses,\r\n                `No response from ${this.state.deviceManual[0].node_id}`,\r\n              ],\r\n            });\r\n          }\r\n          this.setState({ responses: [...this.state.responses, res.data] });\r\n          console.log(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      if (this.state.selectedDevices.length > 0) {\r\n        axios({\r\n          //Axios POST request\r\n          method: \"post\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          url: global.BASE_URL + \"/mqtt/dev/led/state\",\r\n          data: {\r\n            devices: this.state.selectedDevices,\r\n            topic: topic,\r\n          },\r\n          timeout: 0,\r\n        })\r\n          .then((res) => {\r\n            console.log(res);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  devGetGW = () => {\r\n    if (this.state.selectedDevices.length > 0) {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/dev/gateway/state\",\r\n        data: {\r\n          topic: topic,\r\n        },\r\n        timeout: 0,\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.setState({ responses: [...this.state.responses, res.data] });\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/dev/gateway/state\",\r\n        data: {\r\n          topic: global.SEND_TOPIC,\r\n        },\r\n        timeout: 0,\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.setState({ responses: [...this.state.responses, res.data] });\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  setLightOn = () => {\r\n    if (this.state.textInput) {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/dev/light/on\",\r\n        data: {\r\n          devices: this.state.deviceManual,\r\n          topic: this.state.deviceManual[0].mqtt_topic,\r\n        },\r\n        timeout: 0,\r\n      })\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            this.setState({\r\n              responses: [\r\n                ...this.state.responses,\r\n                `No response from ${this.state.deviceManual[0].node_id}`,\r\n              ],\r\n            });\r\n          }\r\n          this.setState({ responses: [...this.state.responses, res.data] });\r\n          console.log(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      if (this.state.selectedDevices.length > 0) {\r\n        axios({\r\n          //Axios POST request\r\n          method: \"post\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          url: global.BASE_URL + \"/mqtt/dev/light/on\",\r\n          data: {\r\n            devices: this.state.selectedDevices,\r\n            topic: topic,\r\n          },\r\n          timeout: 0,\r\n        })\r\n          .then((res) => {\r\n            console.log(res);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  setLightOff = () => {\r\n    if (this.state.textInput) {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/dev/light/off\",\r\n        data: {\r\n          devices: this.state.deviceManual,\r\n          topic: this.state.deviceManual[0].mqtt_topic,\r\n        },\r\n        timeout: 0,\r\n      })\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            this.setState({\r\n              responses: [\r\n                ...this.state.responses,\r\n                `No response from ${this.state.deviceManual[0].node_id}`,\r\n              ],\r\n            });\r\n          }\r\n          this.setState({ responses: [...this.state.responses, res.data] });\r\n          console.log(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      if (this.state.selectedDevices.length > 0) {\r\n        axios({\r\n          //Axios POST request\r\n          method: \"post\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          url: global.BASE_URL + \"/mqtt/dev/light/off\",\r\n          data: {\r\n            devices: this.state.selectedDevices,\r\n            topic: topic,\r\n          },\r\n          timeout: 0,\r\n        })\r\n          .then((res) => {\r\n            console.log(res);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  getLdrReading = () => {\r\n    if (this.state.textInput) {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/dev/ldr\",\r\n        data: {\r\n          devices: this.state.deviceManual,\r\n          topic: this.state.deviceManual[0].mqtt_topic,\r\n        },\r\n        timeout: 0,\r\n      })\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            this.setState({\r\n              responses: [\r\n                ...this.state.responses,\r\n                `No response from ${this.state.deviceManual[0].light_node_id}`,\r\n              ],\r\n            });\r\n          }\r\n          this.setState({ responses: [...this.state.responses, res.data] });\r\n          console.log(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      if (this.state.selectedDevices.length > 0) {\r\n        axios({\r\n          //Axios POST request\r\n          method: \"post\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          url: global.BASE_URL + \"/mqtt/dev/ldr\",\r\n          data: {\r\n            devices: this.state.selectedDevices,\r\n            topic: topic,\r\n          },\r\n          timeout: 0,\r\n        })\r\n          .then((res) => {\r\n            this.setState({ responses: [...this.state.responses, res.data] });\r\n            console.log(res);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  getBatVoltage = () => {\r\n    if (this.state.textInput) {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/dev/voltage\",\r\n        data: {\r\n          devices: this.state.deviceManual,\r\n          topic: this.state.deviceManual[0].mqtt_topic,\r\n        },\r\n        timeout: 0,\r\n      })\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            this.setState({\r\n              responses: [\r\n                ...this.state.responses,\r\n                `No response from ${this.state.deviceManual[0].volt_reading_node_id}`,\r\n              ],\r\n            });\r\n          }\r\n          this.setState({ responses: [...this.state.responses, res.data] });\r\n          console.log(res);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      if (this.state.selectedDevices.length > 0) {\r\n        axios({\r\n          //Axios POST request\r\n          method: \"post\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          url: global.BASE_URL + \"/mqtt/dev/voltage\",\r\n          data: {\r\n            devices: this.state.selectedDevices,\r\n            topic: topic,\r\n          },\r\n          timeout: 0,\r\n        })\r\n          .then((res) => {\r\n            this.setState({ responses: [...this.state.responses, res.data] });\r\n            console.log(res);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  handleSelect = (event) => {\r\n    this.setState(\r\n      {\r\n        selectedAction: event.target.value,\r\n      },\r\n      () => {\r\n        if (this.state.selectedAction !== \"\") {\r\n          this.setState({ disabledApply: false });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  callSites = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const usersId = decoded.id;\r\n\r\n    axios\r\n      .get(global.BASE_URL + \"/api/sites/\" + usersId, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        if (response.data.length) {\r\n          this.setState(\r\n            {\r\n              sites: response.data,\r\n              clickedSite: response.data[0].sites_id,\r\n              siteName: response.data[0].name,\r\n            },\r\n            () => {\r\n              this.setState({\r\n                devicesFiltered: this.state.devices.filter((light) => {\r\n                  if (light.sites_id === this.state.sites[0].sites_id) {\r\n                    return light;\r\n                  } else {\r\n                    return null;\r\n                  }\r\n                }),\r\n              });\r\n            }\r\n          );\r\n        }\r\n      });\r\n  };\r\n\r\n  handleChangeSite = (event, site) => {\r\n    if (this.state.sites.find((x) => x.sites_id === site)) {\r\n      setTimeout(() => {\r\n        this.setState({ step: 1 });\r\n      }, 1);\r\n      this.setState({\r\n        step: 50,\r\n        selectedDevices: [],\r\n        siteName: this.state.sites.find((x) => x.sites_id === site).name,\r\n        clickedSite: site,\r\n        devicesFiltered: this.state.devices.filter((light) => {\r\n          if (light.sites_id === site) {\r\n            return light;\r\n          } else {\r\n            return null;\r\n          }\r\n        }),\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSelectAction = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n    if (this.state.selectedDevicesLive.length > 0) {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/setchecked\",\r\n        data: {\r\n          devices: this.state.selectedDevicesLive,\r\n          value: this.state.selectedAction,\r\n          user: user,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.setState({ selectedDevicesLive: [] });\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response);\r\n          this.setState({ errorMessage: error.response.data });\r\n        });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.timer);\r\n  }\r\n\r\n  clearSelected = () => {\r\n    this.setState({ selectedDevices: [] });\r\n  };\r\n\r\n  render() {\r\n    const selectRow = {\r\n      mode: \"checkbox\",\r\n      clickToSelect: true,\r\n      onSelect: (row, isSelect, rowIndex, e) => {\r\n        if (isSelect) {\r\n          this.setState((prevState) => ({\r\n            selectedDevices: [...prevState.selectedDevices, row],\r\n          }));\r\n        }\r\n        if (!isSelect) {\r\n          this.setState({\r\n            selectedDevices: this.state.selectedDevices.filter((el) => {\r\n              if (el.id !== row.id) {\r\n                return el;\r\n              } else return null;\r\n            }),\r\n          });\r\n        }\r\n      },\r\n      onSelectAll: (isSelect, rows, e) => {\r\n        if (isSelect) {\r\n          this.setState({ selectedDevices: rows });\r\n        }\r\n        if (!isSelect) {\r\n          this.setState({ selectedDevices: [] });\r\n        }\r\n      },\r\n    };\r\n\r\n    const selectRowLiveDevices = {\r\n      mode: \"checkbox\",\r\n      clickToSelect: true,\r\n      clickToEdit: true,\r\n      onSelect: (row, isSelect, rowIndex) => {\r\n        if (isSelect) {\r\n          this.setState((prevState) => ({\r\n            selectedDevicesLive: [...prevState.selectedDevicesLive, row],\r\n          }));\r\n        }\r\n        if (!isSelect) {\r\n          this.setState({\r\n            selectedDevicesLive: this.state.selectedDevicesLive.filter((el) => {\r\n              if (el.id !== row.id) {\r\n                return el;\r\n              } else return null;\r\n            }),\r\n          });\r\n        }\r\n      },\r\n      onSelectAll: (isSelect, rows, e) => {\r\n        if (isSelect) {\r\n          this.setState({ selectedDevicesLive: rows });\r\n        }\r\n        if (!isSelect) {\r\n          this.setState({ selectedDevicesLive: [] });\r\n        }\r\n      },\r\n    };\r\n\r\n    const rowStyle = (row, rowIndex) => {\r\n      const style = {};\r\n      if (row.powercut === 3) {\r\n        style.backgroundColor = \"salmon\";\r\n      }\r\n      if (row.powercut === 1) {\r\n        style.backgroundColor = \"lightblue\";\r\n      }\r\n      if (row.duration === 0) {\r\n        style.backgroundColor = \"lightgreen\";\r\n      }\r\n      return style;\r\n    };\r\n\r\n    // const options = {\r\n    //   sizePerPageList: [\r\n    //     {\r\n    //       text: \"5\",\r\n    //       value: 5,\r\n    //     },\r\n    //     {\r\n    //       text: \"10\",\r\n    //       value: 10,\r\n    //     },\r\n    //     {\r\n    //       text: \"All\",\r\n    //       value: this.state.devices.length,\r\n    //     },\r\n    //   ],\r\n    // };\r\n\r\n    const optionsSelected = {\r\n      sizePerPageList: [\r\n        {\r\n          text: \"5\",\r\n          value: 5,\r\n        },\r\n        {\r\n          text: \"10\",\r\n          value: 10,\r\n        },\r\n        {\r\n          text: \"All\",\r\n          value: this.state.selectedDevices.length,\r\n        },\r\n      ],\r\n    };\r\n\r\n    const afterSaveCell = (oldValue, newValue, row, column) => {\r\n      console.log(row.id, newValue);\r\n      this.userInput(row.id, newValue);\r\n    };\r\n\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <GridContainer justify=\"center\">\r\n          <GridItem xs={6} md={10}>\r\n            {this.state.sites ? (\r\n              <Tabs\r\n                value={this.state.clickedSite}\r\n                onChange={this.handleChangeSite}\r\n                indicatorColor=\"primary\"\r\n                textColor=\"primary\"\r\n                style={{\r\n                  border: \"1pt solid lightgrey\",\r\n                  borderRadius: \"2pt\",\r\n                }}\r\n                centered\r\n              >\r\n                {this.state.sites.map((a, index) => (\r\n                  <Tab key={index} value={a.sites_id} label={a.name} />\r\n                ))}\r\n              </Tabs>\r\n            ) : (\r\n              <h1 style={{ color: \"gray\" }}>No sites</h1>\r\n            )}\r\n          </GridItem>\r\n        </GridContainer>\r\n        {this.state.step === 1 ? (\r\n          <Fab\r\n            style={{ marginBottom: \"15px\" }}\r\n            onClick={() => {\r\n              this.setState({ step: this.state.step - 1 });\r\n              if (this.state.step < 3) this.setState({ selectedDevices: [] });\r\n            }}\r\n            disabled={true}\r\n          >\r\n            <Icon>arrow_back</Icon>\r\n          </Fab>\r\n        ) : null}\r\n        {this.state.step !== 1 && this.state.step !== 20 ? (\r\n          <Fab\r\n            color=\"primary\"\r\n            disabled={this.state.disabledBackBtn}\r\n            onClick={() => {\r\n              this.setState({ step: this.state.step - 1 });\r\n              if (this.state.step < 3) this.setState({ selectedDevices: [] });\r\n              if (this.state.step === 4) this.setState({ step: 1 });\r\n            }}\r\n          >\r\n            <Icon>arrow_back</Icon>\r\n          </Fab>\r\n        ) : null}\r\n        {/* Step 1 - choose devices */}\r\n        {this.state.step === 1 ? (\r\n          <div>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              Select devices\r\n            </Typography>\r\n            <BootstrapTable\r\n              noDataIndication={\"no results found\"}\r\n              bordered={true}\r\n              hover\r\n              keyField=\"id\"\r\n              data={this.state.devicesFiltered}\r\n              columns={this.state.deviceColumns}\r\n              selectRow={selectRow}\r\n            />\r\n            <button onClick={this.devGetOnOff}>GetOnOff</button>\r\n            <button onClick={this.devGetLedState}>GetLedState</button>\r\n            <button onClick={this.devSetRelayOff}>SetRelayOff</button>\r\n            <button onClick={this.devSetRelayOn}>SetRelayOn</button>\r\n            <button onClick={this.devGetGW}>CheckGW</button>\r\n            <button onClick={this.setLightOff}>SetLightOff</button>\r\n            <button onClick={this.setLightOn}>SetLightOn</button>\r\n            <button onClick={this.getBatVoltage}>GetBatVoltage</button>\r\n            <button onClick={this.getLdrReading}>GetLdrReading</button>\r\n            <button\r\n              onClick={() => {\r\n                axios({\r\n                  //Axios POST request\r\n                  method: \"post\",\r\n                  headers: {\r\n                    \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                    Authorization: \"Bearer \" + localStorage.usertoken,\r\n                  },\r\n                  url: global.BASE_URL + \"/mqtt/app/relay/state\",\r\n                  data: {\r\n                    node_id: \"004E\",\r\n                  },\r\n                  timeout: 0,\r\n                })\r\n                  .then((res) => {\r\n                    console.log(res);\r\n                  })\r\n                  .catch((error) => {\r\n                    console.log(error);\r\n                  });\r\n              }}\r\n            >\r\n              app/relay\r\n            </button>\r\n            <div style={{ marginLeft: \"10px\" }}>\r\n              <TextField\r\n                id=\"standard-basic\"\r\n                label=\"Node address\"\r\n                onChange={(e) => {\r\n                  let nodeAddress = e.target.value;\r\n                  let device = {\r\n                    mqtt_topic_out: global.SEND_TOPIC,\r\n                    node_id: nodeAddress,\r\n                    light_node_id: nodeAddress,\r\n                  };\r\n                  if (e.target.value === \"\")\r\n                    this.setState({ deviceManual: [] });\r\n                  this.setState({\r\n                    deviceManual: [device],\r\n                  });\r\n                }}\r\n              />\r\n              <input\r\n                style={{ float: \"left\" }}\r\n                type=\"checkbox\"\r\n                checked={this.state.textInput}\r\n                onChange={() =>\r\n                  this.setState({ textInput: !this.state.textInput })\r\n                }\r\n              />\r\n              {this.state.deviceManual.length ? (\r\n                <h6>{this.state.deviceManual[0].mqtt_topic_out}</h6>\r\n              ) : null}\r\n            </div>\r\n            <div style={{ backgroundColor: \"whitesmoke\" }}>\r\n              {this.state.responses.map((el, index) => (\r\n                <h6 key={index}>{`${el} `}</h6>\r\n              ))}\r\n            </div>\r\n            <button onClick={() => this.setState({ responses: [] })}>\r\n              Clear\r\n            </button>\r\n            {this.state.gwMessage ? <h5>{this.state.gwMessage}</h5> : null}\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{ float: \"right\" }}\r\n              onClick={this.goToStepTwo}\r\n            >\r\n              Next\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n        {/* step 2 - show devices selected */}\r\n        {this.state.step === 2 ? (\r\n          <div>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              {this.state.errorMessage}\r\n            </Typography>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              Devices selected\r\n            </Typography>\r\n            <BootstrapTable\r\n              noDataIndication={\"no results found\"}\r\n              bordered={true}\r\n              hover\r\n              keyField=\"id\"\r\n              data={this.state.selectedDevices}\r\n              columns={this.state.selectedDevicesCols}\r\n              pagination={paginationFactory(optionsSelected)}\r\n            />\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{ float: \"right\" }}\r\n              onClick={this.handleStart}\r\n            >\r\n              Next\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n        {/* step 3 - live devices and interface to start the test */}\r\n        {this.state.step === 3 ? (\r\n          <div>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              {this.state.message}\r\n            </Typography>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              {this.state.errorMessage}\r\n            </Typography>\r\n\r\n            <div style={{ float: \"right\" }}>\r\n              <Button\r\n                disabled={this.state.disabledStartAll}\r\n                color=\"primary\"\r\n                onClick={this.cutPowerAll}\r\n              >\r\n                Start EM test\r\n              </Button>\r\n              <Button\r\n                color=\"primary\"\r\n                disabled={this.state.disabledFinish}\r\n                onClick={this.saveTest}\r\n              >\r\n                finish & save\r\n              </Button>\r\n              <Button\r\n                color=\"secondary\"\r\n                disabled={this.state.disabledAbort}\r\n                onClick={this.abortTest}\r\n              >\r\n                Abort\r\n              </Button>\r\n            </div>\r\n            <BootstrapTable\r\n              noDataIndication={() => <NoDataIndication />}\r\n              bordered={true}\r\n              hover\r\n              keyField=\"id\"\r\n              data={this.state.liveDevices}\r\n              columns={this.state.testColumns}\r\n              rowStyle={rowStyle}\r\n              selectRow={selectRowLiveDevices}\r\n              cellEdit={cellEditFactory({\r\n                mode: \"click\",\r\n                afterSaveCell: afterSaveCell,\r\n                blurToSave: true,\r\n              })}\r\n            />\r\n            <InputLabel>Actions</InputLabel>\r\n            <Select\r\n              style={{ minWidth: \"200px\" }}\r\n              onChange={this.handleSelect}\r\n              value={this.state.selectedAction}\r\n            >\r\n              <MenuItem value={\"OK\"}>Set 'Device OK'</MenuItem>\r\n              <MenuItem value={\"No response from BT module\"}>\r\n                Set 'No response from bt'\r\n              </MenuItem>\r\n              <MenuItem value={\"Lamp Fault\"}>Set 'Lamp fault'</MenuItem>\r\n              <MenuItem value={\"Battery Fault\"}>Set 'Battery fault'</MenuItem>\r\n            </Select>\r\n            <Button\r\n              disabled={this.state.disabledApply}\r\n              color=\"primary\"\r\n              onClick={this.handleSelectAction}\r\n            >\r\n              Apply\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n        {this.state.step === 4 ? (\r\n          <div>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              {this.state.message}\r\n            </Typography>\r\n            <TrialTestsTable\r\n              justFinishedTest={true}\r\n              lastTest={this.state.testid}\r\n              tests={this.state.trialTests}\r\n            />\r\n          </div>\r\n        ) : null}\r\n        {this.state.step === 20 ? (\r\n          <Typography variant=\"h4\" gutterBottom>\r\n            Site test in progress. Please come back later.\r\n          </Typography>\r\n        ) : null}\r\n        {this.state.step !== 1 && this.state.step !== 20 ? (\r\n          <div className={classes.container}>\r\n            {this.state.liveDevices.length > 0 ? (\r\n              <LiveFloorplanWrapper liveDevices={this.state.liveDevices} />\r\n            ) : null}\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(TrialTest);\r\n","import React, { useEffect } from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport moment from \"moment\";\r\nimport Draggable from \"react-draggable\";\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nexport default function LiveFloorPlan(props) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [openedPopoverId, setOpenedPopoverId] = React.useState(null);\r\n  const [floorplanURL, setFloorplanURL] = React.useState(\"\");\r\n\r\n  const handleClick = (event, deviceId) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setOpenedPopoverId(deviceId);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n    setOpenedPopoverId(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\r\n        global.BASE_URL +\r\n          \"/api/levels/floorplan/\" +\r\n          props.liveDevices[0].levels_id,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          responseType: \"blob\",\r\n        }\r\n      )\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .then((response) => {\r\n        if (response) setFloorplanURL(URL.createObjectURL(response.data));\r\n      });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n  return (\r\n    <div style={{ overflowX: \"scroll\", width: \"75vw\" }}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Level {props.liveDevices[0].level}\r\n      </Typography>\r\n      <div\r\n        // src={this.state.objectURL}\r\n        style={{\r\n          height: \"700px\",\r\n          width: \"1000px\",\r\n          border: \"1pt solid black\",\r\n          backgroundRepeat: \"no-repeat\",\r\n          backgroundSize: \"contain\",\r\n          backgroundImage: `url(${floorplanURL})`,\r\n        }}\r\n        alt=\"Third Level\"\r\n      >\r\n        {props.liveDevices.length > 0\r\n          ? props.liveDevices.map((el) => {\r\n              var color;\r\n              console.log(el);\r\n              if (el.powercut === 1 || el.powercut === 2) {\r\n                color = \"primary\";\r\n              }\r\n              if (el.powercut === 3) {\r\n                color = \"secondary\";\r\n              }\r\n\r\n              var duration = moment.duration(el.duration);\r\n              var hr = duration.hours();\r\n              var min = duration.minutes();\r\n              var sec = duration.seconds();\r\n\r\n              return (\r\n                <Draggable\r\n                  key={el.id}\r\n                  position={{\r\n                    x: el.fp_coordinates_left,\r\n                    y: el.fp_coordinates_bot,\r\n                  }}\r\n                  onStart={() => false}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      width: \"0px\",\r\n                      height: \"0px\",\r\n                      position: \"relative\",\r\n                    }}\r\n                  >\r\n                    <Icon\r\n                      color={color}\r\n                      style={{\r\n                        fontSize: \"4em\",\r\n                        position: \"absolute\",\r\n                        cursor: \"pointer\",\r\n                      }}\r\n                      onMouseEnter={(e) => handleClick(e, el.id)}\r\n                      onMouseLeave={handleClose}\r\n                    >\r\n                      location_on\r\n                    </Icon>\r\n                    <Popover\r\n                      id={id}\r\n                      open={openedPopoverId === el.id}\r\n                      anchorEl={anchorEl}\r\n                      style={{ pointerEvents: \"none\" }} //important\r\n                      anchorOrigin={{\r\n                        vertical: \"bottom\",\r\n                        horizontal: \"center\",\r\n                      }}\r\n                      transformOrigin={{\r\n                        vertical: \"top\",\r\n                        horizontal: \"center\",\r\n                      }}\r\n                    >\r\n                      <div>\r\n                        <Typography className={classes.typography}>\r\n                          {`${el.device_id} - ${el.type} - ${el.node_id}`}\r\n                        </Typography>\r\n                      </div>\r\n                      <div>\r\n                        {el.powercut === 0 ? (\r\n                          <Typography className={classes.typography}>\r\n                            Awaiting start\r\n                          </Typography>\r\n                        ) : null}\r\n                        {el.powercut === 1 && el.duration !== 0 ? (\r\n                          <Typography className={classes.typography}>\r\n                            In progress\r\n                          </Typography>\r\n                        ) : null}\r\n                        {el.powercut === 3 ? (\r\n                          <Typography className={classes.typography}>\r\n                            Connection problem\r\n                          </Typography>\r\n                        ) : null}\r\n                      </div>\r\n                      <div>\r\n                        {el.sensors ? (\r\n                          el.sensors.map((el) => (\r\n                            <span>\r\n                              <Typography className={classes.typography}>\r\n                                {typeof el.reading !== \"undefined\" ||\r\n                                typeof el.voltage !== \"undefined\"\r\n                                  ? el.reading\r\n                                    ? `${el.type}: ${el.reading}`\r\n                                    : `${el.type}: ${el.voltage}v`\r\n                                  : null}\r\n                              </Typography>\r\n                            </span>\r\n                          ))\r\n                        ) : (\r\n                          <Typography className={classes.typography}>\r\n                            No sensors\r\n                          </Typography>\r\n                        )}\r\n                      </div>\r\n                      <div>\r\n                        {el.duration === 0 ? (\r\n                          <Typography className={classes.typography}>\r\n                            Finished\r\n                          </Typography>\r\n                        ) : (\r\n                          <Typography className={classes.typography}>\r\n                            Time left: {`${hr}:${min}:${sec}`}\r\n                          </Typography>\r\n                        )}\r\n                      </div>\r\n                    </Popover>\r\n                  </div>\r\n                </Draggable>\r\n              );\r\n            })\r\n          : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class ManualCommand extends Component {\r\n  state = {\r\n    command: \"\",\r\n    messages: [\"Test message\"],\r\n  };\r\n\r\n  sendCommand = () => {\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/dev/manual/cmd\",\r\n      data: {\r\n        command: this.state.command,\r\n        topic: global.SEND_TOPIC,\r\n      },\r\n      timeout: 0,\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        this.setState({ messages: [...this.state.messages, res.data.message] });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  inputOnChange = (e) => {\r\n    this.setState({ command: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h4>Manual mqtt command</h4>\r\n\r\n        <input type=\"text\" onChange={this.inputOnChange} />\r\n        <button onClick={this.sendCommand}>send</button>\r\n        <ul>\r\n          {this.state.messages.map((el, index) => (\r\n            <li key={index}>{el}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class SocketDev extends Component {\r\n  state = {\r\n    command: \"\",\r\n    socket: \"TEST_SOCKET\",\r\n    messages: [],\r\n  };\r\n\r\n  onChange = (e) => {\r\n    this.setState({ command: e.target.value });\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios({\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/trialtests/usr/6/20\",\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  send = () => {\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/sockets/test\",\r\n      data: {\r\n        socket: this.state.socket,\r\n        command: this.state.command,\r\n      },\r\n      timeout: 0,\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        this.setState({ messages: [...this.state.messages, res.data] });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  onChangeRadio = (changeEvent) => {\r\n    this.setState({\r\n      socket: changeEvent.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h4>Socket.io Development</h4>\r\n        <input type=\"text\" onChange={this.onChange} />\r\n        <button onClick={this.send}>send</button>\r\n        <h5>{this.state.command}</h5>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            value=\"TEST_SOCKET\"\r\n            checked={\"TEST_SOCKET\" === this.state.socket}\r\n            onChange={this.onChangeRadio}\r\n          />\r\n          TEST_SOCKET\r\n        </label>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            value=\"SP_SOCKET\"\r\n            checked={\"SP_SOCKET\" === this.state.socket}\r\n            onChange={this.onChangeRadio}\r\n          />\r\n          SP_SOCKET\r\n        </label>\r\n        <h5>{this.state.socket}</h5>\r\n        <ul>\r\n          {this.state.messages.map((el, index) => {\r\n            if (el.message.devices) {\r\n              return (\r\n                <li key={index}>\r\n                  {el.clientName} - ID: {el.message.test_id}\r\n                  {\" DEVICES: \"}\r\n                  {el.message.devices.map((c, i) => (\r\n                    <p key={i}>\r\n                      {c.blabla} {c.omnom}\r\n                    </p>\r\n                  ))}\r\n                </li>\r\n              );\r\n            } else\r\n              return (\r\n                <li key={index}>\r\n                  {el.clientName} - {el.message}\r\n                </li>\r\n              );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Register from \"components/Users/Register\";\r\nimport SiteUserManagement from \"components/SiteUserManagement/SiteUserManagement\";\r\n// import UserManagement from \"components/UserManagement/UserManagement\";\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\n\r\nexport default class AdminComponent extends Component {\r\n  state = {\r\n    users: [],\r\n    sites: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.callUsers();\r\n  }\r\n\r\n  callUsers = () => {\r\n    const decoded = jwt_decode(localStorage.usertoken);\r\n    const access = decoded.access;\r\n    const user = decoded.id;\r\n\r\n    axios({\r\n      //Axios GET request\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/rolesusers/users/\" + user,\r\n    })\r\n      .then((res) => {\r\n        let usersCopy = res.data;\r\n        usersCopy.forEach((el) => {\r\n          if (access > el.access) {\r\n            el.canEdit = true;\r\n          } else if (access <= el.access) {\r\n            el.canEdit = false;\r\n          }\r\n        });\r\n        this.setState({ users: usersCopy });\r\n        this.callSites();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  callSites = () => {\r\n    const decoded = jwt_decode(localStorage.usertoken);\r\n    const user = decoded.id;\r\n\r\n    axios({\r\n      //Axios GET request\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/sites/\" + user,\r\n    })\r\n      .then((res) => {\r\n        this.setState({ sites: res.data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  revokeAccess = (user, site) => {\r\n    let users = this.state.users;\r\n    const foundUser = users.findIndex((el) => el.id === user);\r\n\r\n    users[foundUser].sites = users[foundUser].sites.replace(\r\n      JSON.stringify(site),\r\n      \"\"\r\n    );\r\n    console.log(foundUser);\r\n    this.setState({ users: users }, () => console.log(this.state.users));\r\n    axios({\r\n      //Axios GET request\r\n      method: \"delete\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      // eslint-disable-next-line\r\n      url: global.BASE_URL + \"/api/sites/revoke/\" + `${user}/${site}`,\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        this.callUsers();\r\n        this.callSites();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <GridContainer justify=\"center\">\r\n          {/* <GridItem sm={8}>\r\n            <UserManagement\r\n              callUsers={this.callUsers}\r\n              users={this.state.users}\r\n            />\r\n          </GridItem> */}\r\n          <GridItem sm={8}>\r\n            <SiteUserManagement\r\n              callUsers={this.callUsers}\r\n              users={this.state.users}\r\n              sites={this.state.sites}\r\n              revokeAccess={this.revokeAccess}\r\n            />\r\n          </GridItem>\r\n          <GridItem sm={4} className=\"jumbotron bg-light\">\r\n            <Register callUsers={this.callUsers} />\r\n          </GridItem>\r\n        </GridContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { register } from \"./UserFunctions\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Select from \"react-select\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nclass Register extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      first_name: \"\",\r\n      last_name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      message: \"\",\r\n      play: \"\",\r\n      roles: [],\r\n      sites: [],\r\n      selectedRole: null,\r\n      selectedSites: [],\r\n      errors: {\r\n        first_name: \" \",\r\n        last_name: \" \",\r\n        email: \" \",\r\n        password: \" \",\r\n        role: \" \",\r\n        site: \" \",\r\n      },\r\n      formDisabled: true,\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  callSites = (user) => {\r\n    axios\r\n      .get(global.BASE_URL + \"/api/sites/\" + user.id, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.length) {\r\n          let data = [];\r\n          response.data.forEach((el) => {\r\n            var site = {};\r\n            site.value = el.sites_id;\r\n            site.label = el.name;\r\n            data.push(site);\r\n          });\r\n          this.setState({ sites: data });\r\n        }\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded;\r\n\r\n    axios({\r\n      //Axios POST request\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/rolesusers/\" + user.access,\r\n    })\r\n      .then((res) => {\r\n        let data = [];\r\n        res.data.forEach((el) => {\r\n          var role = {};\r\n          role.value = el.id;\r\n          role.label = el.name;\r\n          role.accessLevel = el.access;\r\n          data.push(role);\r\n        });\r\n        this.setState({\r\n          roles: data,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    this.callSites(user);\r\n  }\r\n\r\n  validateForm = (errors) => {\r\n    let valid = true;\r\n    Object.values(errors).forEach(\r\n      // if we have an error string set valid to false\r\n      (el) => el.length > 0 && (valid = false)\r\n    );\r\n    return valid;\r\n  };\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n    const { name, value } = e.target;\r\n    let errors = this.state.errors;\r\n    const validEmailRegex = RegExp(\r\n      // eslint-disable-next-line\r\n      /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\n    );\r\n\r\n    switch (name) {\r\n      case \"first_name\":\r\n        errors.first_name =\r\n          value.length < 3 ? \"First Name minimum 3 characters long\" : \"\";\r\n        break;\r\n      case \"last_name\":\r\n        errors.last_name =\r\n          value.length < 3 ? \"Last Name minimum 3 characters long\" : \"\";\r\n        break;\r\n      case \"email\":\r\n        errors.email = validEmailRegex.test(value) ? \"\" : \"Email is not valid\";\r\n        break;\r\n      case \"password\":\r\n        errors.password =\r\n          value.length < 8 ? \"Password minimum 8 characters long\" : \"\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    this.setState({ errors, [name]: value }, () => {\r\n      if (this.validateForm(errors)) {\r\n        this.setState({ formDisabled: false });\r\n      } else this.setState({ formDisabled: true });\r\n    });\r\n  }\r\n\r\n  onChangeSelect = (selectedOption) => {\r\n    let errors = this.state.errors;\r\n\r\n    errors.role = selectedOption.length > 0 ? \"Choose a role for the user\" : \"\";\r\n    this.setState({ selectedRole: selectedOption }, () => {\r\n      if (this.validateForm(errors)) {\r\n        this.setState({ formDisabled: false });\r\n      }\r\n    });\r\n  };\r\n\r\n  onChangeSelectSites = (selectedOption) => {\r\n    let errors = this.state.errors;\r\n    if (selectedOption) {\r\n      if (selectedOption.length === 0) {\r\n        errors.site = \"Choose sites for the user\";\r\n      } else errors.site = \"\";\r\n      this.setState({ selectedSites: selectedOption }, () => {\r\n        if (this.validateForm(errors)) {\r\n          this.setState({ formDisabled: false });\r\n        } else this.setState({ formDisabled: true });\r\n      });\r\n    } else {\r\n      errors.site = \"Choose sites for the user\";\r\n      this.setState({ formDisabled: true });\r\n    }\r\n  };\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    if (this.validateForm(this.state.errors)) {\r\n      const sites = [];\r\n\r\n      this.state.selectedSites.forEach((el) => {\r\n        sites.push(el.value);\r\n      });\r\n\r\n      const user = {\r\n        first_name: this.state.first_name,\r\n        last_name: this.state.last_name,\r\n        email: this.state.email,\r\n        password: this.state.password,\r\n        role: this.state.selectedRole.value,\r\n        sites: sites,\r\n      };\r\n\r\n      register(user)\r\n        .then((res) => {\r\n          this.props.callUsers();\r\n          console.log(res.data);\r\n          this.setState({\r\n            message: res.data.status,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response);\r\n          if (err.response) {\r\n            this.setState({ message: err.response.data });\r\n          }\r\n        });\r\n    } else {\r\n      this.setState({ message: \"Error in the form\" });\r\n      console.error(\"Invalid Form\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12 mx-auto\">\r\n            <form noValidate onSubmit={this.onSubmit}>\r\n              <h4>Register a new user</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"firstname\">First Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"first_name\"\r\n                  placeholder=\"Enter first name\"\r\n                  value={this.state.first_name}\r\n                  onChange={this.onChange}\r\n                />\r\n                {this.state.errors.first_name ? (\r\n                  <p>{this.state.errors.first_name}</p>\r\n                ) : (\r\n                  <p style={{ color: \"green\" }}>✓</p>\r\n                )}\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"lastname\">Last Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"last_name\"\r\n                  placeholder=\"Enter last name\"\r\n                  value={this.state.last_name}\r\n                  onChange={this.onChange}\r\n                />\r\n                {this.state.errors.last_name ? (\r\n                  <p>{this.state.errors.last_name}</p>\r\n                ) : (\r\n                  <p style={{ color: \"green\" }}>✓</p>\r\n                )}\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email address</label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  name=\"email\"\r\n                  placeholder=\"Enter email\"\r\n                  value={this.state.email}\r\n                  onChange={this.onChange}\r\n                />\r\n                {this.state.errors.email ? (\r\n                  <p>{this.state.errors.email}</p>\r\n                ) : (\r\n                  <p style={{ color: \"green\" }}>✓</p>\r\n                )}\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\">Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                  value={this.state.password}\r\n                  onChange={this.onChange}\r\n                />\r\n                {this.state.errors.password ? (\r\n                  <p>{this.state.errors.password}</p>\r\n                ) : (\r\n                  <p style={{ color: \"green\" }}>✓</p>\r\n                )}\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"role\">Role</label>\r\n                <Select\r\n                  value={this.state.selectedRole}\r\n                  onChange={this.onChangeSelect}\r\n                  options={this.state.roles}\r\n                />\r\n                {this.state.errors.password ? (\r\n                  <p>{this.state.errors.role}</p>\r\n                ) : (\r\n                  <p style={{ color: \"green\" }}>✓</p>\r\n                )}\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"site\">Sites</label>\r\n                <Select\r\n                  closeMenuOnSelect={false}\r\n                  value={this.state.selectedSite}\r\n                  onChange={this.onChangeSelectSites}\r\n                  options={this.state.sites}\r\n                  isMulti\r\n                />\r\n                {this.state.errors.password ? (\r\n                  <p>{this.state.errors.site}</p>\r\n                ) : (\r\n                  <p style={{ color: \"green\" }}>✓</p>\r\n                )}\r\n              </div>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-lg btn-primary btn-block\"\r\n                disabled={this.state.formDisabled}\r\n              >\r\n                Register\r\n              </button>\r\n            </form>\r\n\r\n            <p\r\n              style={{\r\n                marginTop: \"25px\",\r\n                textAlign: \"center\",\r\n                color: \"black\",\r\n                fontSize: \"1.5em\",\r\n              }}\r\n            >\r\n              {this.state.message}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Register);\r\n","import React, { Component } from \"react\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport axios from \"axios\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\n// import IconButton from \"@material-ui/core/IconButton\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport cellEditFactory, { Type } from \"react-bootstrap-table2-editor\";\r\nimport jwt_decode from \"jwt-decode\";\r\n// import MaterialTable from \"material-table\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n// function MaterialTableDemo() {\r\n//   const [state, setState] = React.useState({\r\n//     columns: [\r\n//       { title: \"Name\", field: \"name\" },\r\n//       { title: \"Surname\", field: \"surname\" },\r\n//       { title: \"Birth Year\", field: \"birthYear\", type: \"numeric\" },\r\n//       {\r\n//         title: \"Birth Place\",\r\n//         field: \"birthCity\",\r\n//         lookup: { 34: \"İstanbul\", 63: \"Şanlıurfa\" },\r\n//       },\r\n//     ],\r\n//     data: [\r\n//       { name: \"Mehmet\", surname: \"Baran\", birthYear: 1987, birthCity: 63 },\r\n//       {\r\n//         name: \"Zerya Betül\",\r\n//         surname: \"Baran\",\r\n//         birthYear: 2017,\r\n//         birthCity: 34,\r\n//       },\r\n//     ],\r\n//   });\r\n\r\n//   return (\r\n//     <MaterialTable\r\n//       title=\"Editable Example\"\r\n//       columns={state.columns}\r\n//       data={state.data}\r\n//       editable={{\r\n//         onRowAdd: (newData) =>\r\n//           new Promise((resolve) => {\r\n//             setTimeout(() => {\r\n//               resolve();\r\n//               setState((prevState) => {\r\n//                 const data = [...prevState.data];\r\n//                 data.push(newData);\r\n//                 return { ...prevState, data };\r\n//               });\r\n//             }, 600);\r\n//           }),\r\n//         onRowUpdate: (newData, oldData) =>\r\n//           new Promise((resolve) => {\r\n//             setTimeout(() => {\r\n//               resolve();\r\n//               if (oldData) {\r\n//                 setState((prevState) => {\r\n//                   const data = [...prevState.data];\r\n//                   data[data.indexOf(oldData)] = newData;\r\n//                   return { ...prevState, data };\r\n//                 });\r\n//               }\r\n//             }, 600);\r\n//           }),\r\n//         onRowDelete: (oldData) =>\r\n//           new Promise((resolve) => {\r\n//             setTimeout(() => {\r\n//               resolve();\r\n//               setState((prevState) => {\r\n//                 const data = [...prevState.data];\r\n//                 data.splice(data.indexOf(oldData), 1);\r\n//                 return { ...prevState, data };\r\n//               });\r\n//             }, 600);\r\n//           }),\r\n//       }}\r\n//     />\r\n//   );\r\n// }\r\n\r\nconst NoDataIndication = () => (\r\n  <div\r\n    className=\"spinner-grow text-info\"\r\n    style={{ width: \"6rem\", height: \"6rem\" }}\r\n  ></div>\r\n);\r\n\r\nexport default class UserManagement extends Component {\r\n  state = {\r\n    roles: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.callUsers();\r\n\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded;\r\n\r\n    axios({\r\n      //Axios POST request\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/rolesusers/\" + user.access,\r\n    })\r\n      .then((res) => {\r\n        let data = [];\r\n        res.data.forEach((el) => {\r\n          var role = {};\r\n          role.value = el.id;\r\n          role.label = el.name;\r\n          role.accessLevel = el.access;\r\n          data.push(role);\r\n        });\r\n        this.setState({\r\n          roles: data,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  deleteUser = (row) => {\r\n    if (window.confirm(`Delete user ${row.first_name} ${row.last_name}?`)) {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"delete\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/api/rolesusers/users/delete/\" + row.id,\r\n      })\r\n        .then((res) => {\r\n          this.props.callUsers();\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  revokeAccess = (site, siteName, row) => {\r\n    if (\r\n      window.confirm(\r\n        `Revoke ${row.first_name} ${row.last_name} access to ${siteName}?`\r\n      )\r\n    ) {\r\n      this.props.revokeAccess(row.id, site);\r\n      window.alert(\"access revoked\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const options = {\r\n      sizePerPageList: [\r\n        {\r\n          text: \"5\",\r\n          value: 5,\r\n        },\r\n        {\r\n          text: \"10\",\r\n          value: 10,\r\n        },\r\n        {\r\n          text: \"all\",\r\n          value: this.props.users.length,\r\n        },\r\n      ],\r\n    };\r\n\r\n    const columns = [\r\n      {\r\n        dataField: \"id\",\r\n        text: \"ID\",\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"first_name\",\r\n        text: \"First Name\",\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"last_name\",\r\n        text: \"Last Name\",\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"full_name\",\r\n        text: \"User Name\",\r\n        editable: false,\r\n        formatter: (cellContent, row) => {\r\n          return (\r\n            <span>\r\n              {row.first_name} {row.last_name}\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        dataField: \"email\",\r\n        text: \"Email\",\r\n      },\r\n      {\r\n        dataField: \"role_name\",\r\n        text: \"Role\",\r\n        editor: {\r\n          type: Type.SELECT,\r\n          options: this.state.roles,\r\n        },\r\n        formatter: (cell, row) => {\r\n          // eslint-disable-next-line\r\n          var found = this.state.roles.find((x) => x.value == cell);\r\n          if (found) return found.label;\r\n          else return cell;\r\n        },\r\n      },\r\n      {\r\n        dataField: \"canEdit\",\r\n        text: \"CanEdit\",\r\n        hidden: true,\r\n      },\r\n      // {\r\n      //   dataField: \"access\",\r\n      //   text: \"access\",\r\n      // },\r\n      // {\r\n      //   dataField: \"actions\",\r\n      //   text: \"Actions\",\r\n      //   editable: false,\r\n      //   headerStyle: (colum, colIndex) => {\r\n      //     return { textAlign: \"center\" };\r\n      //   },\r\n      //   formatter: (cellContent, row, rowId, rowIndex, e) => {\r\n      //     return (\r\n      //       <div>\r\n      //         {row.canEdit ? (\r\n      //           <IconButton\r\n      //             color=\"secondary\"\r\n      //             onClick={(e) => {\r\n      //               e.stopPropagation();\r\n      //               this.deleteUser(row);\r\n      //             }}\r\n      //           >\r\n      //             <Icon style={{ fontSize: \"1em\" }}>delete</Icon>\r\n      //           </IconButton>\r\n      //         ) : (\r\n      //           <IconButton color=\"secondary\" disabled={true}>\r\n      //             <Icon style={{ fontSize: \"1em\" }}>delete</Icon>\r\n      //           </IconButton>\r\n      //         )}\r\n      //       </div>\r\n      //     );\r\n      //   },\r\n      // },\r\n    ];\r\n\r\n    const expandRow = {\r\n      renderer: (row) => (\r\n        <div>\r\n          <h6>Users Sites access</h6>\r\n          {this.props.sites.map((el) => {\r\n            if (row.sites.includes(el.sites_id))\r\n              return (\r\n                <div key={el.sites_id}>\r\n                  <div style={{ width: \"45%\" }}>\r\n                    <p style={{ display: \"inline-block\" }}>{el.name}</p>\r\n                    <p style={{ color: \"green\", display: \"inline-block\" }}>\r\n                      ✔{\" \"}\r\n                    </p>\r\n                    {row.canEdit ? (\r\n                      <Button\r\n                        color=\"secondary\"\r\n                        style={{ float: \"right\" }}\r\n                        onClick={() => {\r\n                          this.revokeAccess(el.sites_id, el.name, row);\r\n                        }}\r\n                      >\r\n                        Revoke access\r\n                      </Button>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              );\r\n            else\r\n              return (\r\n                <div key={el.sites_id}>\r\n                  <p style={{ display: \"inline-block\" }}>{el.name}</p>\r\n                  <p style={{ color: \"red\", display: \"inline-block\" }}>\r\n                    <b>X</b>\r\n                  </p>\r\n                </div>\r\n              );\r\n          })}\r\n        </div>\r\n      ),\r\n      showExpandColumn: true,\r\n      onlyOneExpanding: true,\r\n      expandByColumnOnly: true,\r\n      expandHeaderColumnRenderer: ({ isAnyExpands }) => {\r\n        if (isAnyExpands) {\r\n          return (\r\n            <Icon style={{ fontSize: \"1.3em\" }}>\r\n              <b>&#9207;</b>\r\n            </Icon>\r\n          );\r\n        }\r\n        return (\r\n          <Icon style={{ fontSize: \"1.3em\" }}>\r\n            <b>&#9205;</b>\r\n          </Icon>\r\n        );\r\n      },\r\n      expandColumnRenderer: ({ expanded }) => {\r\n        if (expanded) {\r\n          return (\r\n            <Icon style={{ fontSize: \"1.3em\" }}>\r\n              <b>&#9207;</b>\r\n            </Icon>\r\n          );\r\n        }\r\n        return (\r\n          <Icon style={{ fontSize: \"1.3em\" }}>\r\n            <b>&#9205;</b>\r\n          </Icon>\r\n        );\r\n      },\r\n    };\r\n\r\n    const beforeSaveCell = (oldValue, newValue, row, column, done) => {\r\n      const token = localStorage.usertoken;\r\n      const decoded = jwt_decode(token);\r\n      const user = decoded;\r\n      const canEdit = user.access >= row.access;\r\n      const self = user.id === row.id && column.dataField === \"role_name\";\r\n\r\n      console.log(self, column);\r\n      if (newValue !== \"\" && !self) {\r\n        if (canEdit) {\r\n          if (window.confirm(\"Are you sure?\")) {\r\n            done();\r\n          } else done(false);\r\n        } else {\r\n          done(false);\r\n          window.alert(\"No access\");\r\n        }\r\n      } else {\r\n        done(false);\r\n      }\r\n      return { async: true };\r\n    };\r\n\r\n    const afterSaveCell = (oldValue, newValue, row, column, done) => {\r\n      //ALLOW TO EDIT ONLY IF THE EDITOR HAS ACCESS HIGHER THAN THE USER BEING EDITED //TODO\r\n      if (column.dataField === \"role_name\") {\r\n        column.dataField = \"roles_id\";\r\n      }\r\n\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/api/rolesusers/edit/\" + row.id,\r\n        data: {\r\n          //data object sent in request's body\r\n          column: column.dataField,\r\n          value: newValue,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          this.props.callUsers();\r\n          console.log(res);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    };\r\n\r\n    return (\r\n      <div className=\"jumbotron bg-light\">\r\n        <h4>UserManagement</h4>\r\n        <BootstrapTable\r\n          hover\r\n          noDataIndication={() => <NoDataIndication />}\r\n          keyField=\"id\"\r\n          data={this.props.users}\r\n          columns={columns}\r\n          pagination={paginationFactory(options)}\r\n          expandRow={expandRow}\r\n          cellEdit={cellEditFactory({\r\n            mode: \"click\",\r\n            blurToSave: true,\r\n            afterSaveCell: afterSaveCell,\r\n            beforeSaveCell: beforeSaveCell,\r\n          })}\r\n        />\r\n        {/* <MaterialTableDemo /> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Sites from \"components/DevTestSockets/Sites\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport axios from \"axios\";\r\n\r\nexport default class DevTestSockets extends Component {\r\n  state = {\r\n    sites: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.callSites();\r\n  }\r\n\r\n  callSites = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const usersId = decoded.id;\r\n\r\n    axios\r\n      .get(global.BASE_URL + \"/api/sites/\" + usersId, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.length) {\r\n          this.setState({\r\n            sites: response.data,\r\n            clickedSite: response.data[0].sites_id,\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Sites sites={this.state.sites} clickedSite={this.state.clickedSite} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport PropTypes from \"prop-types\";\r\nimport Building from \"components/DevTestSockets/Building\";\r\nimport axios from \"axios\";\r\nimport Devices from \"components/DevTestSockets/SelectDevices\";\r\nimport TestContainer from \"components/DevTestSockets/TestContainer\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\n\r\nconst useStyles = makeStyles({\r\n  paperRoot: {\r\n    backgroundColor: \"whitesmoke\",\r\n    justifyContent: \"center\",\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  root2: {\r\n    justifyContent: \"center\",\r\n  },\r\n  scroller: {\r\n    flexGrow: \"0\",\r\n  },\r\n});\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-auto-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-auto-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box p={3}>{children}</Box>}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `scrollable-auto-tab-${index}`,\r\n    \"aria-controls\": `scrollable-auto-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nexport default function CenteredTabs(props) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n  const [clickedSite, setClickedSite] = React.useState();\r\n  //eslint-disable-next-line\r\n  const [socket, setSocket] = React.useState();\r\n  const [tabsDisabled, setTabsDisabled] = React.useState(false);\r\n  const [liveDevices, setLiveDevices] = React.useState([]);\r\n  const [stage, setStage] = React.useState(1);\r\n  const [clickedBuilding, setClickedBldng] = React.useState();\r\n  const [gwState, setGwState] = React.useState(\"Wait...\");\r\n\r\n  const checkStatus = (socketName) => {\r\n    console.log(\"checkStatus of\", socketName);\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/sockets/status\",\r\n      data: {\r\n        socket: socketName,\r\n      },\r\n      timeout: 0,\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        let gwStatus = res.data.message.gwStatus;\r\n        let siteCheck = props.sites.find((el) => el.sites_id === clickedSite);\r\n\r\n        if (gwStatus.includes(\"NO RESPONSE\"))\r\n          gwStatus = `${gwStatus} - Please contact the administrator`;\r\n        console.log(clickedSite);\r\n        if (siteCheck.socket_name === socketName) setGwState(gwStatus);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (props.sites.length > 0) {\r\n      const socket = props.sites[0].socket_name;\r\n      setClickedSite(props.sites[0].sites_id);\r\n      setSocket(socket);\r\n      checkStatus(socket);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [props.sites]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n    setClickedSite(props.sites[newValue].sites_id);\r\n    console.log(props.sites);\r\n    setSocket(props.sites[newValue].socket_name);\r\n    checkStatus(props.sites[newValue].socket_name);\r\n    setGwState(\"Wait...\");\r\n    setStage(1);\r\n  };\r\n\r\n  const toggleTabs = () => {\r\n    setTabsDisabled(!tabsDisabled);\r\n  };\r\n\r\n  const initiateTest = (devices) => {\r\n    setStage(3);\r\n    console.log(devices);\r\n    setLiveDevices(devices);\r\n    toggleTabs();\r\n  };\r\n\r\n  const setClickedBuilding = (id) => {\r\n    setClickedBldng(id);\r\n    setStage(2);\r\n    console.log(id);\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.paperRoot}>\r\n      <Tabs\r\n        classes={{ root: classes.root2, scroller: classes.scroller }}\r\n        value={value}\r\n        onChange={handleChange}\r\n        indicatorColor=\"primary\"\r\n        textColor=\"primary\"\r\n        variant=\"scrollable\"\r\n        scrollButtons=\"auto\"\r\n      >\r\n        {props.sites.map((el, index) => (\r\n          <Tab\r\n            key={index}\r\n            disabled={tabsDisabled}\r\n            label={el.name}\r\n            {...a11yProps(index)}\r\n          />\r\n        ))}\r\n      </Tabs>\r\n      {props.sites.length\r\n        ? props.sites.map((el, index) => (\r\n            <TabPanel key={index} value={value} index={index}>\r\n              {stage === 1 ? (\r\n                <div>\r\n                  <GridContainer>\r\n                    <GridItem xs={2}>\r\n                      <Fab color=\"primary\" disabled={true}>\r\n                        <Icon>arrow_back</Icon>\r\n                      </Fab>\r\n                    </GridItem>\r\n                    <GridItem xs={10} style={{ textAlign: \"right\" }}>\r\n                      Gateway status: {gwState}\r\n                    </GridItem>\r\n                  </GridContainer>\r\n                  <GridContainer justify=\"center\">\r\n                    <GridItem xs={12}>\r\n                      <Building\r\n                        clickedSite={clickedSite}\r\n                        toggleTabs={toggleTabs}\r\n                        initiateTest={initiateTest}\r\n                        setClickedBuilding={setClickedBuilding}\r\n                      />\r\n                    </GridItem>\r\n                  </GridContainer>\r\n                </div>\r\n              ) : null}\r\n              {stage === 2 ? (\r\n                <div>\r\n                  <Fab color=\"primary\" onClick={() => setStage(stage - 1)}>\r\n                    <Icon>arrow_back</Icon>\r\n                  </Fab>\r\n                  <Devices\r\n                    clickedBuilding={clickedBuilding}\r\n                    initiate={initiateTest}\r\n                  />\r\n                </div>\r\n              ) : null}\r\n              {stage === 3 ? (\r\n                <div>\r\n                  <Fab color=\"primary\" disabled={true}>\r\n                    <Icon>arrow_back</Icon>\r\n                  </Fab>\r\n                  <TestContainer devices={liveDevices} />\r\n                </div>\r\n              ) : null}\r\n            </TabPanel>\r\n          ))\r\n        : null}\r\n    </Paper>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\n// import GroupsTable from \"components/Data/GroupsTable.js\";\r\n// import Button from \"@material-ui/core/Button\";\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\n// import CardHeader from \"components/Card/CardHeader.js\";\r\nimport CardIcon from \"components/Card/CardIcon.js\";\r\nimport CardFooter from \"components/Card/CardFooter.js\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\n// import Fab from \"@material-ui/core/Fab\";\r\n// import Devices from \"components/DevTestSockets/SelectDevices\";\r\n// import TestContainer from \"components/DevTestSockets/TestContainer\";\r\n\r\nconst NoDataIndication = () => (\r\n  <div\r\n    className=\"spinner-grow text-info\"\r\n    style={{ width: \"6rem\", height: \"6rem\" }}\r\n  />\r\n);\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    backgroundColor: \"transparent\",\r\n    boxShadow: \"none\",\r\n    paddingTop: \"0px\",\r\n    padding: \"20px\",\r\n    marginBottom: \"0px\",\r\n  },\r\n  \"@keyframes opacity\": {\r\n    \"100%\": { opacity: 1 },\r\n  },\r\n  modalRoot: {\r\n    background: \"rgba(255,255,255,0)\",\r\n  },\r\n  buildingStyle: {\r\n    transition: \"0.3s\",\r\n    \"&:hover\": {\r\n      transition: \"0.3s\",\r\n      backgroundColor: \"#e8e8e8\",\r\n    },\r\n    cursor: \"pointer\",\r\n    backgroundColor: \"white\",\r\n  },\r\n  crumbleNavigation: {\r\n    transition: \"0.3s\",\r\n    \"&:hover\": {\r\n      transition: \"0.3s\",\r\n      color: \"black\",\r\n      textDecoration: \"underline\",\r\n      cursor: \"pointer\",\r\n    },\r\n  },\r\n  tableFadeIn: {\r\n    opacity: \"0\",\r\n    margin: \"15px\",\r\n    animationName: \"$opacity\",\r\n    animationDuration: \"0.3s\",\r\n    animationTimingFunction: \"linear\",\r\n    animationFillMode: \"forwards\",\r\n  },\r\n  cardTitleWhite: {\r\n    color: \"#FFFFFF\",\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: \"#777\",\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\",\r\n    },\r\n  },\r\n  paper: {\r\n    position: \"absolute\",\r\n    maxWidth: \"485px\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: \"5px 5px 3px #333333\",\r\n    padding: \"20px\",\r\n  },\r\n});\r\n\r\nexport default function Building(props) {\r\n  const classes = useStyles();\r\n  const [buildings, setBuildings] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    axios\r\n      .get(global.BASE_URL + \"/api/buildings/\" + props.clickedSite, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        setBuildings(response.data);\r\n      });\r\n  }, [props.clickedSite]);\r\n\r\n  if (buildings.length)\r\n    return (\r\n      <div>\r\n        <GridContainer justify=\"space-between\">\r\n          {buildings.map((el) => (\r\n            <GridItem xs={12} sm={12} md={6} key={el.id}>\r\n              <Card\r\n                onClick={() => {\r\n                  props.setClickedBuilding(el.id);\r\n                }}\r\n                className={classes.buildingStyle}\r\n              >\r\n                <CardBody color=\"success\">\r\n                  <CardIcon color=\"success\">\r\n                    <Icon>check</Icon>\r\n                  </CardIcon>\r\n                  <p className={classes.cardCategory}>Building</p>\r\n                  <h3 className={classes.cardTitle}>{el.building}</h3>\r\n                </CardBody>\r\n                <CardFooter stats>\r\n                  <div className={classes.stats}>Footer</div>\r\n                </CardFooter>\r\n              </Card>\r\n            </GridItem>\r\n          ))}\r\n        </GridContainer>\r\n      </div>\r\n    );\r\n  else\r\n    return (\r\n      <GridContainer justify=\"center\">\r\n        <NoDataIndication />\r\n      </GridContainer>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nexport default function Devices(props) {\r\n  const [selectedDevices, setSelectedDevices] = React.useState([]);\r\n  const [devices, setDevices] = React.useState([]);\r\n\r\n  const deviceColumns = [\r\n    {\r\n      dataField: \"lights_id\",\r\n      text: \"Record ID\",\r\n      sort: true,\r\n      hidden: true,\r\n    },\r\n    {\r\n      dataField: \"device_id\",\r\n      text: \"Device ID\",\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: \"type\",\r\n      text: \"Type\",\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: \"sites_name\",\r\n      text: \"Site\",\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: \"group_name\",\r\n      text: \"Location\",\r\n      sort: true,\r\n\r\n      formatter: (cellContent, row, rowIndex) => {\r\n        return <span>{`${row.building} - ${row.level} level`}</span>;\r\n      },\r\n    },\r\n    {\r\n      dataField: \"level\",\r\n      text: \"\",\r\n      sort: true,\r\n      hidden: true,\r\n    },\r\n    {\r\n      dataField: \"building\",\r\n      text: \"\",\r\n      sort: true,\r\n      hidden: true,\r\n    },\r\n    {\r\n      dataField: \"node_id\",\r\n      text: \"BMesh Address\",\r\n      sort: true,\r\n    },\r\n  ];\r\n\r\n  const selectRow = {\r\n    mode: \"checkbox\",\r\n    clickToSelect: true,\r\n    onSelect: (row, isSelect, rowIndex, e) => {\r\n      if (isSelect) {\r\n        setSelectedDevices([...selectedDevices, row]);\r\n      }\r\n      if (!isSelect) {\r\n        setSelectedDevices(\r\n          selectedDevices.filter((el) => el.lights_id !== row.lights_id)\r\n        );\r\n      }\r\n    },\r\n    onSelectAll: (isSelect, rows, e) => {\r\n      if (isSelect) {\r\n        setSelectedDevices(rows);\r\n      }\r\n      if (!isSelect) {\r\n        setSelectedDevices([]);\r\n      }\r\n    },\r\n  };\r\n  React.useEffect(() => {\r\n    axios({\r\n      //Axios GET request\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/lights/building/\" + props.clickedBuilding,\r\n    }).then((res) => {\r\n      setDevices(res.data);\r\n    });\r\n  }, [props.clickedBuilding]);\r\n\r\n  return (\r\n    <div style={{ paddingTop: \"20px\" }}>\r\n      <BootstrapTable\r\n        noDataIndication={\"no results found\"}\r\n        bordered={true}\r\n        hover\r\n        keyField=\"lights_id\"\r\n        data={devices}\r\n        columns={deviceColumns}\r\n        selectRow={selectRow}\r\n      />\r\n      <Button onClick={() => props.initiate(selectedDevices)}>START</Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\n\r\nexport default function TestContainer(props) {\r\n  const [selectedDevices, setSelectedDevices] = React.useState();\r\n\r\n  const testColumns = [\r\n    {\r\n      dataField: \"id\",\r\n      text: \"Record ID\",\r\n      sort: true,\r\n      hidden: true,\r\n    },\r\n    {\r\n      dataField: \"device_id\",\r\n      text: \"Device ID\",\r\n      sort: true,\r\n      editable: false,\r\n    },\r\n    {\r\n      dataField: \"type\",\r\n      text: \"Type\",\r\n      sort: true,\r\n      editable: false,\r\n    },\r\n    {\r\n      dataField: \"group_name\",\r\n      text: \"Location\",\r\n      sort: true,\r\n      editable: false,\r\n      formatter: (cellContent, row, rowIndex) => {\r\n        return <span>{`${row.building} - ${row.level} level`}</span>;\r\n      },\r\n    },\r\n    {\r\n      dataField: \"level\",\r\n      text: \"\",\r\n      sort: true,\r\n      hidden: true,\r\n    },\r\n    {\r\n      dataField: \"building\",\r\n      text: \"\",\r\n      sort: true,\r\n      hidden: true,\r\n    },\r\n    {\r\n      dataField: \"node_id\",\r\n      text: \"BMesh Address\",\r\n      sort: true,\r\n      editable: false,\r\n      headerStyle: (colum, colIndex) => {\r\n        return { width: \"100px\" };\r\n      },\r\n    },\r\n    {\r\n      dataField: \"powercut\",\r\n      text: \"powercut\",\r\n      sort: true,\r\n      hidden: true,\r\n    },\r\n    {\r\n      dataField: \"duration\",\r\n      text: \"Time left\",\r\n      sort: true,\r\n      hidden: true,\r\n    },\r\n    {\r\n      dataField: \"\",\r\n      text: \"Progress\",\r\n      editable: false,\r\n      align: \"center\",\r\n      headerStyle: (colum, colIndex) => {\r\n        return { width: \"160px\", textAlign: \"center\" };\r\n      },\r\n      //   formatter: (cellContent, row, rowIndex) => {\r\n      //     if (row.powercut === 0) return <span>Awaiting Start</span>;\r\n      //     if (row.duration > 0 && row.powercut === 1) {\r\n      //       var duration = moment.duration(row.duration);\r\n      //       var percentage = ((row.duration / row.durationStart) * 100).toFixed(\r\n      //         0\r\n      //       );\r\n      //       var progress = 100 - percentage;\r\n\r\n      //       return (\r\n      //         <CircularProgressWithLabel value={progress} duration={duration} />\r\n      //       );\r\n      //     }\r\n      //     if (row.duration === 0 && row.powercut === 1) {\r\n      //       return <div>Awaiting review</div>;\r\n      //     }\r\n      //     if (row.powercut === 2) {\r\n      //       return <span style={{ textAlign: \"center\" }}>Power back on</span>;\r\n      //     }\r\n      //     if (row.powercut === 3) {\r\n      //       return <span>Bluetooth module not responding</span>;\r\n      //     }\r\n      //   },\r\n    },\r\n    {\r\n      dataField: \"userInput\",\r\n      text: \"Device state\",\r\n      editable: true,\r\n      align: \"center\",\r\n      editor: {\r\n        options: [\r\n          {\r\n            value: \"\",\r\n            label: \"\",\r\n          },\r\n          {\r\n            value: \"OK\",\r\n            label: \"OK\",\r\n          },\r\n          {\r\n            value: \"Lamp Fault\",\r\n            label: \"Lamp Fault\",\r\n          },\r\n          {\r\n            value: \"Battery Fault\",\r\n            label: \"Battery Fault\",\r\n          },\r\n          {\r\n            value: \"No connection to Mesh\",\r\n            label: \"No connection to Mesh\",\r\n          },\r\n        ],\r\n      },\r\n      headerStyle: (colum, colIndex) => {\r\n        return { width: \"250px\", textAlign: \"center\" };\r\n      },\r\n      formatter: (cellContent, row) => {\r\n        if (cellContent === \"\") {\r\n          return <Button color=\"primary\">review</Button>;\r\n        } else return cellContent;\r\n      },\r\n    },\r\n    {\r\n      dataField: \"clicked\",\r\n      text: \"\",\r\n      hidden: true,\r\n    },\r\n    {\r\n      dataField: \"actions\",\r\n      text: \"\",\r\n      align: \"center\",\r\n      editable: false,\r\n      //   formatter: (cellContent, row) => {\r\n      //     var disabled = false;\r\n      //     if (row.powercut > 0 || row.clicked > 0) disabled = true;\r\n      //     if (this.state.clickedStartAll) disabled = true;\r\n      //     return (\r\n      //       <Button\r\n      //         color=\"primary\"\r\n      //         disabled={disabled}\r\n      //         onClick={() => {\r\n      //           this.cutPowerSingle(row.id);\r\n      //         }}\r\n      //       >\r\n      //         Start em test\r\n      //       </Button>\r\n      //     );\r\n      //   },\r\n    },\r\n  ];\r\n\r\n  const selectRow = {\r\n    mode: \"checkbox\",\r\n    clickToSelect: true,\r\n    onSelect: (row, isSelect, rowIndex, e) => {\r\n      if (isSelect) {\r\n        setSelectedDevices([...selectedDevices, row]);\r\n      }\r\n      if (!isSelect) {\r\n        setSelectedDevices(\r\n          selectedDevices.filter((el) => el.lights_id !== row.lights_id)\r\n        );\r\n      }\r\n    },\r\n    onSelectAll: (isSelect, rows, e) => {\r\n      if (isSelect) {\r\n        setSelectedDevices(rows);\r\n      }\r\n      if (!isSelect) {\r\n        setSelectedDevices([]);\r\n      }\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div style={{ paddingTop: \"20px\" }}>\r\n      <BootstrapTable\r\n        // noDataIndication={() => <NoDataIndication />}\r\n        bordered={true}\r\n        hover\r\n        keyField=\"id\"\r\n        data={props.devices}\r\n        columns={testColumns}\r\n        // rowStyle={rowStyle}\r\n        selectRow={selectRow}\r\n        // cellEdit={cellEditFactory({\r\n        //   mode: \"click\",\r\n        //   afterSaveCell: afterSaveCell,\r\n        //   blurToSave: true,\r\n        // })}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport { Tabs, Tab, Fab, Icon, Typography } from \"@material-ui/core\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport Overwatch from \"components/LiveEmStatus/Overwatch\";\r\nimport Devices from \"components/SiteSetup/Devices\";\r\nimport MaterialTable from \"material-table\";\r\nimport Buildings from \"components/SiteSetup/Buildings\";\r\nimport Levels from \"components/SiteSetup/Levels\";\r\n\r\nfunction NoDataIndication() {\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h3\">\r\n        <Skeleton />\r\n        <Skeleton />\r\n        <Skeleton />\r\n      </Typography>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function LiveEmStatus() {\r\n  const [sites, setSites] = React.useState([]);\r\n  const [buildings, setBuildings] = React.useState([]);\r\n  const [levels, setLevels] = React.useState([]);\r\n  const [devices, setDevices] = React.useState([]);\r\n\r\n  const [clickedSite, setClickedSite] = React.useState(null);\r\n  //eslint-disable-next-line\r\n  const [siteName, setSiteName] = React.useState(\"\");\r\n  const [stage, setStage] = React.useState(1);\r\n  const [backDisabled, setBackDisabled] = React.useState(true);\r\n  const [tabsDisabled, setTabsDisabled] = React.useState(true);\r\n  const [clickedLevel, setClickedLevel] = React.useState(null);\r\n  const [clickedBuilding, setClickedBuilding] = React.useState(null);\r\n  const [clickedGroup, setClickedGroup] = React.useState(null);\r\n\r\n  //material table columns\r\n  const columns = [\r\n    {\r\n      field: \"buildings_id\",\r\n      title: \"ID\",\r\n      hidden: true,\r\n    },\r\n    {\r\n      field: \"building\",\r\n      title: \"Building\",\r\n    },\r\n    {\r\n      field: \"address\",\r\n      title: \"Address\",\r\n    },\r\n    {\r\n      field: \"devices\",\r\n      title: \"Luminaires count\",\r\n      editable: \"never\",\r\n    },\r\n  ];\r\n\r\n  const setClickedLgtGroup = (id) => {\r\n    setClickedGroup(id);\r\n  };\r\n\r\n  const handleChangeSite = (event, site) => {\r\n    if (sites.find((x) => x.sites_id === site) && clickedSite !== site) {\r\n      setTabsDisabled(true);\r\n      setStage(1);\r\n      setBuildings([]);\r\n      setLevels([]);\r\n      setDevices([]);\r\n      callBuildings(site).then((res) => {\r\n        setClickedSite(site);\r\n        setTimeout(() => {\r\n          setBuildings(res.data);\r\n          setTabsDisabled(false);\r\n        }, 500);\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleClickBuilding = (event, rowData) => {\r\n    const index = buildings.indexOf(rowData);\r\n    const row = buildings[index];\r\n\r\n    setStage(2);\r\n    setLevels([]);\r\n    setClickedBuilding(row.buildings_id);\r\n    callLevels(row.buildings_id).then((res) => {\r\n      console.log(res);\r\n      setLevels(res.data);\r\n      setBackDisabled(false);\r\n    });\r\n  };\r\n\r\n  const handleClickLevel = (event, rowData) => {\r\n    const index = levels.indexOf(rowData);\r\n    const row = levels[index];\r\n    setStage(3);\r\n    setDevices([]);\r\n    setClickedLevel(row.id);\r\n    callDevices(row.id).then((res) => {\r\n      console.log(res);\r\n      setDevices(res.data);\r\n      setBackDisabled(false);\r\n    });\r\n  };\r\n\r\n  const callSites = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const usersId = decoded.id;\r\n\r\n    axios\r\n      .get(global.BASE_URL + \"/api/sites/\" + usersId, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.length) {\r\n          const sites_id = response.data[0].sites_id;\r\n          setSites(response.data);\r\n          setClickedSite(sites_id);\r\n          setSiteName(response.data[0].name);\r\n          callBuildings(sites_id).then((res) => {\r\n            console.log(res);\r\n            setBuildings(res.data);\r\n            callLevels(sites_id).then((res) => setLevels(res.data));\r\n          });\r\n          setTabsDisabled(false);\r\n        }\r\n      });\r\n  };\r\n  const callBuildings = async (siteID) => {\r\n    const data = await axios.get(\r\n      global.BASE_URL + \"/api/buildings/joinlevels/\" + siteID,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      }\r\n    );\r\n\r\n    return data;\r\n  };\r\n\r\n  const callLevels = async (buildingID) => {\r\n    const data = await axios.get(\r\n      global.BASE_URL + \"/api/levels/building/\" + buildingID,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      }\r\n    );\r\n\r\n    return data;\r\n  };\r\n\r\n  const callDevices = async (levelID) => {\r\n    const data = await axios.get(\r\n      global.BASE_URL + \"/api/lights/level/\" + levelID,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      }\r\n    );\r\n\r\n    return data;\r\n  };\r\n\r\n  useEffect(() => {\r\n    callSites();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const handleClickRow = (row) => {\r\n    setStage(2);\r\n    setClickedLevel(row.id);\r\n    callDevices(row.id).then((res) => {\r\n      setDevices(res.data);\r\n    });\r\n  };\r\n\r\n  const rowEvents = {\r\n    onClick: (e, row, rowIndex) => {\r\n      console.log(row);\r\n      setClickedBuilding(row.buildings_id);\r\n      handleClickRow(row);\r\n      if (stage >= 1) setBackDisabled(false);\r\n    },\r\n  };\r\n\r\n  const expandRow = {\r\n    renderer: (row) => {\r\n      let data = [];\r\n      const levelColumns = [\r\n        {\r\n          dataField: \"id\",\r\n          text: \"ID\",\r\n          hidden: true,\r\n          sort: true,\r\n        },\r\n        {\r\n          dataField: \"level\",\r\n          text: \"Level\",\r\n          sort: true,\r\n        },\r\n        {\r\n          dataField: \"devices\",\r\n          text: \"Luminaires\",\r\n          sort: true,\r\n          editable: false,\r\n        },\r\n        {\r\n          dataField: \"lights_count\",\r\n          text: \"Luminaires count\",\r\n          sort: true,\r\n          editable: false,\r\n        },\r\n      ];\r\n      levels.forEach((el) => {\r\n        if (row.buildings_id === el.buildings_id) data.push(el);\r\n      });\r\n\r\n      return (\r\n        <div>\r\n          <BootstrapTable\r\n            keyField=\"id\"\r\n            data={data}\r\n            rowEvents={rowEvents}\r\n            columns={levelColumns}\r\n            rowStyle={{ cursor: \"pointer\" }}\r\n          />\r\n        </div>\r\n      );\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {clickedSite ? (\r\n        <GridItem xs={12} style={{ margin: \"5px\" }}>\r\n          <Tabs\r\n            value={clickedSite}\r\n            onChange={handleChangeSite}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            style={{\r\n              border: \"1pt solid lightgrey\",\r\n              borderRadius: \"2pt\",\r\n            }}\r\n            centered\r\n          >\r\n            {sites.map((a, index) => (\r\n              <Tab\r\n                key={index}\r\n                disabled={tabsDisabled}\r\n                value={a.sites_id}\r\n                label={a.name}\r\n              />\r\n            ))}\r\n          </Tabs>\r\n        </GridItem>\r\n      ) : null}\r\n      <GridItem\r\n        xs={12}\r\n        style={{ marginTop: \"20px\", marginBottom: \"20px\", marginLeft: \"5px\" }}\r\n      >\r\n        <Fab\r\n          disabled={backDisabled}\r\n          color=\"primary\"\r\n          variant=\"round\"\r\n          onClick={() => {\r\n            if (stage > 1) {\r\n              setStage(stage - 1);\r\n              if (stage > 1) setBackDisabled(true);\r\n              else setBackDisabled(false);\r\n            } else setBackDisabled(true);\r\n          }}\r\n        >\r\n          <Icon style={{ transform: \"rotate(-90deg)\" }}>navigation</Icon>\r\n        </Fab>\r\n      </GridItem>\r\n      {/* {stage === 1 ? (\r\n        <ToolkitProvider\r\n          keyField=\"buildings_id\"\r\n          data={buildings}\r\n          columns={columns}\r\n          search\r\n        >\r\n          {(props) => (\r\n            <div style={{ margin: \"20px\" }}>\r\n              <SearchBar\r\n                {...props.searchProps}\r\n                style={{ width: \"300px\", float: \"right\" }}\r\n              />\r\n              <hr />\r\n              <BootstrapTable\r\n                {...props.baseProps}\r\n                expandRow={expandRow}\r\n                noDataIndication={() => <NoDataIndication />}\r\n                hover\r\n                rowStyle={{ cursor: \"pointer\" }}\r\n              />\r\n            </div>\r\n          )}\r\n        </ToolkitProvider>\r\n      ) : null} */}\r\n      {stage === 1 ? (\r\n        <Buildings\r\n          buildings={buildings}\r\n          handleClickBuilding={handleClickBuilding}\r\n          clickedBuilding={clickedBuilding}\r\n          handleEditBuilding={() => {}}\r\n          clickedSite={clickedSite}\r\n          editable={false}\r\n        />\r\n      ) : null}\r\n      {stage === 2 ? (\r\n        <Levels\r\n          levels={levels}\r\n          callLevels={callLevels}\r\n          handleClickLevel={handleClickLevel}\r\n          clickedLevel={clickedLevel}\r\n          handleEditLevel={() => {}}\r\n          clickedBuilding={clickedBuilding}\r\n          editable={false}\r\n        />\r\n      ) : null}\r\n      {stage === 3 && clickedLevel ? (\r\n        <div>\r\n          <div style={{ margin: \"15px\" }}>\r\n            <Overwatch\r\n              clickedBuilding={clickedBuilding}\r\n              clickedLevel={clickedLevel}\r\n              clickedGroup={clickedGroup}\r\n              setClickedGroup={setClickedLgtGroup}\r\n            />\r\n          </div>\r\n          <Devices level={clickedLevel} devices={devices} editable={false} />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport LiveLights from \"components/Test/LiveLights\";\r\nimport LiveSensors from \"components/Test/LiveSensors\";\r\nimport axios from \"axios\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nexport default function Overwatch(props) {\r\n  const [lights, setLights] = React.useState([]);\r\n  const [response, setResponse] = React.useState(false);\r\n  const [mode, setMode] = React.useState(\"EM\");\r\n  const [sensors, setSensors] = React.useState([]);\r\n\r\n  const callLightsFloorplans = () => {\r\n    axios\r\n      .get(global.BASE_URL + \"/api/lights/level/\" + props.clickedLevel, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.length > 0) {\r\n          setLights(response.data);\r\n          props.setClickedGroup(response.data[0].lgt_groups_id);\r\n          setResponse(true);\r\n        } else {\r\n          setLights([]);\r\n          setResponse(true);\r\n        }\r\n      });\r\n  };\r\n\r\n  const callSensorsFloorplans = () => {\r\n    axios\r\n      .get(global.BASE_URL + \"/api/sensors/level/\" + props.clickedLevel, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n        if (response.data.length > 0) {\r\n          setSensors(response.data);\r\n          setResponse(true);\r\n        } else {\r\n          setSensors([]);\r\n          setResponse(true);\r\n        }\r\n      });\r\n  };\r\n\r\n  const assignLight = (light) => {\r\n    console.log(light);\r\n    setLights((prevLights) => [...prevLights, light]);\r\n    axios\r\n      //route to lights of group id = this.state.rowId\r\n      .post(\r\n        global.BASE_URL + \"/api/lights/edit/\" + light.id,\r\n        { levels_id: props.clickedLevel },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        console.log(response);\r\n      });\r\n  };\r\n\r\n  const assignSensor = (sensor) => {\r\n    console.log(sensor);\r\n    setSensors((prevSensors) => [...prevSensors, sensor]);\r\n    axios\r\n      //route to lights of group id = this.state.rowId\r\n      .post(\r\n        global.BASE_URL + \"/api/sensors/assign/\" + sensor.id,\r\n        { levels_id: props.clickedLevel },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        console.log(response);\r\n      });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    callLightsFloorplans();\r\n    callSensorsFloorplans();\r\n    //eslint-disable-next-line\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <Button\r\n        color=\"primary\"\r\n        variant=\"outlined\"\r\n        style={{ display: \"inline-block\", margin: \"5px\" }}\r\n        onClick={() => setMode(\"EM\")}\r\n      >\r\n        Em fittings\r\n      </Button>\r\n      <Button\r\n        color=\"primary\"\r\n        variant=\"outlined\"\r\n        style={{ display: \"inline-block\", margin: \"5px\" }}\r\n        onClick={() => setMode(\"SE\")}\r\n      >\r\n        Sensors\r\n      </Button>\r\n      {response ? (\r\n        mode === \"EM\" ? (\r\n          <LiveLights\r\n            clickedBuilding={props.clickedBuilding}\r\n            clickedLevel={props.clickedLevel}\r\n            liveDevices={lights}\r\n            clickedGroup={props.clickedGroup}\r\n            assignLight={assignLight}\r\n            refreshData={callLightsFloorplans}\r\n          />\r\n        ) : (\r\n          <LiveSensors\r\n            clickedBuilding={props.clickedBuilding}\r\n            clickedLevel={props.clickedLevel}\r\n            liveDevices={sensors}\r\n            clickedGroup={props.clickedGroup}\r\n            assignSensor={assignSensor}\r\n            refreshData={callSensorsFloorplans}\r\n          />\r\n        )\r\n      ) : (\r\n        <div>\r\n          <Skeleton variant=\"text\" height=\"100px\" />\r\n          <span />\r\n          <Skeleton variant=\"rect\" width=\"100%\" height=\"80vh\" />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MaterialTable from \"material-table\";\r\n\r\nexport default function UnassignedDevices(props) {\r\n  const [devices, setDevices] = React.useState([]);\r\n\r\n  const token = localStorage.usertoken;\r\n  const decoded = jwt_decode(token);\r\n  const user = decoded.id;\r\n\r\n  const callDevices = async () => {\r\n    const data = await axios.get(\r\n      global.BASE_URL + \"/api/lights/unassigned/\" + user,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      }\r\n    );\r\n    return data;\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    callDevices().then((res) => {\r\n      console.log(res.data);\r\n      setDevices(res.data);\r\n    });\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      field: \"id\",\r\n      title: \"ID\",\r\n      hidden: true,\r\n    },\r\n    {\r\n      field: \"device_id\",\r\n      title: \"Device\",\r\n    },\r\n    {\r\n      field: \"type\",\r\n      title: \"Fitting type\",\r\n      lookup: {\r\n        \"EX-58\": \"EX-58\",\r\n        \"F-51E\": \"F-51E\",\r\n        \"SA-25E\": \"SA-25E\",\r\n        \"S-25AE\": \"S-25AE\",\r\n        \"E-51\": \"E-51\",\r\n        \"EX-51E\": \"EX-51E\",\r\n      },\r\n    },\r\n    {\r\n      field: \"node_id\",\r\n      title: \"Mesh Address\",\r\n    },\r\n    {\r\n      field: \"is_assigned\",\r\n      title: \"Battery\",\r\n      editable: \"never\",\r\n    },\r\n    {\r\n      field: \"building\",\r\n      title: \"Luminance\",\r\n      editable: \"never\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <MaterialTable\r\n      columns={columns}\r\n      onRowClick={(event, rowData) => {\r\n        const row = devices[devices.indexOf(rowData)];\r\n        console.log(row);\r\n        props.assignLight(row);\r\n        setDevices(devices.filter((el) => el.id !== row.id));\r\n      }}\r\n      data={devices}\r\n      title=\"Unassigned devices\"\r\n    />\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport Draggable from \"react-draggable\";\r\nimport axios from \"axios\";\r\nimport UnassignedSensors from \"components/LiveEmStatus/UnassignedSensors\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport {\r\n  IconButton,\r\n  TextField,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  Button,\r\n  Icon,\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n    width: \"100%\",\r\n  },\r\n  \"@keyframes blinker\": {\r\n    \"0%\": { opacity: \"0.2\" },\r\n    \"20%\": { opacity: \"0.5\" },\r\n    \"50%\": { opacity: \"1\" },\r\n    \"80%\": { opacity: \"0.5\" },\r\n    \"100%\": { opacity: \"0.2\" },\r\n  },\r\n  blink: {\r\n    color: \"#3F51B5\",\r\n    animationName: \"$blinker\",\r\n    animationDuration: \"1.5s\",\r\n    animationTimingFunction: \"linear\",\r\n    animationIterationCount: \"infinite\",\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: \"40vw\",\r\n  },\r\n  card: {\r\n    float: \"left\",\r\n    width: \"100%\",\r\n    maxHeight: \"60px\",\r\n    margin: \"auto\",\r\n    transition: \"0.5s\",\r\n    padding: \"5px\",\r\n    borderTopLeftRadius: \"10px\",\r\n    borderTopRightRadius: \"10px\",\r\n    backgroundColor: \"rgba(161,161,161,0.2)\",\r\n    color: \"#464646\",\r\n  },\r\n  heading: {\r\n    float: \"left\",\r\n    paddingLeft: \"5px\",\r\n    paddingTop: \"4px\",\r\n    textAlign: \"center\",\r\n    margin: \"auto\",\r\n    backgroundColor: \"#3452B4\",\r\n    borderRadius: \"100px\",\r\n    width: \"50px\",\r\n    height: \"50px\",\r\n    color: \"white\",\r\n    marginRight: \"5px\",\r\n  },\r\n  changeButton: {\r\n    display: \"inline-block\",\r\n    margin: \"5px\",\r\n  },\r\n}));\r\n\r\nexport default function LiveFloorPlan(props) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [openedPopoverId, setOpenedPopoverId] = React.useState(null);\r\n  const [openedContextMenu, setOpenedContextMenu] = React.useState(false);\r\n  const [floorplanURL, setFloorplanURL] = React.useState(\"\");\r\n  const [floorplanNotFound, setFloorplanNotFound] = React.useState(\"\");\r\n  const [comment, setComment] = React.useState(\"\");\r\n  const [devices, setDevices] = React.useState(\"\");\r\n  const [activeDrags, setActiveDrags] = React.useState(0);\r\n  const [success, setSuccess] = React.useState(false);\r\n  const [selectedFile, setSelectedFile] = React.useState();\r\n\r\n  const openContextMenu = (event, deviceId) => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    if (decoded.access >= 99) {\r\n      setOpenedContextMenu(deviceId);\r\n      console.log(deviceId);\r\n    }\r\n  };\r\n\r\n  const handleCloseContextMenu = () => {\r\n    setOpenedContextMenu(null);\r\n  };\r\n\r\n  const handleHover = (event, deviceId) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setOpenedPopoverId(deviceId);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n    setOpenedPopoverId(null);\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n\r\n  const checkConnectivity = (deviceId) => {\r\n    console.log(\r\n      liveDevices_.find((el) => {\r\n        return el.id === deviceId;\r\n      })\r\n    );\r\n    const device = liveDevices_.find((el) => {\r\n      return el.id === deviceId;\r\n    });\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/dev/checkconnectivity\",\r\n      data: {\r\n        topic: \"LIVESPCOM\",\r\n        device: device,\r\n      },\r\n      timeout: 0,\r\n    }).then((res) => {\r\n      props.refreshData();\r\n      console.log(res);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const { devices } = props;\r\n    setDevices(devices);\r\n    axios\r\n      .get(global.BASE_URL + \"/api/levels/floorplan/\" + props.clickedLevel, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        responseType: \"blob\",\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setFloorplanNotFound(\"No floorplan assigned.\");\r\n      })\r\n      .then((response) => {\r\n        if (response) setFloorplanURL(URL.createObjectURL(response.data));\r\n      });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props.devices]);\r\n\r\n  const handleSavePositions = () => {\r\n    axios({\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/sensors/edit-position\",\r\n      data: { devices: devices },\r\n    }).then((res) => {\r\n      console.log(res);\r\n      if (res.status === 200) {\r\n        setSuccess(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleDrag = (e, ui, index, id) => {\r\n    let { liveDevices } = props;\r\n    console.log(liveDevices);\r\n    liveDevices[index].fp_coordinates_bot =\r\n      liveDevices[index].fp_coordinates_bot + ui.deltaY;\r\n    liveDevices[index].fp_coordinates_left =\r\n      liveDevices[index].fp_coordinates_left + ui.deltaX;\r\n    setDevices(liveDevices);\r\n  };\r\n\r\n  const onStart = () => {\r\n    setActiveDrags(activeDrags + 1);\r\n  };\r\n\r\n  const onStop = () => {\r\n    setActiveDrags(activeDrags - 1);\r\n  };\r\n\r\n  const uploadFP = (event) => {\r\n    const selectedFile = event.target.files[0];\r\n    var idxDot = selectedFile.name.lastIndexOf(\".\") + 1;\r\n    var extFile = selectedFile.name\r\n      .substr(idxDot, selectedFile.name.length)\r\n      .toLowerCase();\r\n    // eslint-disable-next-line\r\n    if (extFile == \"jpg\" || extFile == \"jpeg\") {\r\n      //do whatever want to do\r\n\r\n      setSelectedFile(event.target.files[0]);\r\n\r\n      const data = new FormData();\r\n      data.append(\"level\", props.clickedLevel);\r\n      data.append(\"file\", event.target.files[0]);\r\n\r\n      axios\r\n        .post(global.BASE_URL + \"/api/levels/testUpload\", data, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          responseType: \"blob\",\r\n        })\r\n        .then((response) => {\r\n          console.log(URL.createObjectURL(response.data));\r\n          setFloorplanURL(URL.createObjectURL(response.data));\r\n        });\r\n    } else {\r\n      alert(\"Only jpg/jpeg files are allowed\");\r\n    }\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n  const dragHandlers = { onStart: onStart, onStop: onStop };\r\n\r\n  const liveDevices_ = props.liveDevices;\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.card}>\r\n        <Typography variant=\"h4\" style={{ marginTop: \"5px\" }}>\r\n          Sensors: {liveDevices_.length > 1 ? liveDevices_.length : 0}\r\n          <p style={{ float: \"right\" }}></p>\r\n        </Typography>\r\n      </div>\r\n      <div\r\n        style={{\r\n          overflowX: \"scroll\",\r\n          width: \"100%\",\r\n          height: \"90vh\",\r\n          border: \"1pt solid black\",\r\n        }}\r\n      >\r\n        <div\r\n          // src={this.state.objectURL}\r\n          style={{\r\n            height: \"700px\",\r\n            width: \"1000px\",\r\n            backgroundRepeat: \"no-repeat\",\r\n            backgroundSize: \"contain\",\r\n            backgroundImage: `url(${floorplanURL})`,\r\n          }}\r\n          alt=\"Third Level\"\r\n        >\r\n          <div style={{ width: \"100%\", height: \"100%\", position: \"relative\" }}>\r\n            {liveDevices_.length > 0 ? (\r\n              !floorplanNotFound ? (\r\n                <div></div>\r\n              ) : (\r\n                <div>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Upload (only .jpg file extension)\r\n                  </Typography>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\".jpg\"\r\n                    onChange={uploadFP}\r\n                    name=\"upload\"\r\n                  />\r\n                </div>\r\n              )\r\n            ) : (\r\n              <Typography variant=\"h4\" gutterBottom>\r\n                No devices{\" \"}\r\n              </Typography>\r\n            )}\r\n            {liveDevices_.length > 0 && !floorplanNotFound\r\n              ? liveDevices_.map((el, index) => {\r\n                  return (\r\n                    <Draggable\r\n                      key={el.id}\r\n                      position={{\r\n                        x: el.fp_coordinates_left,\r\n                        y: el.fp_coordinates_bot,\r\n                      }}\r\n                      onDrag={(e, ui) => handleDrag(e, ui, index, el.id)}\r\n                      {...dragHandlers}\r\n                      onStart={onStart}\r\n                      onStop={onStop}\r\n                      grid={[5, 5]}\r\n                      bounds={\"parent\"}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          width: \"0px\",\r\n                          height: \"0px\",\r\n                          position: \"relative\",\r\n                        }}\r\n                      >\r\n                        <Icon\r\n                          color=\"primary\"\r\n                          style={{\r\n                            fontSize: \"4em\",\r\n                            position: \"absolute\",\r\n                            cursor: \"move\",\r\n                          }}\r\n                          onClick={(e) => openContextMenu(e, el.id)}\r\n                          onMouseEnter={(e) => handleHover(e, el.id)}\r\n                          onMouseLeave={handleClose}\r\n                          onTouchStart={(e) => handleHover(e, el.id)}\r\n                          onTouchEnd={handleClose}\r\n                        >\r\n                          location_on\r\n                        </Icon>\r\n                        {/* )} */}\r\n\r\n                        <Dialog\r\n                          open={openedContextMenu === el.id}\r\n                          onClose={handleCloseContextMenu}\r\n                          aria-labelledby=\"form-dialog-title\"\r\n                        >\r\n                          <DialogTitle id=\"form-dialog-title\">\r\n                            {`${el.device_id} - ${el.type} - ${el.node_id}`}\r\n                          </DialogTitle>\r\n                          <DialogContent>\r\n                            <DialogContentText>\r\n                              Status: {el.status}\r\n                            </DialogContentText>\r\n                            <DialogContentText>\r\n                              {el.battery || el.ldr ? (\r\n                                <span>{el.battery ? el.battery : el.ldr}</span>\r\n                              ) : (\r\n                                <i>No reading</i>\r\n                              )}\r\n                            </DialogContentText>\r\n                            <TextField\r\n                              className={classes.textField}\r\n                              autoFocus\r\n                              margin=\"dense\"\r\n                              id=\"name\"\r\n                              label=\"Add comment\"\r\n                              type=\"text\"\r\n                              onChange={onChange}\r\n                            />\r\n                            <IconButton\r\n                              onClick={() => props.addComment(el.id, comment)}\r\n                              color=\"primary\"\r\n                            >\r\n                              <Icon>add_comment</Icon>\r\n                            </IconButton>\r\n                            <IconButton\r\n                              onClick={() => props.addComment(el.id, \"\")}\r\n                              color=\"secondary\"\r\n                            >\r\n                              <Icon>delete</Icon>\r\n                            </IconButton>\r\n                          </DialogContent>\r\n                          <DialogActions>\r\n                            <Button onClick={() => checkConnectivity(el.id)}>\r\n                              test connectivity\r\n                            </Button>\r\n                            <Button\r\n                              onClick={handleCloseContextMenu}\r\n                              color=\"primary\"\r\n                            >\r\n                              close\r\n                            </Button>\r\n                          </DialogActions>\r\n                        </Dialog>\r\n\r\n                        {activeDrags < 1 ? (\r\n                          <Popover\r\n                            id={id}\r\n                            open={openedPopoverId === el.id}\r\n                            anchorEl={anchorEl}\r\n                            style={{ pointerEvents: \"none\" }} //important\r\n                            anchorOrigin={{\r\n                              vertical: \"bottom\",\r\n                              horizontal: \"center\",\r\n                            }}\r\n                            transformOrigin={{\r\n                              vertical: \"top\",\r\n                              horizontal: \"center\",\r\n                            }}\r\n                          >\r\n                            <div>\r\n                              <Typography className={classes.typography}>\r\n                                {`Type: ${el.sensor_type}`}\r\n                              </Typography>\r\n                              <Typography className={classes.typography}>\r\n                                {`Mesh address: ${el.node_id}`}\r\n                              </Typography>\r\n                            </div>\r\n                            <div>\r\n                              <Typography className={classes.typography}>\r\n                                {el.battery || el.ldr ? (\r\n                                  <span>\r\n                                    Reading:{\" \"}\r\n                                    {el.battery ? `${el.battery}v` : el.ldr}\r\n                                  </span>\r\n                                ) : null}\r\n                              </Typography>\r\n                            </div>\r\n                          </Popover>\r\n                        ) : null}\r\n                      </div>\r\n                    </Draggable>\r\n                  );\r\n                })\r\n              : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Button color=\"primary\" onClick={handleSavePositions}>\r\n        save device positions\r\n      </Button>\r\n      {success ? <h5>Device positions saved.</h5> : null}\r\n\r\n      <UnassignedSensors\r\n        clickedBuilding={props.clickedBuilding}\r\n        clickedLevel={props.clickedLevel}\r\n        clickedGroup={props.clickedGroup}\r\n        assignSensor={props.assignSensor}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MaterialTable from \"material-table\";\r\n\r\nexport default function UnassignedDevices(props) {\r\n  const [devices, setDevices] = React.useState([]);\r\n\r\n  const token = localStorage.usertoken;\r\n  const decoded = jwt_decode(token);\r\n  const user = decoded.id;\r\n\r\n  const callDevices = async () => {\r\n    const data = await axios.get(\r\n      global.BASE_URL + \"/api/sensors/unassigned/\" + user,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      }\r\n    );\r\n    return data;\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    callDevices().then((res) => {\r\n      console.log(res.data);\r\n      setDevices(res.data);\r\n    });\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      field: \"id\",\r\n      title: \"ID\",\r\n      hidden: true,\r\n    },\r\n    {\r\n      field: \"device_id\",\r\n      title: \"Parent device ID\",\r\n    },\r\n    {\r\n      field: \"sensor_type\",\r\n      title: \"Sensor type\",\r\n    },\r\n    {\r\n      field: \"node_id\",\r\n      title: \"Mesh Address\",\r\n    },\r\n    {\r\n      field: \"sensor_is_assigned\",\r\n      title: \"Battery\",\r\n      editable: \"never\",\r\n    },\r\n    {\r\n      field: \"building\",\r\n      title: \"Luminance\",\r\n      editable: \"never\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <MaterialTable\r\n      columns={columns}\r\n      onRowClick={(event, rowData) => {\r\n        const row = devices[devices.indexOf(rowData)];\r\n        console.log(row);\r\n        props.assignSensor(row);\r\n        setDevices(devices.filter((el) => el.id !== row.id));\r\n      }}\r\n      data={devices}\r\n      title=\"Unassigned sensors\"\r\n    />\r\n  );\r\n}\r\n","import { Fab, Icon, Tab, Tabs, Tooltip } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport Buildings from \"components/SiteSetup/Buildings\";\r\nimport Devices from \"components/SiteSetup/Devices\";\r\nimport Levels from \"components/SiteSetup/Levels\";\r\nimport NewBuilding from \"components/SiteSetup/NewBuilding\";\r\nimport NewLevel from \"components/SiteSetup/NewLevel\";\r\nimport EditBuilding from \"components/SiteSetup/EditBuilding\";\r\nimport DeviceEditable from \"components/Data/DeviceTableEditable\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport React from \"react\";\r\nimport Sensors from \"components/SiteSetup/Sensors\";\r\n\r\nexport default class SiteSetup extends React.Component {\r\n  state = {\r\n    sites: [],\r\n    buildings: [],\r\n    levels: [],\r\n    devices: [],\r\n    sensors: [],\r\n    siteName: \"\",\r\n    stage: 1,\r\n    backDisabled: true,\r\n    tabsDisabled: true,\r\n    clickedGroup: null,\r\n    clickedLevel: null,\r\n    clickedLevelDetails: {},\r\n    clickedBuilding: null,\r\n    clickedBuildingDetails: {},\r\n    clickedSite: null,\r\n    createNewBuilding: false,\r\n    createNewLevel: false,\r\n    buildingName: \"\",\r\n    buildingAddress: \"\",\r\n    levelName: \"\",\r\n  };\r\n  //{clickedSite, tabsDisabled, backDisabled, stage, createNewBuilding, buildings}\r\n\r\n  handleChangeSite = (event, site) => {\r\n    if (\r\n      this.state.sites.find((x) => x.sites_id === site) &&\r\n      this.state.clickedSite !== site\r\n    ) {\r\n      this.setState({\r\n        tabsDisabled: true,\r\n        stage: 1,\r\n        buildings: [],\r\n        levels: [],\r\n        devices: [],\r\n      });\r\n      this.callBuildings(site).then((res) => {\r\n        this.setState({ clickedSite: site });\r\n        setTimeout(() => {\r\n          this.setState({\r\n            buildings: res.data,\r\n            tabsDisabled: false,\r\n          });\r\n        }, 500);\r\n      });\r\n    }\r\n  };\r\n\r\n  saveNewBuilding = () => {\r\n    axios({\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/buildings/new-empty\",\r\n      data: {\r\n        building_name: this.state.buildingName,\r\n        sites_id: this.state.clickedSite,\r\n        address: this.state.buildingAddress,\r\n      },\r\n    }).then((res) => {\r\n      this.refresh().then(() => this.setState({ createNewBuilding: false }));\r\n      console.log(res);\r\n    });\r\n  };\r\n\r\n  saveNewLevel = () => {\r\n    axios({\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/levels\",\r\n      data: {\r\n        buildings_id: this.state.clickedBuilding,\r\n        level: this.state.levelName,\r\n      },\r\n    }).then((res) => {\r\n      this.refresh().then(() =>\r\n        this.setState({\r\n          createNewLevel: false,\r\n          clickedBuilding: this.state.clickedBuilding,\r\n        })\r\n      );\r\n      console.log(res);\r\n    });\r\n  };\r\n\r\n  handleNewBuilding = () => {\r\n    this.setState({ createNewBuilding: !this.state.createNewBuilding });\r\n  };\r\n\r\n  handleNewLevel = () => {\r\n    this.setState({ createNewLevel: !this.state.createNewLevel });\r\n  };\r\n\r\n  setBuildingName = (e) => {\r\n    this.setState({ buildingName: e.target.value });\r\n  };\r\n\r\n  setBuildingAddress = (e) => {\r\n    this.setState({ buildingAddress: e.target.value });\r\n  };\r\n\r\n  setLevelName = (e) => {\r\n    this.setState({ levelName: e.target.value });\r\n  };\r\n\r\n  /* API CALLS */\r\n  callSites = async () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const usersId = decoded.id;\r\n\r\n    const data = await axios.get(global.BASE_URL + \"/api/sites/\" + usersId, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n    });\r\n    return data;\r\n  };\r\n\r\n  callBuildings = async (siteID) => {\r\n    const data = await axios.get(\r\n      global.BASE_URL + \"/api/buildings/joinlevels/\" + siteID,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      }\r\n    );\r\n\r\n    return data;\r\n  };\r\n\r\n  callLevels = async (buildingID) => {\r\n    const data = await axios.get(\r\n      global.BASE_URL + \"/api/levels/building/\" + buildingID,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      }\r\n    );\r\n\r\n    return data;\r\n  };\r\n\r\n  callDevices = async (levelID) => {\r\n    const data = await axios.get(\r\n      global.BASE_URL + \"/api/lights/level/\" + levelID,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      }\r\n    );\r\n\r\n    return data;\r\n  };\r\n\r\n  callSensors = async (levelID) => {\r\n    const data = await axios.get(\r\n      global.BASE_URL + \"/api/sensors/level/\" + levelID,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      }\r\n    );\r\n\r\n    return data;\r\n  };\r\n\r\n  /* HANDLERS */\r\n  handleClickBuilding = (event, rowData) => {\r\n    const index = this.state.buildings.indexOf(rowData);\r\n    const row = this.state.buildings[index];\r\n\r\n    this.setState({\r\n      stage: 2,\r\n      clickedBuilding: row.buildings_id,\r\n      clickedBuildingDetails: row,\r\n    });\r\n    this.callLevels(row.buildings_id).then((res) => {\r\n      console.log(res);\r\n      this.setState({ levels: res.data, backDisabled: false });\r\n    });\r\n  };\r\n\r\n  handleClickLevel = (event, rowData) => {\r\n    const index = this.state.levels.indexOf(rowData);\r\n    const row = this.state.levels[index];\r\n\r\n    this.callDevices(row.id).then((res) => {\r\n      console.log(res);\r\n      this.setState({ devices: res.data, backDisabled: false });\r\n    });\r\n    this.callSensors(row.id).then((res) => {\r\n      console.log(res);\r\n      this.setState({ sensors: res.data });\r\n      this.setState({\r\n        stage: 3,\r\n        clickedLevel: row.id,\r\n        clickedLevelDetails: row,\r\n      });\r\n    });\r\n  };\r\n\r\n  handleEditBuilding = (newData, oldData, action) => {\r\n    console.log(newData, action);\r\n    switch (action) {\r\n      case \"add\":\r\n        this.setState({ buildings: [...this.state.buildings, newData] });\r\n        break;\r\n\r\n      case \"update\":\r\n        const dataUpdate = [...this.state.buildings];\r\n        const index = oldData.tableData.id;\r\n        dataUpdate[index] = newData;\r\n        this.setState({ buildings: [...dataUpdate] });\r\n        break;\r\n\r\n      case \"delete\":\r\n        const dataDelete = [...this.state.buildings];\r\n        const indexDel = oldData.tableData.id;\r\n        dataDelete.splice(indexDel, 1);\r\n        this.setState({ buildings: [...dataDelete] });\r\n        break;\r\n    }\r\n    this.refresh();\r\n  };\r\n\r\n  handleEditLevel = (newData, oldData, action) => {\r\n    switch (action) {\r\n      case \"add\":\r\n        newData.buildings_id = this.state.clickedBuilding;\r\n        this.setState({ levels: [...this.state.levels, newData] });\r\n        break;\r\n\r\n      case \"update\":\r\n        const dataUpdate = [...this.state.levels];\r\n        const index = oldData.tableData.id;\r\n        dataUpdate[index] = newData;\r\n        this.setState({ levels: [...dataUpdate] });\r\n        break;\r\n\r\n      case \"delete\":\r\n        const dataDelete = [...this.state.levels];\r\n        const indexDel = oldData.tableData.id;\r\n        dataDelete.splice(indexDel, 1);\r\n        this.setState({ levels: [...dataDelete] });\r\n        break;\r\n    }\r\n    this.refresh();\r\n  };\r\n\r\n  handleEditDevice = (newData, oldData, action) => {\r\n    switch (action) {\r\n      case \"add\":\r\n        newData.levels_id = this.state.clickedLevel;\r\n        this.setState({ devices: [...this.state.devices, newData] });\r\n        break;\r\n\r\n      case \"update\":\r\n        const dataUpdate = [...this.state.devices];\r\n        const index = oldData.tableData.id;\r\n        dataUpdate[index] = newData;\r\n        this.setState({ devices: [...dataUpdate] });\r\n        break;\r\n\r\n      case \"delete\":\r\n        const dataDelete = [...this.state.devices];\r\n        const indexDel = oldData.tableData.id;\r\n        dataDelete.splice(indexDel, 1);\r\n        this.setState({ devices: [...dataDelete] });\r\n        break;\r\n    }\r\n    this.refresh();\r\n  };\r\n\r\n  handleEditSensor = (newData, oldData, action) => {\r\n    switch (action) {\r\n      case \"add\":\r\n        this.setState({ sensors: [...this.state.sensors, newData] });\r\n        break;\r\n\r\n      case \"update\":\r\n        const dataUpdate = [...this.state.sensors];\r\n        const index = oldData.tableData.id;\r\n        dataUpdate[index] = newData;\r\n        this.setState({ sensors: [...dataUpdate] });\r\n        break;\r\n\r\n      case \"delete\":\r\n        const dataDelete = [...this.state.sensors];\r\n        const indexDel = oldData.tableData.id;\r\n        dataDelete.splice(indexDel, 1);\r\n        this.setState({ sensors: [...dataDelete] });\r\n        break;\r\n    }\r\n    this.refresh();\r\n  };\r\n\r\n  bulkEditDevices = (changes) => {\r\n    const updateData = Object.keys(changes).map((i) => changes[i]);\r\n    console.log(updateData);\r\n    const dataUpdate = [...this.state.devices];\r\n\r\n    updateData.forEach((el) => {\r\n      const index = el.newData.tableData.id;\r\n      dataUpdate[index] = el.newData;\r\n    });\r\n    this.setState({ devices: [...dataUpdate] });\r\n    this.refresh();\r\n  };\r\n\r\n  handleAddEmptyDevices = () => {};\r\n\r\n  // handleEditLevel = (levelID, colName, newValue) => {\r\n  //   axios({\r\n  //     //Axios POST request\r\n  //     method: \"post\",\r\n  //     headers: {\r\n  //       \"Content-Type\": \"application/json;charset=UTF-8\",\r\n  //       Authorization: \"Bearer \" + localStorage.usertoken,\r\n  //     },\r\n  //     url: global.BASE_URL + \"/api/levels/edit/\" + parseInt(levelID),\r\n  //     data: {\r\n  //       colName: colName,\r\n  //       level: newValue,\r\n  //     },\r\n  //   })\r\n  //     .then((res) => {\r\n  //       console.log(res);\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(err);\r\n  //     });\r\n  // };\r\n\r\n  refresh = async () => {\r\n    let promise = new Promise((resolve, reject) => {\r\n      this.callSites().then((res) => {\r\n        const sites_id = res.data[0].sites_id;\r\n        this.setState({\r\n          sites: res.data,\r\n          clickedSite: sites_id,\r\n          siteName: res.data[0].name,\r\n        });\r\n        this.callBuildings(sites_id).then((res) => {\r\n          this.setState({ buildings: res.data });\r\n        });\r\n        this.callLevels(this.state.clickedBuilding).then((res) => {\r\n          this.setState({\r\n            levels: res.data,\r\n          });\r\n          resolve(\"\");\r\n        });\r\n        this.setState({ tabsDisabled: false });\r\n      });\r\n    });\r\n    let result = await promise;\r\n    return result;\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.callSites().then((res) => {\r\n      const sites_id = res.data[0].sites_id;\r\n      this.setState({\r\n        sites: res.data,\r\n        clickedSite: sites_id,\r\n        siteName: res.data[0].name,\r\n      });\r\n      this.callBuildings(sites_id).then((res) => {\r\n        this.setState({ buildings: res.data });\r\n      });\r\n      this.callLevels(sites_id).then((res) => {\r\n        this.setState({ levels: res.data });\r\n      });\r\n      this.setState({ tabsDisabled: false });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    // const expandRow = {\r\n    //   renderer: (row) => {\r\n    //     let data = [];\r\n    //     const levelColumns = [\r\n    //       {\r\n    //         dataField: \"id\",\r\n    //         text: \"ID\",\r\n    //         hidden: true,\r\n    //         sort: true,\r\n    //       },\r\n    //       {\r\n    //         dataField: \"level\",\r\n    //         text: \"Level\",\r\n    //         sort: true,\r\n    //       },\r\n    //       {\r\n    //         dataField: \"devices\",\r\n    //         text: \"Luminaires\",\r\n    //         sort: true,\r\n    //         editable: false,\r\n    //       },\r\n    //       {\r\n    //         dataField: \"lights_count\",\r\n    //         text: \"Luminaires count\",\r\n    //         sort: true,\r\n    //         editable: false,\r\n    //       },\r\n    //     ];\r\n    //     levels.forEach((el) => {\r\n    //       if (row.buildings_id === el.buildings_id) data.push(el);\r\n    //     });\r\n\r\n    //     return (\r\n    //       <div>\r\n    //         <GridItem xs={1} style={{ marginBottom: \"10px\" }}>\r\n    //           {clickedSite ? (\r\n    //             <NewLevel\r\n    //               handleNewLevel={this.handleNewLevel}\r\n    //               building={row.buildings_id}\r\n    //               clickedSite={clickedSite}\r\n    //               data={data}\r\n    //             />\r\n    //           ) : null}\r\n    //         </GridItem>\r\n    //         <BootstrapTable\r\n    //           keyField=\"id\"\r\n    //           data={data}\r\n    //           columns={levelColumns}\r\n    //           cellEdit={cellEditFactory({\r\n    //             mode: \"click\",\r\n    //             beforeSaveCell: (oldValue, newValue, row, column) => {\r\n    //               console.log(\"Before Saving Cell!!\");\r\n    //             },\r\n    //             afterSaveCell: (oldValue, newValue, row, column) => {\r\n    //               this.handleEditLevel(row.id, column.dataField, newValue);\r\n    //             },\r\n    //           })}\r\n    //           ref={(n) => {\r\n    //             this.bootstrapTableRef = n;\r\n    //           }}\r\n    //         />\r\n    //       </div>\r\n    //     );\r\n    //   },\r\n    // };\r\n\r\n    const {\r\n      clickedSite,\r\n      backDisabled,\r\n      stage,\r\n      createNewBuilding,\r\n      createNewLevel,\r\n      buildings,\r\n      clickedLevel,\r\n      clickedBuilding,\r\n      sites,\r\n      levels,\r\n      devices,\r\n    } = this.state;\r\n\r\n    return (\r\n      <div style={{ margin: \"5px\" }}>\r\n        {/* TABS */}\r\n        <GridItem xs={12}>\r\n          {this.state.clickedSite ? (\r\n            <Tabs\r\n              value={this.state.clickedSite}\r\n              onChange={this.handleChangeSite}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              style={{\r\n                border: \"1pt solid lightgrey\",\r\n                borderRadius: \"2pt\",\r\n              }}\r\n              centered\r\n            >\r\n              {sites.map((a, index) => {\r\n                return (\r\n                  <Tab\r\n                    key={index}\r\n                    value={a.sites_id}\r\n                    disabled={this.state.tabsDisabled}\r\n                    label={a.name}\r\n                  />\r\n                );\r\n              })}\r\n            </Tabs>\r\n          ) : null}\r\n        </GridItem>\r\n\r\n        <GridContainer\r\n          justify=\"center\"\r\n          style={{ margin: \"5px\", textAlign: \"center\" }}\r\n        >\r\n          {/* TABS */}\r\n          <GridItem xs={12}>\r\n            {stage > 1 ? (\r\n              <div style={{ margin: \"20px\" }}>\r\n                <EditBuilding building={this.state.clickedBuildingDetails} />\r\n\r\n                {stage > 2 ? (\r\n                  <div>\r\n                    <h5>Level {this.state.clickedLevelDetails.level}</h5>\r\n                    <h6>{this.state.clickedLevelDetails.description}</h6>\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            ) : null}\r\n          </GridItem>\r\n        </GridContainer>\r\n        {/* BACK BUTTON */}\r\n        <div style={{ margin: \"20px\", marginLeft: \"15px\" }}>\r\n          <GridContainer>\r\n            <GridItem xs={1}>\r\n              <Tooltip title=\"Back\" aria-label=\"add\">\r\n                <span>\r\n                  <Fab\r\n                    disabled={backDisabled}\r\n                    color=\"primary\"\r\n                    variant=\"round\"\r\n                    onClick={() => {\r\n                      if (this.state.stage > 1) {\r\n                        this.setState({ stage: stage - 1 }, () => {\r\n                          if (this.state.stage <= 1)\r\n                            this.setState({ backDisabled: true });\r\n                          else this.setState({ backDisabled: false });\r\n                        });\r\n                      } else this.setState({ backDisabled: true });\r\n                    }}\r\n                  >\r\n                    <Icon style={{ transform: \"rotate(-90deg)\" }}>\r\n                      navigation\r\n                    </Icon>\r\n                  </Fab>\r\n                </span>\r\n              </Tooltip>\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n        {stage === 1 ? (\r\n          <GridItem xs={12}>\r\n            <Buildings\r\n              buildings={buildings}\r\n              handleClickBuilding={this.handleClickBuilding}\r\n              clickedBuilding={clickedBuilding}\r\n              handleEditBuilding={this.handleEditBuilding}\r\n              clickedSite={clickedSite}\r\n              editable\r\n            />\r\n          </GridItem>\r\n        ) : null}\r\n        {stage === 2 ? (\r\n          <GridItem xs={12}>\r\n            <Levels\r\n              levels={levels}\r\n              callLevels={this.callLevels}\r\n              handleClickLevel={this.handleClickLevel}\r\n              clickedLevel={clickedLevel}\r\n              handleEditLevel={this.handleEditLevel}\r\n              clickedBuilding={clickedBuilding}\r\n              editable\r\n            />\r\n          </GridItem>\r\n        ) : null}\r\n        {stage === 3 ? (\r\n          <div>\r\n            <GridItem xs={12}>\r\n              <Devices\r\n                devices={this.state.devices}\r\n                addEmpty={this.addEmpty}\r\n                bulkEditDevices={this.bulkEditDevices}\r\n                handleEditDevice={this.handleEditDevice}\r\n                clickedLevel={clickedLevel}\r\n                editable\r\n              />\r\n            </GridItem>\r\n            <GridItem xs={12}>\r\n              <Sensors\r\n                devices={this.state.sensors}\r\n                bulkEditDevices={this.bulkEditDevices}\r\n                handleEditSensor={this.handleEditSensor}\r\n                clickedLevel={clickedLevel}\r\n                editable\r\n              />\r\n            </GridItem>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function EditBuilding(props) {\r\n  return (\r\n    <div>\r\n      <h4>{props.building.building}</h4>\r\n      <h6>{props.building.address}</h6>\r\n    </div>\r\n  );\r\n}\r\n","import \"bootstrap/dist/css/bootstrap.css\";\r\nimport React, { Component } from \"react\";\r\nimport cellEditFactory, { Type } from \"react-bootstrap-table2-editor\";\r\nimport axios from \"axios\";\r\n// import paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Snackbar from \"components/Snackbar/Snackbar\";\r\nimport AddAlert from \"@material-ui/icons/AddAlert\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nvar updateData = [];\r\nvar usersId;\r\n\r\nclass GroupsTable extends Component {\r\n  _isMounted = false;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      updateDataLength: null,\r\n      renderCheck: false,\r\n      selectOptions: [],\r\n      selectOptions2: [],\r\n      showTooltip: true,\r\n      showSnackbar: true,\r\n      showSnackbarCancel: false,\r\n      showSnackbarEdit: false,\r\n      showSnackbarReusable: false,\r\n      snackbarMsg: \"default message\",\r\n      snackbarColor: \"info\",\r\n      snackbarPlace: \"br\",\r\n      SnackbarDelete: {\r\n        id: null,\r\n        type: \"\",\r\n        showSnackbarDelete: false,\r\n      },\r\n\r\n      place: \"bc\",\r\n      lightscolumns: [\r\n        {\r\n          dataField: \"id\",\r\n          text: \"Record ID\",\r\n          sort: true,\r\n          hidden: true,\r\n        },\r\n        {\r\n          dataField: \"_\",\r\n          text: \"Status\",\r\n          align: \"center\",\r\n          editable: false,\r\n          hidden: true,\r\n          headerStyle: (colum, colIndex) => {\r\n            return { width: \"100px\", textAlign: \"center\" };\r\n          },\r\n          formatter: (cell, row) => {\r\n            if (row.status === \"OK\") {\r\n              return (\r\n                <span>\r\n                  <Icon style={{ color: \"green\" }}>check_circle</Icon>\r\n                </span>\r\n              );\r\n            } else {\r\n              return (\r\n                <span>\r\n                  <Icon style={{ color: \"red\" }}>cancel</Icon>\r\n                </span>\r\n              );\r\n            }\r\n          },\r\n        },\r\n        {\r\n          dataField: \"status\",\r\n          text: \"Status info\",\r\n          sort: true,\r\n          editable: false,\r\n          hidden: true,\r\n        },\r\n        {\r\n          dataField: \"device_id\",\r\n          text: \"Device ID\",\r\n          sort: true,\r\n        },\r\n        {\r\n          dataField: \"type\",\r\n          text: \"Type\",\r\n          sort: true,\r\n          editor: {\r\n            type: Type.SELECT,\r\n            options: [\r\n              { value: \"EX-58\", label: \"EX-58\" },\r\n              { value: \"E-51\", label: \"E-51\" },\r\n              { value: \"SA-25E\", label: \"SA-25E\" },\r\n              { value: \"F-51E\", label: \"F-51E\" },\r\n            ],\r\n          },\r\n        },\r\n        {\r\n          dataField: \"group_name\",\r\n          text: \"Location\",\r\n          sort: true,\r\n          editor: {\r\n            type: Type.SELECT,\r\n            getOptions: (setOptions, { row, column }) => {\r\n              return this.state.selectOptions;\r\n            },\r\n          },\r\n          formatter: (cell, row) => {\r\n            // eslint-disable-next-line\r\n            var found = this.state.selectOptions.find((x) => x.value == cell);\r\n            if (found) return found.label;\r\n            else return <span>{`${row.building} - ${row.level} level`}</span>;\r\n          },\r\n        },\r\n        {\r\n          dataField: \"node_id\",\r\n          text: \"BMesh Address\",\r\n          sort: true,\r\n        },\r\n        {\r\n          dataField: \"id\",\r\n          text: \"\",\r\n          editable: false,\r\n          headerStyle: (colum, colIndex) => {\r\n            return { width: \"80px\", textAlign: \"center\" };\r\n          },\r\n          formatter: (cellContent, row, rowIndex) => {\r\n            return (\r\n              <IconButton\r\n                color=\"secondary\"\r\n                onClick={() =>\r\n                  this.handleDelete(row.id, row.device_id, row.type)\r\n                }\r\n              >\r\n                <Icon style={{ fontSize: \"1.2em\" }}>delete</Icon>\r\n              </IconButton>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  handleDelete = (rowId, deviceId, type) => {\r\n    if (window.confirm(`Delete device ${deviceId} ${type}?`)) {\r\n      this.props.deleteDevice(rowId);\r\n      axios\r\n        .delete(global.BASE_URL + \"/api/lights/\" + parseInt(rowId), {\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.props.callSites();\r\n          console.log(response);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n      let SnackbarDeleteCopy = JSON.parse(\r\n        JSON.stringify(this.state.SnackbarDelete)\r\n      );\r\n      SnackbarDeleteCopy.id = deviceId;\r\n      SnackbarDeleteCopy.type = type;\r\n      SnackbarDeleteCopy.showSnackbarDelete = true;\r\n      this.setState({ SnackbarDelete: SnackbarDeleteCopy });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    usersId = decoded.id;\r\n\r\n    this._isMounted = true;\r\n    this.callAllGroups();\r\n    this.setState({\r\n      showSnackbarReusable: true,\r\n      snackbarMsg: \"Cell edit enabled! Click save to apply the changes.\",\r\n      snackbarColor: \"info\",\r\n      snackbarPlace: \"br\",\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  callLightsGroups = () => {\r\n    this.props.callLights();\r\n    this.props.callGroups();\r\n  };\r\n\r\n  callAllGroups = () => {\r\n    axios\r\n      .get(global.BASE_URL + \"/api/groups/selectoptions/\" + usersId, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((result) => {\r\n        const uniqueArray = result.data.filter((thing, index) => {\r\n          const _thing = JSON.stringify(thing.levels_name);\r\n          const _building = JSON.stringify(thing.buildings_name);\r\n          return (\r\n            index ===\r\n            result.data.findIndex((obj) => {\r\n              return (\r\n                JSON.stringify(obj.levels_name) === _thing &&\r\n                JSON.stringify(obj.buildings_name) === _building\r\n              );\r\n            })\r\n          );\r\n        });\r\n        this.setState({\r\n          selectOptions: uniqueArray,\r\n        });\r\n      });\r\n  };\r\n\r\n  autoClose = (time, stateObject) => {\r\n    if (this._isMounted) {\r\n      setTimeout(() => {\r\n        this.setState({ [stateObject]: false });\r\n      }, time);\r\n    }\r\n  };\r\n\r\n  closeDelete = () => {\r\n    let SnackbarDeleteCopy = JSON.parse(\r\n      JSON.stringify(this.state.SnackbarDelete)\r\n    );\r\n    SnackbarDeleteCopy.showSnackbarDelete = false;\r\n    this.setState({ SnackbarDelete: SnackbarDeleteCopy });\r\n  };\r\n\r\n  closeSnackbar = (stateObject, setStateObject, time) => {\r\n    if (stateObject === true) {\r\n      setTimeout(() => {\r\n        this.setState({ [setStateObject]: !stateObject });\r\n      }, time);\r\n    }\r\n  };\r\n\r\n  validator = (newValue, row, column) => {};\r\n\r\n  saveRecords = () => {\r\n    let newRows = this.props.newRows;\r\n\r\n    if (updateData.length > 0 || newRows.length > 0) {\r\n      if (\r\n        window.confirm(\r\n          `Are you sure you want to update ${this.state.updateDataLength} cell/s?`\r\n        )\r\n      ) {\r\n        axios\r\n          .post(\r\n            global.BASE_URL + \"/api/lights/testeditmany\",\r\n            { updateData, newRows },\r\n            {\r\n              headers: {\r\n                \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                Authorization: \"Bearer \" + localStorage.usertoken,\r\n              },\r\n            }\r\n          )\r\n          .then((response) => {\r\n            this.props.callGroups();\r\n\r\n            this.setState({\r\n              showSnackbarEdit: true,\r\n            });\r\n            setTimeout(() => {\r\n              updateData = [];\r\n              this.props.clearInsertCounter();\r\n              this.props.clearNewRows();\r\n              this.props.callLights();\r\n            }, 1000);\r\n            console.log(response);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    } else\r\n      this.setState({\r\n        snackbarPlace: \"br\",\r\n        snackbarColor: \"warning\",\r\n        showSnackbarReusable: true,\r\n        snackbarMsg: \"Nothing changed\",\r\n        showSnackbarEdit: false,\r\n      });\r\n  };\r\n\r\n  revertRecords = () => {\r\n    setTimeout(() => {\r\n      updateData = [];\r\n      this.props.clearInsertCounter();\r\n      this.props.clearNewRows();\r\n      this.setState({\r\n        snackbarPlace: \"br\",\r\n        snackbarColor: \"success\",\r\n        showSnackbarReusable: true,\r\n        snackbarMsg: \"Reverted\",\r\n      });\r\n    }, 500);\r\n    this.props.callLights();\r\n  };\r\n\r\n  render() {\r\n    const afterSaveCell = (oldValue, newValue, row, column) => {\r\n      const colName = column.dataField;\r\n      if (newValue !== oldValue && newValue !== \"\") {\r\n        var object = {};\r\n        object.row = row.id;\r\n        object.colName = colName;\r\n        object.newValue = newValue;\r\n\r\n        if (object.colName === \"group_name\") {\r\n          object.colName = \"lgt_groups_id\";\r\n        }\r\n\r\n        if (object.colName === \"device_id\") {\r\n          if (parseInt(newValue)) {\r\n            updateData.forEach((x, index) => {\r\n              if (x.row === row.id && x.colName === colName) {\r\n                updateData.splice(index, 1);\r\n              }\r\n            });\r\n\r\n            updateData.push(object);\r\n\r\n            this.setState({ updateDataLength: updateData.length });\r\n          } else\r\n            this.setState({\r\n              snackbarColor: \"warning\",\r\n              snackbarPlace: \"br\",\r\n              snackbarMsg: \"Only number values in this field\",\r\n              showSnackbarReusable: true,\r\n            });\r\n        }\r\n        if (object.colName !== \"device_id\") {\r\n          updateData.forEach((x, index) => {\r\n            if (x.row === row.id && x.colName === colName) {\r\n              updateData.splice(index, 1);\r\n            }\r\n          });\r\n\r\n          updateData.push(object);\r\n\r\n          this.setState({ updateDataLength: updateData.length });\r\n        }\r\n      }\r\n      // this.callLightsGroups();\r\n    };\r\n\r\n    //Hide Snackbars automatically\r\n    this.closeSnackbar(this.state.showSnackbar, \"showSnackbar\", 3000);\r\n    this.closeSnackbar(\r\n      this.state.showSnackbarCancel,\r\n      \"showSnackbarCancel\",\r\n      3000\r\n    );\r\n    this.closeSnackbar(this.state.showSnackbarEdit, \"showSnackbarEdit\", 5000);\r\n    this.closeSnackbar(\r\n      this.state.showSnackbarReusable,\r\n      \"showSnackbarReusable\",\r\n      5000\r\n    );\r\n\r\n    if (\r\n      this.state.SnackbarDelete.showSnackbarDelete === true &&\r\n      this._isMounted\r\n    ) {\r\n      setTimeout(() => {\r\n        this.closeDelete();\r\n      }, 3000);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        {/* SnackbarS */}\r\n        <div style={{ zIndex: \"2\" }}>\r\n          <Snackbar\r\n            message={this.state.snackbarMsg}\r\n            close\r\n            icon={AddAlert}\r\n            color={this.state.snackbarColor}\r\n            place={this.state.snackbarPlace}\r\n            open={this.state.showSnackbarReusable}\r\n            closeNotification={() =>\r\n              this.setState({ showSnackbarReusable: false })\r\n            }\r\n          />\r\n          <Snackbar\r\n            message={`Successfully edited ${this.state.updateDataLength} cell/s`}\r\n            close\r\n            icon={AddAlert}\r\n            color=\"success\"\r\n            place={\"br\"}\r\n            open={this.state.showSnackbarEdit}\r\n            closeNotification={() => this.setState({ showSnackbarEdit: false })}\r\n          />\r\n          <Snackbar\r\n            message={\"Cancelled action\"}\r\n            close\r\n            icon={AddAlert}\r\n            color=\"warning\"\r\n            place={\"br\"}\r\n            open={this.state.showSnackbarCancel}\r\n            closeNotification={() =>\r\n              this.setState({ showSnackbarCancel: false })\r\n            }\r\n          />\r\n          <Snackbar\r\n            message={`Deleted device ${this.state.SnackbarDelete.id} - ${this.state.SnackbarDelete.type}`}\r\n            close\r\n            icon={AddAlert}\r\n            color=\"warning\"\r\n            place={\"br\"}\r\n            open={this.state.SnackbarDelete.showSnackbarDelete}\r\n            closeNotification={this.closeDelete}\r\n          />\r\n        </div>\r\n        <BootstrapTable\r\n          noDataIndication={\"no results found\"}\r\n          bordered={true}\r\n          hover\r\n          keyField=\"id\"\r\n          data={this.props.lights}\r\n          columns={this.state.lightscolumns}\r\n          cellEdit={cellEditFactory({\r\n            mode: \"click\",\r\n            blurToSave: true,\r\n            afterSaveCell,\r\n          })}\r\n          // pagination={pagination}\r\n        />\r\n        <div style={{ float: \"right\" }}>\r\n          <Button style={{ color: \"green\" }} onClick={this.saveRecords}>\r\n            Save\r\n          </Button>\r\n          <Button color=\"secondary\" onClick={this.revertRecords}>\r\n            Revert\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(GroupsTable);\r\n","import React from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport axios from \"axios\";\r\n\r\nexport default function buildings(props) {\r\n  const columns = [\r\n    {\r\n      field: \"id\",\r\n      title: \"ID\",\r\n      hidden: true,\r\n    },\r\n    {\r\n      field: \"device_id\",\r\n      title: \"Parent device ID\",\r\n    },\r\n    {\r\n      field: \"sensor_type\",\r\n      title: \"Sensor type\",\r\n    },\r\n    {\r\n      field: \"node_id\",\r\n      title: \"Mesh Address\",\r\n    },\r\n    {\r\n      field: \"sensor_is_assigned\",\r\n      title: \"Battery\",\r\n      editable: \"never\",\r\n    },\r\n    {\r\n      field: \"building\",\r\n      title: \"Luminance\",\r\n      editable: \"never\",\r\n    },\r\n  ];\r\n\r\n  //   const bulkEdit = async (updateData) => {\r\n  //     let result = await axios({\r\n  //       //Axios POST request\r\n  //       method: \"post\",\r\n  //       headers: {\r\n  //         \"Content-Type\": \"application/json;charset=UTF-8\",\r\n  //         Authorization: \"Bearer \" + localStorage.usertoken,\r\n  //       },\r\n  //       url: global.BASE_URL + \"/api/lights/bulkedit\",\r\n  //       data: {\r\n  //         update_data: updateData,\r\n  //       },\r\n  //       timeout: 0,\r\n  //     });\r\n  //     return result;\r\n  //   };\r\n\r\n  const updateDevice = async (updateData) => {\r\n    let parentID;\r\n    if (updateData.device_id) {\r\n      let resultLights = await axios({\r\n        method: \"get\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url:\r\n          global.BASE_URL +\r\n          \"/api/lights/device_id/\" +\r\n          `${updateData.device_id}/${props.clickedLevel}`,\r\n        timeout: 0,\r\n      });\r\n\r\n      parentID = resultLights.data[0].id;\r\n    } else parentID = null;\r\n\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/sensors/edit/\" + updateData.id,\r\n      data: {\r\n        type: updateData.sensor_type,\r\n        parent_id: parentID,\r\n        node_id: updateData.node_id,\r\n      },\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const addDevice = async (updateData) => {\r\n    let parentID;\r\n    if (updateData.device_id) {\r\n      let resultLights = await axios({\r\n        method: \"get\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url:\r\n          global.BASE_URL +\r\n          \"/api/lights/device_id/\" +\r\n          `${updateData.device_id}/${props.clickedLevel}`,\r\n        timeout: 0,\r\n      });\r\n\r\n      parentID = resultLights.data[0].id;\r\n    } else parentID = null;\r\n\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/sensors/add\",\r\n      data: {\r\n        node_id: updateData.node_id,\r\n        type: updateData.sensor_type,\r\n        parent_id: parentID,\r\n        levels_id: props.clickedLevel,\r\n      },\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const deleteDevice = async (data) => {\r\n    let result = await axios({\r\n      //Axios POST request\r\n      method: \"delete\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/sensors/\" + data.id,\r\n      timeout: 0,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  let editable = {\r\n    onRowAdd: (newData) =>\r\n      new Promise((resolve, reject) => {\r\n        addDevice(newData).then((res) => {\r\n          console.log(res);\r\n          props.handleEditSensor(newData, {}, \"add\");\r\n          resolve();\r\n        });\r\n      }),\r\n    onRowUpdate: (newData, oldData) =>\r\n      new Promise((resolve, reject) => {\r\n        updateDevice(newData).then((res) => {\r\n          console.log(res);\r\n          props.handleEditSensor(newData, oldData, \"update\");\r\n          resolve();\r\n        });\r\n      }),\r\n    onRowDelete: (oldData) =>\r\n      new Promise((resolve, reject) => {\r\n        deleteDevice(oldData).then((res) => {\r\n          console.log(res);\r\n          props.handleEditSensor({}, oldData, \"delete\");\r\n          resolve();\r\n        });\r\n      }),\r\n  };\r\n\r\n  if (!props.editable) {\r\n    editable = {};\r\n  }\r\n  return (\r\n    <MaterialTable\r\n      columns={columns}\r\n      onRowClick={(event, rowData) =>\r\n        console.log(props.sensors[props.sensors.indexOf(rowData)])\r\n      }\r\n      data={props.devices}\r\n      title=\"Sensors\"\r\n      editable={editable}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport axios from \"axios\";\r\nimport SummaryCard from \"./SummaryCard\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nfunction Loading() {\r\n  return (\r\n    <div>\r\n      <Skeleton variant=\"rect\" width={\"70vw\"} height={\"60vh\"} />\r\n    </div>\r\n  );\r\n}\r\n\r\nclass Dashboard extends React.Component {\r\n  measurements = [\"Voltage\", \"Power\", \"Current\"];\r\n\r\n  dayGraphDateFormat = Intl.DateTimeFormat(\"en\", {\r\n    weekday: \"long\",\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n    hour: \"numeric\",\r\n  });\r\n  graphDateFormat = Intl.DateTimeFormat(\"en\", {\r\n    weekday: \"long\",\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n  });\r\n\r\n  columns = [];\r\n  state = {\r\n    voltage: null,\r\n    power: null,\r\n    current: null,\r\n    show: \"voltage\",\r\n    time_range: \"day\",\r\n    URL: global.BASE_URL + \"/api/power\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json;charset=UTF-8\",\r\n      Authorization: \"Bearer \" + localStorage.usertoken,\r\n    },\r\n    summary: {\r\n      month_total: null,\r\n      month_line: null,\r\n      three_months_total: null,\r\n      three_months_line: null,\r\n      year_total: null,\r\n      year_total_line: null,\r\n    },\r\n    loading: true,\r\n    loadingAgg: true,\r\n  };\r\n\r\n  datasets_defaults = {\r\n    voltage: {\r\n      label: \"Voltage\",\r\n      backgroundColor: \"rgba(132,99,255,0.2)\",\r\n      borderColor: \"rgba(132,99,255,1)\",\r\n      borderWidth: 1,\r\n      hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n      hoverBorderColor: \"rgba(255,99,132,1)\",\r\n      pointRadius: 1,\r\n    },\r\n    power: [\r\n      {\r\n        backgroundColor: \"rgba(255, 0, 0,0.2)\",\r\n        borderColor: \"rgba(255, 0, 0, 1)\",\r\n        borderWidth: 1,\r\n        pointRadius: 0,\r\n      },\r\n      {\r\n        backgroundColor: \"rgba(0, 255, 0,0.2)\",\r\n        borderColor: \"rgba(0, 255, 0, 1)\",\r\n        borderWidth: 1,\r\n        pointRadius: 0,\r\n      },\r\n      {\r\n        backgroundColor: \"rgba(0, 0, 255,0.2)\",\r\n        borderColor: \"rgba(0, 0, 255, 1)\",\r\n        borderWidth: 1,\r\n        pointRadius: 0,\r\n      },\r\n    ],\r\n  };\r\n\r\n  yAxisTitles = {\r\n    voltage: \"Voltage (V)\",\r\n    power: \"Power (W)\",\r\n    current: \"Current (mA)\",\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.chartReference = React.createRef();\r\n    this.onMeasureChangeValue = this.onMeasureChangeValue.bind(this);\r\n    this.onTimeRangeChangeValue = this.onTimeRangeChangeValue.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n  }\r\n\r\n  onMeasureChangeValue(event) {\r\n    this.setState({ show: event.target.value });\r\n    this.fetchData();\r\n  }\r\n\r\n  onTimeRangeChangeValue(event) {\r\n    this.setState({ time_range: event.target.value });\r\n    this.fetchData();\r\n  }\r\n\r\n  async fetchColumns(refresh) {\r\n    if (!refresh) {\r\n      this.setState({ loading: true });\r\n    }\r\n    const response = await axios.get(this.state.URL + \"/lines\", {\r\n      headers: this.state.headers,\r\n    });\r\n    const res = response;\r\n    const data = res.data;\r\n\r\n    const lines = data.data.map((x) => x.line);\r\n    return [\"time\"].concat(lines.map((x_1) => \"line \" + x_1));\r\n  }\r\n\r\n  async fetchData(refresh = false) {\r\n    const columns = await this.fetchColumns(refresh);\r\n\r\n    axios\r\n      .post(\r\n        this.state.URL + \"/values\",\r\n        { range: this.state.time_range, measure: this.state.show },\r\n        {\r\n          headers: this.state.headers,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        const data = res.data;\r\n        switch (this.state.show) {\r\n          case \"voltage\":\r\n            {\r\n              const voltage = data.data.map((d) => ({\r\n                x: d.epoch,\r\n                y: d.values,\r\n              }));\r\n              this.setState({ voltage: voltage, loading: false });\r\n            }\r\n            break;\r\n          case \"power\":\r\n            {\r\n              const power = {\r\n                name: \"power\",\r\n                columns: columns,\r\n                points: data.data.map((d) => this.mapValues(d, columns.length)),\r\n              };\r\n              this.setState({ power: power, loading: false });\r\n            }\r\n            break;\r\n          case \"current\":\r\n            {\r\n              const current = {\r\n                name: \"current\",\r\n                columns: columns,\r\n                points: data.data.map((d) => this.mapValues(d, columns.length)),\r\n              };\r\n              this.setState({ current: current, loading: false });\r\n            }\r\n            break;\r\n        }\r\n      });\r\n  }\r\n\r\n  async fetchAggregate() {\r\n    console.log(\"fetch aggregate\");\r\n    const response = await axios.post(\r\n      this.state.URL + \"/aggregate\",\r\n      { measure: \"power\" },\r\n      { headers: this.state.headers }\r\n    );\r\n    return response;\r\n  }\r\n\r\n  mapValues = (data, l) => {\r\n    var point = {\r\n      x: data.epoch,\r\n      values: data.values.split(\",\").map((v) => parseFloat(v)),\r\n    };\r\n\r\n    for (let index = 0; index < l - 1; index++) {\r\n      const el = data.values[index];\r\n      point[\"x\" + index] = el;\r\n    }\r\n    return point;\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchData(false);\r\n    this.fetchAggregate().then((res) => {\r\n      this.setState({ summary: res.data.summary, loadingAgg: false });\r\n      console.log(res);\r\n    });\r\n    this.interval = setInterval(() => this.fetchData(true), 1000 * 60);\r\n  }\r\n\r\n  render() {\r\n    var graph = <Loading />;\r\n    const measure = this.state.show;\r\n    const data_ = this.state[measure];\r\n\r\n    if (data_) {\r\n      console.log(data_);\r\n      let labels;\r\n      let datasets;\r\n\r\n      if (measure === \"voltage\") {\r\n        var dataset = this.datasets_defaults[\"voltage\"];\r\n        dataset.data = data_;\r\n        datasets = [dataset];\r\n\r\n        if (this.state.time_range === \"day\") {\r\n          labels = data_\r\n            .map((x) => new Date(new Date(x[\"x\"] * 1000)))\r\n            .map(this.dayGraphDateFormat.format);\r\n        } else {\r\n          labels = data_\r\n            .map((x) => new Date(new Date(x[\"x\"] * 1000)))\r\n            .map(this.graphDateFormat.format);\r\n        }\r\n      } else {\r\n        if (this.state.time_range === \"day\") {\r\n          labels = data_.points\r\n            .map((x) => new Date(new Date(x[\"x\"] * 1000)))\r\n            .map(this.dayGraphDateFormat.format);\r\n        } else {\r\n          labels = data_.points\r\n            .map((x) => new Date(new Date(x[\"x\"] * 1000)))\r\n            .map(this.graphDateFormat.format);\r\n        }\r\n        datasets = [];\r\n        for (let i = 1; i < data_.columns.length; i++) {\r\n          const dataset = this.datasets_defaults[\"power\"][i - 1];\r\n          dataset.label = data_.columns[i];\r\n          dataset.data = data_.points.map((v) => v.values[i - 1]);\r\n          datasets.push(dataset);\r\n        }\r\n      }\r\n\r\n      const options = {\r\n        scales: {\r\n          yAxes: [\r\n            {\r\n              scaleLabel: {\r\n                display: true,\r\n                labelString: this.yAxisTitles[measure],\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      };\r\n      const data = { labels: labels, datasets: datasets };\r\n      graph = this.state.loading ? (\r\n        <Loading />\r\n      ) : (\r\n        <Line ref={this.chartReference} data={data} options={options} />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Container>\r\n        <br />\r\n        <Container>\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"space-evenly\"\r\n            alignItems=\"center\"\r\n            spacing={2}\r\n          >\r\n            <SummaryCard\r\n              loading={this.state.loadingAgg}\r\n              title=\"30 Days\"\r\n              total_data={this.state.summary.month}\r\n              line_data={this.state.summary.month_line}\r\n            />\r\n            <SummaryCard\r\n              loading={this.state.loadingAgg}\r\n              title=\"3 Months\"\r\n              total_data={this.state.summary.three_months}\r\n              line_data={this.state.summary.three_months_line}\r\n            />\r\n            <SummaryCard\r\n              loading={this.state.loadingAgg}\r\n              title=\"Year\"\r\n              total_data={this.state.summary.year}\r\n              line_data={this.state.summary.year_line}\r\n            />\r\n          </Grid>\r\n        </Container>\r\n        <br />\r\n        <br />\r\n        <Grid container direction=\"row\">\r\n          <Grid item>\r\n            <FormLabel>Measurement: </FormLabel>\r\n            <RadioGroup\r\n              name=\"measurement\"\r\n              row\r\n              onChange={this.onMeasureChangeValue}\r\n            >\r\n              {this.measurements.map((m) => (\r\n                <FormControlLabel\r\n                  key={m.toLowerCase()}\r\n                  value={m.toLowerCase()}\r\n                  control={<Radio />}\r\n                  label={m}\r\n                  checked={this.state.show === m.toLowerCase()}\r\n                />\r\n              ))}\r\n            </RadioGroup>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container>\r\n          <Grid item>\r\n            <FormLabel>Time Range: </FormLabel>\r\n            <RadioGroup\r\n              name=\"time_range\"\r\n              row\r\n              onChange={this.onTimeRangeChangeValue}\r\n            >\r\n              <FormControlLabel\r\n                key=\"day\"\r\n                value=\"day\"\r\n                control={<Radio />}\r\n                label=\"1 Day\"\r\n                checked={this.state.time_range === \"day\"}\r\n              />\r\n              <FormControlLabel\r\n                key=\"month\"\r\n                value=\"month\"\r\n                control={<Radio />}\r\n                label=\"1 Month\"\r\n                checked={this.state.time_range === \"month\"}\r\n              />\r\n              <FormControlLabel\r\n                key=\"three_months\"\r\n                value=\"three_months\"\r\n                control={<Radio />}\r\n                label=\"3 Months\"\r\n                checked={this.state.time_range === \"three_months\"}\r\n              />\r\n              <FormControlLabel\r\n                key=\"year\"\r\n                value=\"year\"\r\n                control={<Radio />}\r\n                label=\"1 Year\"\r\n                checked={this.state.time_range === \"year\"}\r\n              />\r\n            </RadioGroup>\r\n          </Grid>\r\n        </Grid>\r\n        {graph}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { Type } from \"react-bootstrap-table2-editor\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport moment from \"moment\";\r\nimport TrialTestsTable from \"components/Data/TrialTestsTable\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport cellEditFactory from \"react-bootstrap-table2-editor\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CircularProgressWithLabel from \"components/CircularProgress/CircularProgress\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/styles/withStyles\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport LiveFloorplanWrapper from \"components/Test/LiveFloorplanWrapper\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport ChooseType from \"components/Test/ChooseTestType\";\r\n\r\nconst styles = {\r\n  root: {\r\n    background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\r\n    border: 0,\r\n    borderRadius: 3,\r\n    boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\r\n    color: \"white\",\r\n    height: 48,\r\n    padding: \"0 30px\",\r\n  },\r\n  container: {\r\n    marginTop: 50,\r\n  },\r\n};\r\n\r\nconst NoDataIndication = () => (\r\n  <div\r\n    className=\"spinner-grow text-info\"\r\n    style={{ width: \"6rem\", height: \"6rem\" }}\r\n  ></div>\r\n);\r\n\r\nclass TrialTest extends Component {\r\n  timer = 0;\r\n  state = {\r\n    message: \"\",\r\n    gwMessage: \"\",\r\n    errorMessage: \"\",\r\n    input: \"\",\r\n    isTest: true,\r\n    testCounter: null,\r\n    step: 1,\r\n    userInput: \"\",\r\n    disabledBackBtn: true,\r\n    disabledFinish: true,\r\n    disabledStartAll: true,\r\n    disabledApply: true,\r\n    disabledAbort: false,\r\n    finishClicked: true,\r\n    abortClicked: false,\r\n    clickedStartAll: true,\r\n    testFinished: false,\r\n    testid: null,\r\n    testData: [],\r\n    selectedAction: \"\",\r\n    sites: [],\r\n    clickedSite: null,\r\n    testType: \"Monthly\",\r\n    devices: [],\r\n    deviceColumns: [\r\n      {\r\n        dataField: \"id\",\r\n        text: \"Record ID\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"device_id\",\r\n        text: \"Device ID\",\r\n        sort: true,\r\n      },\r\n      {\r\n        dataField: \"type\",\r\n        text: \"Type\",\r\n        sort: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          options: [\r\n            { value: \"EX-58\", label: \"EX-58\" },\r\n            { value: \"SA-25E\", label: \"SA-25E\" },\r\n            { value: \"F-51E\", label: \"F-51E\" },\r\n          ],\r\n        },\r\n      },\r\n      {\r\n        dataField: \"sites_name\",\r\n        text: \"Site\",\r\n        sort: true,\r\n      },\r\n      {\r\n        dataField: \"group_name\",\r\n        text: \"Location\",\r\n        sort: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          getOptions: (setOptions, { row, column }) => {\r\n            return this.state.selectOptions;\r\n          },\r\n        },\r\n        formatter: (cellContent, row, rowIndex) => {\r\n          return <span>{`${row.building} - ${row.level} level`}</span>;\r\n        },\r\n      },\r\n      {\r\n        dataField: \"level\",\r\n        text: \"\",\r\n        sort: true,\r\n        hidden: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          getOptions: (setOptions, { row, column }) => {\r\n            return this.state.selectOptions;\r\n          },\r\n        },\r\n      },\r\n      {\r\n        dataField: \"building\",\r\n        text: \"\",\r\n        sort: true,\r\n        hidden: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          getOptions: (setOptions, { row, column }) => {\r\n            return this.state.selectOptions;\r\n          },\r\n        },\r\n      },\r\n      {\r\n        dataField: \"node_id\",\r\n        text: \"BMesh Address\",\r\n        sort: true,\r\n      },\r\n    ],\r\n    devicesFiltered: [],\r\n    selectedDevices: [],\r\n    selectedDevicesLive: [],\r\n    selectedDevicesCols: [\r\n      {\r\n        dataField: \"id\",\r\n        text: \"Record ID\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"device_id\",\r\n        text: \"Device ID\",\r\n        sort: true,\r\n      },\r\n      {\r\n        dataField: \"type\",\r\n        text: \"Type\",\r\n        sort: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          options: [\r\n            { value: \"EX-58\", label: \"EX-58\" },\r\n            { value: \"SA-25E\", label: \"SA-25E\" },\r\n            { value: \"F-51E\", label: \"F-51E\" },\r\n          ],\r\n        },\r\n      },\r\n      {\r\n        dataField: \"group_name\",\r\n        text: \"Location\",\r\n        sort: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          getOptions: (setOptions, { row, column }) => {\r\n            return this.state.selectOptions;\r\n          },\r\n        },\r\n        formatter: (cellContent, row, rowIndex) => {\r\n          return <span>{`${row.building} - ${row.level} level`}</span>;\r\n        },\r\n      },\r\n      {\r\n        dataField: \"level\",\r\n        text: \"\",\r\n        sort: true,\r\n        hidden: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          getOptions: (setOptions, { row, column }) => {\r\n            return this.state.selectOptions;\r\n          },\r\n        },\r\n      },\r\n      {\r\n        dataField: \"building\",\r\n        text: \"\",\r\n        sort: true,\r\n        hidden: true,\r\n        editor: {\r\n          type: Type.SELECT,\r\n          getOptions: (setOptions, { row, column }) => {\r\n            return this.state.selectOptions;\r\n          },\r\n        },\r\n      },\r\n      {\r\n        dataField: \"node_id\",\r\n        text: \"BMesh Address\",\r\n        sort: true,\r\n      },\r\n      // {\r\n      //   dataField: \"id\",\r\n      //   text: \"\",\r\n      //   editable: false,\r\n      //   headerStyle: (colum, colIndex) => {\r\n      //     return { width: \"80px\", textAlign: \"center\" };\r\n      //   },\r\n      //   formatter: (cellContent, row, rowIndex) => {\r\n      //     return (\r\n      //       <IconButton color=\"secondary\" onClick={() => console.log(row)}>\r\n      //         <Icon style={{ fontSize: \"1.2em\" }}>delete</Icon>\r\n      //       </IconButton>\r\n      //     );\r\n      //   },\r\n      // },\r\n    ],\r\n    liveDevices: [],\r\n    testColumns: [\r\n      {\r\n        dataField: \"id\",\r\n        text: \"Record ID\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"device_id\",\r\n        text: \"Device ID\",\r\n        sort: true,\r\n        editable: false,\r\n      },\r\n      {\r\n        dataField: \"type\",\r\n        text: \"Type\",\r\n        sort: true,\r\n        editable: false,\r\n      },\r\n      {\r\n        dataField: \"level\",\r\n        text: \"Location\",\r\n        sort: true,\r\n        editable: false,\r\n        formatter: (cellContent, row, rowIndex) => {\r\n          return <span>{`${row.building} - level ${row.level}`}</span>;\r\n        },\r\n      },\r\n      {\r\n        dataField: \"building\",\r\n        text: \"\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"node_id\",\r\n        text: \"BMesh Address\",\r\n        sort: true,\r\n        editable: false,\r\n        headerStyle: (colum, colIndex) => {\r\n          return { width: \"100px\" };\r\n        },\r\n      },\r\n      {\r\n        dataField: \"powercut\",\r\n        text: \"powercut\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"duration\",\r\n        text: \"Time left\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"\",\r\n        text: \"Progress\",\r\n        editable: false,\r\n        align: \"center\",\r\n        headerStyle: (colum, colIndex) => {\r\n          return { width: \"10vw\", textAlign: \"center\" };\r\n        },\r\n        formatter: (cellContent, row, rowIndex) => {\r\n          if (row.powercut === 0) return <span>Awaiting Start</span>;\r\n          if (row.duration > 0 && row.powercut === 1) {\r\n            var duration = moment.duration(row.duration);\r\n            var percentage = ((row.duration / row.durationStart) * 100).toFixed(\r\n              0\r\n            );\r\n            var progress = 100 - percentage;\r\n\r\n            return (\r\n              <CircularProgressWithLabel value={progress} duration={duration} />\r\n            );\r\n          }\r\n          if (row.duration === 0 && row.powercut === 1) {\r\n            return <div>Awaiting finish</div>;\r\n          }\r\n          if (row.powercut === 2) {\r\n            return <span style={{ textAlign: \"center\" }}>Power back on</span>;\r\n          }\r\n          if (row.powercut === 3) {\r\n            return null;\r\n          }\r\n        },\r\n      },\r\n      {\r\n        dataField: \"_\",\r\n        text: \"Device state\",\r\n        editable: false,\r\n        align: \"center\",\r\n        headerStyle: (colum, colIndex) => {\r\n          return { textAlign: \"center\" };\r\n        },\r\n        formatter: (cellContent, row) => {\r\n          console.log(row, this.state.liveDevices);\r\n          return (\r\n            <div>\r\n              {row.powercut === 0\r\n                ? \"Ready\"\r\n                : row.result.length\r\n                ? Array.from(row.result).join(\", \")\r\n                : null}\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        dataField: \"bat\",\r\n        text: \"Battery\",\r\n        formatter: (cellContent, row) => {\r\n          const result = row.result.length\r\n            ? Array.from(row.result).join(\",\")\r\n            : \"\";\r\n\r\n          if (result.includes(\"Battery fault\")) {\r\n            return <span>Faulty</span>;\r\n          } else if (row.powercut !== 3) return <span>OK</span>;\r\n          else return null;\r\n        },\r\n      },\r\n      {\r\n        dataField: \"lamp\",\r\n        text: \"Lamp\",\r\n        formatter: (cellContent, row) => {\r\n          const result = row.result.length\r\n            ? Array.from(row.result).join(\",\")\r\n            : \"\";\r\n          if (result.includes(\"Lamp fault\")) {\r\n            return <span>Faulty</span>;\r\n          } else if (row.powercut !== 3) return <span>OK</span>;\r\n          else return null;\r\n        },\r\n      },\r\n      {\r\n        dataField: \"mesh\",\r\n        text: \"Bluetooth mesh\",\r\n        formatter: (cellContent, row) => {\r\n          const result = row.result.length\r\n            ? Array.from(row.result).join(\",\")\r\n            : \"\";\r\n          return result.includes(\"mesh\") ? (\r\n            <span>Connection problem</span>\r\n          ) : (\r\n            <span>OK</span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        dataField: \"clicked\",\r\n        text: \"\",\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"actions\",\r\n        text: \"\",\r\n        align: \"center\",\r\n        editable: false,\r\n        formatter: (cellContent, row) => {\r\n          var disabled = false;\r\n          if (row.powercut > 0 || row.clicked > 0) disabled = true;\r\n          if (this.state.testData.cut_all_clicked === 1) disabled = true;\r\n          return (\r\n            <Button\r\n              color=\"primary\"\r\n              disabled={disabled}\r\n              onClick={() => {\r\n                this.cutPowerSingle(row.id);\r\n              }}\r\n            >\r\n              Start em test\r\n            </Button>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    trialTests: [],\r\n  };\r\n\r\n  testInfo = (user) => {\r\n    this.timer = setInterval(() => {\r\n      if (this.state.testFinished === true)\r\n        setTimeout(() => {\r\n          clearInterval(this.timer);\r\n        }, 2000);\r\n\r\n      if (global.intervalCheck === true) {\r\n        axios({\r\n          //Axios GET request\r\n          method: \"get\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          url: global.BASE_URL + \"/mqtt/testinfo/\" + user,\r\n        }).then((res) => {\r\n          if (res.data.length > 0) {\r\n            this.setState({\r\n              testid: res.data[1].test_id,\r\n              testData: res.data[1],\r\n            });\r\n\r\n            this.setState(\r\n              {\r\n                liveDevices: res.data[1].devices,\r\n              },\r\n              () => {\r\n                var userInput = this.state.liveDevices.every((el) => {\r\n                  if (el.powercut > 0 || !this.state.finishClicked) {\r\n                    return true;\r\n                  } else return false;\r\n                });\r\n\r\n                if (!this.state.testData.finish_clicked === 0)\r\n                  this.setState({ finishClicked: false });\r\n\r\n                if (\r\n                  !userInput ||\r\n                  (this.state.testData.finish_clicked === 1 &&\r\n                    this.state.finishClicked)\r\n                ) {\r\n                  this.setState({ disabledFinish: true });\r\n                } else this.setState({ disabledFinish: false });\r\n\r\n                if (this.state.testData.abort_clicked === 1) {\r\n                  this.setState({ disabledAbort: true });\r\n                } else if (\r\n                  this.state.testData.abort_clicked === 0 &&\r\n                  !this.state.abortClicked\r\n                ) {\r\n                  this.setState({ disabledAbort: false });\r\n                }\r\n\r\n                if (this.state.testData.cut_all_clicked === 1) {\r\n                  this.setState({ disabledStartAll: true });\r\n                } else\r\n                  this.setState({\r\n                    disabledStartAll: false,\r\n                    clickedStartAll: false,\r\n                  });\r\n              }\r\n            );\r\n          } else this.setState({ liveDevices: [] });\r\n        });\r\n      } else clearInterval(this.timer);\r\n    }, 1000);\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n\r\n    axios({\r\n      //Axios GET request\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/testinfo/\" + user,\r\n    }).then((res) => {\r\n      if (res.data.length) {\r\n        console.log(res.data[0].hasAccess, res.data[0].isTest, res.data[1]);\r\n        if (res.data[0].hasAccess && !res.data[0].isTest) {\r\n          this.setState({ step: 1 });\r\n        }\r\n        if (res.data[0].hasAccess && res.data[0].isTest) {\r\n          this.setState({ step: 3 });\r\n          this.testInfo(user);\r\n        }\r\n        if (!res.data[0].hasAccess && res.data[0].isTest) {\r\n          this.setState({ step: 20 });\r\n        }\r\n        if (res.data) {\r\n          if (res.data[1].length > 0) {\r\n            console.log(res.data[1].test_id);\r\n            this.setState({\r\n              testid: res.data[1].test_id,\r\n            });\r\n          }\r\n          this.setState({\r\n            testCounter: res.data.testCounter,\r\n            liveDevices: res.data[1].devices,\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    axios({\r\n      //Axios GET request\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/trialtests/usr/\" + user,\r\n    }).then((res) => {\r\n      this.setState({\r\n        trialTests: res.data,\r\n      });\r\n    });\r\n\r\n    axios({\r\n      //Axios GET request\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/lights/\" + user,\r\n    }).then((res) => {\r\n      this.setState({ devices: res.data }, () => this.callSites());\r\n    });\r\n  }\r\n\r\n  handleStart = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/trialteststart/\" + user,\r\n      data: {\r\n        //data object sent in request's body\r\n        message: this.state.step,\r\n        devices: this.state.selectedDevices,\r\n        user: user,\r\n        test_type: this.state.testType,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        this.setState(\r\n          {\r\n            message: res.data,\r\n            step: 3,\r\n            disabledBackBtn: true,\r\n            testFinished: false,\r\n          },\r\n          () => {\r\n            this.testInfo(user);\r\n          }\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        alert(err.response.data);\r\n        this.setState({ errorMessage: err.response.data });\r\n      });\r\n\r\n    // .catch((error) => {\r\n    //   console.log(error.response);\r\n    //   this.setState({ errorMessage: error.response.data });\r\n    // });\r\n  };\r\n\r\n  cutPowerSingle = (device) => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/cutpowersingle\",\r\n      data: {\r\n        //data object sent in request's body\r\n        device: device,\r\n        topic: this.state.liveDevices[0].mqtt_topic,\r\n        user: user,\r\n      },\r\n      timeout: 0,\r\n    })\r\n      .then((res) => {\r\n        this.setState({ message: res.data, step: 3 });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        this.setState({ errorMessage: error.response.data });\r\n      });\r\n  };\r\n\r\n  cutPowerAll = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n    this.setState({\r\n      disabledStartAll: true,\r\n      clickedStartAll: true,\r\n    });\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/cutpowerall\",\r\n      data: {\r\n        //data object sent in request's body\r\n        message: this.state.step,\r\n        devices: this.state.selectedDevices,\r\n        user: user,\r\n        topic: this.state.liveDevices[0].mqtt_topic,\r\n      },\r\n      timeout: 0,\r\n    })\r\n      .then((res) => {\r\n        this.setState({ step: 3 });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        this.setState({ errorMessage: error.response.data });\r\n      });\r\n  };\r\n\r\n  userInput = (deviceId, input) => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/userinput/\" + deviceId,\r\n      data: {\r\n        //data object sent in request's body\r\n        userInput: input,\r\n        user: user,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        this.setState({ errorMessage: error.response.data });\r\n      });\r\n  };\r\n\r\n  saveTest = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n    this.setState({\r\n      message: \"Saving...\",\r\n      disabledFinish: true,\r\n      finishClicked: true,\r\n      abortClicked: true,\r\n    });\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/mqtt/savetest/\" + this.state.testid,\r\n      timeout: 0,\r\n      data: { user: user, topic: this.state.liveDevices[0].mqtt_topic },\r\n    })\r\n      .then((res) => {\r\n        this.setState({ message: res.data, step: 4, disabledBackBtn: false });\r\n        this.setState({ selectedDevicesLive: [], selectedDevices: [] });\r\n        axios({\r\n          //Axios GET request\r\n          method: \"get\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n          url: global.BASE_URL + \"/api/trialtests/usr/\" + user,\r\n        }).then((res) => {\r\n          this.setState({\r\n            trialTests: res.data,\r\n            testFinished: true,\r\n            clickedStartAll: false,\r\n            disabledStartAll: false,\r\n            finishClicked: false,\r\n            abortClicked: false,\r\n          });\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        this.setState({ errorMessage: error.response.data });\r\n      });\r\n  };\r\n\r\n  abortTest = () => {\r\n    if (window.confirm(\"Are you sure you want to abort?\")) {\r\n      const token = localStorage.usertoken;\r\n      const decoded = jwt_decode(token);\r\n      const user = decoded.id;\r\n      this.setState({\r\n        message: \"Cancelling...\",\r\n        disabledFinish: true,\r\n        finishClicked: true,\r\n        disabledAbort: true,\r\n        abortClicked: true,\r\n      });\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/aborttest/\" + this.state.testid,\r\n        timeout: 0,\r\n        data: { user: user, topic: this.state.liveDevices[0].mqtt_topic },\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.setState({ selectedDevicesLive: [], selectedDevices: [] });\r\n          axios({\r\n            //Axios GET request\r\n            method: \"get\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json;charset=UTF-8\",\r\n              Authorization: \"Bearer \" + localStorage.usertoken,\r\n            },\r\n            url: global.BASE_URL + \"/api/trialtests/usr/\" + user,\r\n          }).then((res) => {\r\n            this.setState({\r\n              trialTests: res.data,\r\n              testFinished: true,\r\n            });\r\n          });\r\n          this.setState({ message: res.data, step: 4, disabledBackBtn: false });\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response);\r\n          this.setState({ errorMessage: error.response.data });\r\n        });\r\n    }\r\n  };\r\n\r\n  goToStepTwo = () => {\r\n    if (this.state.selectedDevices.length) {\r\n      this.setState({ step: 2, errorMessage: \"\", disabledBackBtn: false });\r\n    } else alert(\"You have to select devices to proceed\");\r\n  };\r\n\r\n  handleSelect = (event) => {\r\n    this.setState(\r\n      {\r\n        selectedAction: event.target.value,\r\n      },\r\n      () => {\r\n        if (this.state.selectedAction !== \"\") {\r\n          this.setState({ disabledApply: false });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  callSites = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const usersId = decoded.id;\r\n\r\n    axios\r\n      .get(global.BASE_URL + \"/api/sites/\" + usersId, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.length) {\r\n          this.setState(\r\n            {\r\n              sites: response.data,\r\n              clickedSite: response.data[0].sites_id,\r\n              siteName: response.data[0].name,\r\n            },\r\n            () => {\r\n              this.setState({\r\n                devicesFiltered: this.state.devices.filter((light) => {\r\n                  if (light.sites_id === this.state.sites[0].sites_id) {\r\n                    return light;\r\n                  } else {\r\n                    return null;\r\n                  }\r\n                }),\r\n              });\r\n            }\r\n          );\r\n        }\r\n      });\r\n  };\r\n\r\n  handleChangeSite = (event, site) => {\r\n    if (this.state.sites.find((x) => x.sites_id === site)) {\r\n      setTimeout(() => {\r\n        this.setState({ step: 1 });\r\n      }, 1);\r\n      this.setState({\r\n        step: 50,\r\n        selectedDevices: [],\r\n        siteName: this.state.sites.find((x) => x.sites_id === site).name,\r\n        clickedSite: site,\r\n        devicesFiltered: this.state.devices.filter((light) => {\r\n          if (light.sites_id === site) {\r\n            return light;\r\n          } else {\r\n            return null;\r\n          }\r\n        }),\r\n      });\r\n    }\r\n  };\r\n\r\n  handleChangeType = (e) => {\r\n    this.setState({ testType: e.target.value });\r\n  };\r\n\r\n  handleSelectAction = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n    if (this.state.selectedDevicesLive.length > 0) {\r\n      axios({\r\n        //Axios POST request\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        url: global.BASE_URL + \"/mqtt/setchecked\",\r\n        data: {\r\n          devices: this.state.selectedDevicesLive,\r\n          value: this.state.selectedAction,\r\n          user: user,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.setState({ selectedDevicesLive: [] });\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response);\r\n          this.setState({ errorMessage: error.response.data });\r\n        });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.timer);\r\n  }\r\n\r\n  clearSelected = () => {\r\n    this.setState({ selectedDevices: [] });\r\n  };\r\n\r\n  render() {\r\n    const selectRow = {\r\n      mode: \"checkbox\",\r\n      clickToSelect: true,\r\n      onSelect: (row, isSelect, rowIndex, e) => {\r\n        if (isSelect) {\r\n          this.setState((prevState) => ({\r\n            selectedDevices: [...prevState.selectedDevices, row],\r\n          }));\r\n        }\r\n        if (!isSelect) {\r\n          this.setState({\r\n            selectedDevices: this.state.selectedDevices.filter((el) => {\r\n              if (el.id !== row.id) {\r\n                return el;\r\n              } else return null;\r\n            }),\r\n          });\r\n        }\r\n      },\r\n      onSelectAll: (isSelect, rows, e) => {\r\n        if (isSelect) {\r\n          this.setState({ selectedDevices: rows });\r\n        }\r\n        if (!isSelect) {\r\n          this.setState({ selectedDevices: [] });\r\n        }\r\n      },\r\n    };\r\n\r\n    const selectRowLiveDevices = {\r\n      mode: \"checkbox\",\r\n      clickToSelect: true,\r\n      clickToEdit: true,\r\n      onSelect: (row, isSelect, rowIndex) => {\r\n        if (isSelect) {\r\n          this.setState((prevState) => ({\r\n            selectedDevicesLive: [...prevState.selectedDevicesLive, row],\r\n          }));\r\n        }\r\n        if (!isSelect) {\r\n          this.setState({\r\n            selectedDevicesLive: this.state.selectedDevicesLive.filter((el) => {\r\n              if (el.id !== row.id) {\r\n                return el;\r\n              } else return null;\r\n            }),\r\n          });\r\n        }\r\n      },\r\n      onSelectAll: (isSelect, rows, e) => {\r\n        if (isSelect) {\r\n          this.setState({ selectedDevicesLive: rows });\r\n        }\r\n        if (!isSelect) {\r\n          this.setState({ selectedDevicesLive: [] });\r\n        }\r\n      },\r\n    };\r\n\r\n    const rowStyle = (row, rowIndex) => {\r\n      const style = {};\r\n      if (row.powercut === 3) {\r\n        style.backgroundColor = \"salmon\";\r\n      }\r\n      if (row.powercut === 1) {\r\n        style.backgroundColor = \"lightblue\";\r\n      }\r\n      if (row.duration === 0) {\r\n        style.backgroundColor = \"lightgreen\";\r\n      }\r\n      return style;\r\n    };\r\n\r\n    // const options = {\r\n    //   sizePerPageList: [\r\n    //     {\r\n    //       text: \"5\",\r\n    //       value: 5,\r\n    //     },\r\n    //     {\r\n    //       text: \"10\",\r\n    //       value: 10,\r\n    //     },\r\n    //     {\r\n    //       text: \"All\",\r\n    //       value: this.state.devices.length,\r\n    //     },\r\n    //   ],\r\n    // };\r\n\r\n    const optionsSelected = {\r\n      sizePerPageList: [\r\n        {\r\n          text: \"5\",\r\n          value: 5,\r\n        },\r\n        {\r\n          text: \"10\",\r\n          value: 10,\r\n        },\r\n        {\r\n          text: \"All\",\r\n          value: this.state.selectedDevices.length,\r\n        },\r\n      ],\r\n    };\r\n\r\n    const afterSaveCell = (oldValue, newValue, row, column) => {\r\n      console.log(row.id, newValue);\r\n      this.userInput(row.id, newValue);\r\n    };\r\n\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <GridContainer justify=\"center\">\r\n          <GridItem xs={6} md={10}>\r\n            {this.state.sites && this.state.step !== 3 ? (\r\n              <Tabs\r\n                value={this.state.clickedSite}\r\n                onChange={this.handleChangeSite}\r\n                indicatorColor=\"primary\"\r\n                textColor=\"primary\"\r\n                style={{\r\n                  border: \"1pt solid lightgrey\",\r\n                  borderRadius: \"2pt\",\r\n                }}\r\n                centered\r\n              >\r\n                {this.state.sites.map((a, index) => (\r\n                  <Tab key={index} value={a.sites_id} label={a.name} />\r\n                ))}\r\n              </Tabs>\r\n            ) : null}\r\n          </GridItem>\r\n        </GridContainer>\r\n        {this.state.step === 1 ? (\r\n          <Fab\r\n            style={{ marginBottom: \"15px\" }}\r\n            onClick={() => {\r\n              this.setState({ step: this.state.step - 1 });\r\n              if (this.state.step < 3) this.setState({ selectedDevices: [] });\r\n            }}\r\n            disabled={true}\r\n          >\r\n            <Icon style={{ transform: \"rotate(-90deg)\" }}>navigation</Icon>\r\n          </Fab>\r\n        ) : null}\r\n        {this.state.step !== 1 && this.state.step !== 20 ? (\r\n          <Fab\r\n            color=\"primary\"\r\n            disabled={this.state.disabledBackBtn}\r\n            onClick={() => {\r\n              this.setState({ step: this.state.step - 1 });\r\n              if (this.state.step < 3) this.setState({ selectedDevices: [] });\r\n              if (this.state.step === 4) this.setState({ step: 1 });\r\n            }}\r\n          >\r\n            <Icon style={{ transform: \"rotate(-90deg)\" }}>navigation</Icon>\r\n          </Fab>\r\n        ) : null}\r\n        {/* Step 1 - choose devices */}\r\n        {this.state.step === 1 ? (\r\n          <div>\r\n            <ChooseType\r\n              handleChange={this.handleChangeType}\r\n              value={this.state.testType}\r\n            />\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Select devices\r\n            </Typography>\r\n            <BootstrapTable\r\n              noDataIndication={\"no results found\"}\r\n              bordered={true}\r\n              hover\r\n              keyField=\"id\"\r\n              data={this.state.devicesFiltered}\r\n              columns={this.state.deviceColumns}\r\n              selectRow={selectRow}\r\n            />\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{ float: \"right\" }}\r\n              onClick={this.goToStepTwo}\r\n            >\r\n              Next\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n        {/* step 2 - show devices selected */}\r\n        {this.state.step === 2 ? (\r\n          <div>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              {this.state.errorMessage}\r\n            </Typography>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              Devices selected\r\n            </Typography>\r\n            <BootstrapTable\r\n              noDataIndication={\"no results found\"}\r\n              bordered={true}\r\n              hover\r\n              keyField=\"id\"\r\n              data={this.state.selectedDevices}\r\n              columns={this.state.selectedDevicesCols}\r\n              pagination={paginationFactory(optionsSelected)}\r\n            />\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{ float: \"right\" }}\r\n              onClick={this.handleStart}\r\n            >\r\n              start\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n        {/* step 3 - live devices and interface to start the test */}\r\n        {this.state.step === 3 ? (\r\n          <div>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              {this.state.message}\r\n            </Typography>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              {this.state.errorMessage}\r\n            </Typography>\r\n\r\n            <div style={{ float: \"right\" }}>\r\n              <Button\r\n                disabled={this.state.disabledStartAll}\r\n                color=\"primary\"\r\n                onClick={this.cutPowerAll}\r\n              >\r\n                Start EM test\r\n              </Button>\r\n              <Button\r\n                color=\"primary\"\r\n                disabled={this.state.disabledFinish}\r\n                onClick={this.saveTest}\r\n              >\r\n                finish & save\r\n              </Button>\r\n              <Button\r\n                color=\"secondary\"\r\n                disabled={this.state.disabledAbort}\r\n                onClick={this.abortTest}\r\n              >\r\n                Abort\r\n              </Button>\r\n            </div>\r\n            <BootstrapTable\r\n              noDataIndication={() => <NoDataIndication />}\r\n              bordered={true}\r\n              hover\r\n              keyField=\"id\"\r\n              data={this.state.liveDevices}\r\n              columns={this.state.testColumns}\r\n              rowStyle={rowStyle}\r\n              selectRow={selectRowLiveDevices}\r\n              cellEdit={cellEditFactory({\r\n                mode: \"click\",\r\n                afterSaveCell: afterSaveCell,\r\n                blurToSave: true,\r\n              })}\r\n            />\r\n            {/* <InputLabel>Actions</InputLabel>\r\n            <Select\r\n              style={{ minWidth: \"200px\" }}\r\n              onChange={this.handleSelect}\r\n              value={this.state.selectedAction}\r\n            >\r\n              <MenuItem value={\"OK\"}>Set 'Device OK'</MenuItem>\r\n              <MenuItem value={\"No response from BT module\"}>\r\n                Set 'No response from bt'\r\n              </MenuItem>\r\n              <MenuItem value={\"Lamp Fault\"}>Set 'Lamp fault'</MenuItem>\r\n              <MenuItem value={\"Battery Fault\"}>Set 'Battery fault'</MenuItem>\r\n            </Select> */}\r\n            <Button\r\n              disabled={this.state.disabledApply}\r\n              color=\"primary\"\r\n              onClick={this.handleSelectAction}\r\n            >\r\n              Apply\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n        {this.state.step === 4 ? (\r\n          <div>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              {this.state.message}\r\n            </Typography>\r\n            <TrialTestsTable\r\n              justFinishedTest={true}\r\n              lastTest={this.state.testid}\r\n              tests={this.state.trialTests}\r\n            />\r\n          </div>\r\n        ) : null}\r\n        {this.state.step === 20 ? (\r\n          <Typography variant=\"h4\" gutterBottom>\r\n            Site test in progress. Please come back later.\r\n          </Typography>\r\n        ) : null}\r\n        {this.state.step !== 1 && this.state.step !== 20 ? (\r\n          <div className={classes.container}>\r\n            {this.state.liveDevices.length > 0 ? (\r\n              <LiveFloorplanWrapper liveDevices={this.state.liveDevices} />\r\n            ) : null}\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(TrialTest);\r\n","import React from \"react\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\n\r\nexport default function RadioButtonsGroup(props) {\r\n  return (\r\n    <FormControl component=\"fieldset\">\r\n      <FormLabel component=\"legend\">Test type</FormLabel>\r\n      <RadioGroup\r\n        aria-label=\"type\"\r\n        name=\"type\"\r\n        value={props.value}\r\n        onChange={props.handleChange}\r\n      >\r\n        <FormControlLabel value=\"Monthly\" control={<Radio />} label=\"Monthly\" />\r\n        <FormControlLabel value=\"Annual\" control={<Radio />} label=\"Annual\" />\r\n      </RadioGroup>\r\n    </FormControl>\r\n  );\r\n}\r\n","// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport styles from \"assets/jss/material-dashboard-react/layouts/adminStyle.js\";\r\nimport Footer from \"components/Footer/Footer.js\";\r\nimport UserNavbar from \"components/Users/UserNavbar\";\r\nimport React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport routes from \"routes.js\";\r\n\r\nconst switchRoutes = (\r\n  <Switch>\r\n    {routes.map((prop, key) => {\r\n      if (prop.layout === \"/guest\") {\r\n        return (\r\n          <Route\r\n            path={prop.layout + prop.path}\r\n            component={prop.component}\r\n            key={key}\r\n          />\r\n        );\r\n      }\r\n      return null;\r\n    })}\r\n    <Redirect from=\"/guest\" to=\"/guest/login\" />\r\n  </Switch>\r\n);\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function Guest({ ...rest }) {\r\n  // styles\r\n  const classes = useStyles();\r\n  // ref to help us initialize PerfectScrollbar on windows devices\r\n  const mainPanel = React.createRef();\r\n  // states and functions\r\n\r\n  const getRoute = () => {\r\n    return window.location.pathname !== \"/guest/maps\";\r\n  };\r\n\r\n  // initialize and destroy the PerfectScrollbar plugin\r\n\r\n  return (\r\n    <div ref={mainPanel}>\r\n      <UserNavbar />\r\n      {/* On the /maps route we want the map to be on full screen - this is not possible if the content and conatiner classes are present because they have some paddings which would make the map smaller */}\r\n      {getRoute() ? (\r\n        <div className={classes.content}>\r\n          <div className={classes.container}>{switchRoutes}</div>\r\n        </div>\r\n      ) : (\r\n        <div className={classes.map}>{switchRoutes}</div>\r\n      )}\r\n      {getRoute() ? <Footer /> : null}\r\n    </div>\r\n  );\r\n}\r\n","// @material-ui/core components\r\n// import { makeStyles } from \"@material-ui/core/styles\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\n// core components\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nexport default function Developer(props) {\r\n  // const classes = useStyles();\r\n\r\n  setTimeout(() => {\r\n    props.history.push(\"/admin/dashboard\");\r\n  }, 4000);\r\n  return (\r\n    <div>\r\n      <GridContainer justify=\"center\">\r\n        <GridItem xs={12} sm={12} md={12}>\r\n          <div style={{ margin: \"30px\" }}>\r\n            <h2>No access/timed out</h2>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{ fontSize: \"em\" }}\r\n              onClick={() => props.history.push(\"/admin/dashboard\")}\r\n            >\r\n              Continue\r\n            </Button>\r\n          </div>\r\n        </GridItem>\r\n      </GridContainer>\r\n    </div>\r\n  );\r\n}\r\n","import {\r\n  primaryColor,\r\n  whiteColor,\r\n  primaryBoxShadow,\r\n  defaultFont,\r\n  blackColor,\r\n  grayColor,\r\n  hexToRgb\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst dropdownStyle = theme => ({\r\n  buttonLink: {\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      display: \"flex\",\r\n      marginLeft: \"30px\",\r\n      width: \"auto\"\r\n    }\r\n  },\r\n  links: {\r\n    width: \"20px\",\r\n    height: \"20px\",\r\n    zIndex: \"4\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      display: \"block\",\r\n      width: \"30px\",\r\n      height: \"30px\",\r\n      color: grayColor[9],\r\n      marginRight: \"15px\"\r\n    }\r\n  },\r\n  linkText: {\r\n    zIndex: \"4\",\r\n    ...defaultFont,\r\n    fontSize: \"14px\"\r\n  },\r\n  popperClose: {\r\n    pointerEvents: \"none\"\r\n  },\r\n  pooperResponsive: {\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      zIndex: \"1640\",\r\n      position: \"static\",\r\n      float: \"none\",\r\n      width: \"auto\",\r\n      marginTop: \"0\",\r\n      backgroundColor: \"transparent\",\r\n      border: \"0\",\r\n      WebkitBoxShadow: \"none\",\r\n      boxShadow: \"none\",\r\n      color: \"black\"\r\n    }\r\n  },\r\n  popperNav: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      position: \"static !important\",\r\n      left: \"unset !important\",\r\n      top: \"unset !important\",\r\n      transform: \"none !important\",\r\n      willChange: \"unset !important\",\r\n      \"& > div\": {\r\n        boxShadow: \"none !important\",\r\n        marginLeft: \"0rem\",\r\n        marginRight: \"0rem\",\r\n        transition: \"none !important\",\r\n        marginTop: \"0px !important\",\r\n        marginBottom: \"0px !important\",\r\n        padding: \"0px !important\",\r\n        backgroundColor: \"transparent !important\",\r\n        \"& ul li\": {\r\n          color: whiteColor + \" !important\",\r\n          margin: \"10px 15px 0!important\",\r\n          padding: \"10px 15px !important\",\r\n          \"&:hover\": {\r\n            backgroundColor: \"hsla(0,0%,78%,.2)\",\r\n            boxShadow: \"none\"\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  dropdown: {\r\n    borderRadius: \"3px\",\r\n    border: \"0\",\r\n    boxShadow: \"0 2px 5px 0 rgba(\" + hexToRgb(blackColor) + \", 0.26)\",\r\n    top: \"100%\",\r\n    zIndex: \"1000\",\r\n    minWidth: \"160px\",\r\n    padding: \"5px 0\",\r\n    margin: \"2px 0 0\",\r\n    fontSize: \"14px\",\r\n    textAlign: \"left\",\r\n    listStyle: \"none\",\r\n    backgroundColor: whiteColor,\r\n    WebkitBackgroundClip: \"padding-box\",\r\n    backgroundClip: \"padding-box\"\r\n  },\r\n  dropdownItem: {\r\n    ...defaultFont,\r\n    fontSize: \"13px\",\r\n    padding: \"10px 20px\",\r\n    margin: \"0 5px\",\r\n    borderRadius: \"2px\",\r\n    WebkitTransition: \"all 150ms linear\",\r\n    MozTransition: \"all 150ms linear\",\r\n    OTransition: \"all 150ms linear\",\r\n    MsTransition: \"all 150ms linear\",\r\n    transition: \"all 150ms linear\",\r\n    display: \"block\",\r\n    clear: \"both\",\r\n    fontWeight: \"400\",\r\n    lineHeight: \"1.42857143\",\r\n    color: grayColor[8],\r\n    whiteSpace: \"nowrap\",\r\n    height: \"unset\",\r\n    minHeight: \"unset\",\r\n    \"&:hover\": {\r\n      backgroundColor: primaryColor[0],\r\n      color: whiteColor,\r\n      ...primaryBoxShadow\r\n    }\r\n  }\r\n});\r\n\r\nexport default dropdownStyle;\r\n","import {\r\n  defaultFont,\r\n  dangerColor,\r\n  whiteColor\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nimport dropdownStyle from \"assets/jss/material-dashboard-react/dropdownStyle.js\";\r\n\r\nconst headerLinksStyle = theme => ({\r\n  ...dropdownStyle(theme),\r\n  search: {\r\n    \"& > div\": {\r\n      marginTop: \"0\"\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      margin: \"10px 15px !important\",\r\n      float: \"none !important\",\r\n      paddingTop: \"1px\",\r\n      paddingBottom: \"1px\",\r\n      padding: \"0!important\",\r\n      width: \"60%\",\r\n      marginTop: \"40px\",\r\n      \"& input\": {\r\n        color: whiteColor\r\n      }\r\n    }\r\n  },\r\n  linkText: {\r\n    zIndex: \"4\",\r\n    ...defaultFont,\r\n    fontSize: \"14px\",\r\n    margin: \"0px\"\r\n  },\r\n  buttonLink: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"flex\",\r\n      margin: \"10px 15px 0\",\r\n      width: \"-webkit-fill-available\",\r\n      \"& svg\": {\r\n        width: \"24px\",\r\n        height: \"30px\",\r\n        marginRight: \"15px\",\r\n        marginLeft: \"-15px\"\r\n      },\r\n      \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\r\n        fontSize: \"24px\",\r\n        lineHeight: \"30px\",\r\n        width: \"24px\",\r\n        height: \"30px\",\r\n        marginRight: \"15px\",\r\n        marginLeft: \"-15px\"\r\n      },\r\n      \"& > span\": {\r\n        justifyContent: \"flex-start\",\r\n        width: \"100%\"\r\n      }\r\n    }\r\n  },\r\n  searchButton: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      top: \"-50px !important\",\r\n      marginRight: \"22px\",\r\n      float: \"right\"\r\n    }\r\n  },\r\n  margin: {\r\n    zIndex: \"4\",\r\n    margin: \"0\"\r\n  },\r\n  searchIcon: {\r\n    width: \"17px\",\r\n    zIndex: \"4\"\r\n  },\r\n  notifications: {\r\n    zIndex: \"4\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      position: \"absolute\",\r\n      top: \"2px\",\r\n      border: \"1px solid \" + whiteColor,\r\n      right: \"4px\",\r\n      fontSize: \"9px\",\r\n      background: dangerColor[0],\r\n      color: whiteColor,\r\n      minWidth: \"16px\",\r\n      height: \"16px\",\r\n      borderRadius: \"10px\",\r\n      textAlign: \"center\",\r\n      lineHeight: \"16px\",\r\n      verticalAlign: \"middle\",\r\n      display: \"block\"\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      ...defaultFont,\r\n      fontSize: \"14px\",\r\n      marginRight: \"8px\"\r\n    }\r\n  },\r\n  manager: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\"\r\n    },\r\n    display: \"inline-block\"\r\n  },\r\n  searchWrapper: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"-webkit-fill-available\",\r\n      margin: \"10px 15px 0\"\r\n    },\r\n    display: \"inline-block\"\r\n  }\r\n});\r\n\r\nexport default headerLinksStyle;\r\n","import {\r\n  grayColor,\r\n  primaryColor,\r\n  infoColor,\r\n  successColor,\r\n  warningColor,\r\n  dangerColor,\r\n  roseColor,\r\n  whiteColor,\r\n  blackColor,\r\n  hexToRgb\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst buttonStyle = {\r\n  button: {\r\n    minHeight: \"auto\",\r\n    minWidth: \"auto\",\r\n    backgroundColor: grayColor[0],\r\n    color: whiteColor,\r\n    boxShadow:\r\n      \"0 2px 2px 0 rgba(\" +\r\n      hexToRgb(grayColor[0]) +\r\n      \", 0.14), 0 3px 1px -2px rgba(\" +\r\n      hexToRgb(grayColor[0]) +\r\n      \", 0.2), 0 1px 5px 0 rgba(\" +\r\n      hexToRgb(grayColor[0]) +\r\n      \", 0.12)\",\r\n    border: \"none\",\r\n    borderRadius: \"3px\",\r\n    position: \"relative\",\r\n    padding: \"12px 30px\",\r\n    margin: \".3125rem 1px\",\r\n    fontSize: \"12px\",\r\n    fontWeight: \"400\",\r\n    textTransform: \"uppercase\",\r\n    letterSpacing: \"0\",\r\n    willChange: \"box-shadow, transform\",\r\n    transition:\r\n      \"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)\",\r\n    lineHeight: \"1.42857143\",\r\n    textAlign: \"center\",\r\n    whiteSpace: \"nowrap\",\r\n    verticalAlign: \"middle\",\r\n    touchAction: \"manipulation\",\r\n    cursor: \"pointer\",\r\n    \"&:hover,&:focus\": {\r\n      color: whiteColor,\r\n      backgroundColor: grayColor[0],\r\n      boxShadow:\r\n        \"0 14px 26px -12px rgba(\" +\r\n        hexToRgb(grayColor[0]) +\r\n        \", 0.42), 0 4px 23px 0px rgba(\" +\r\n        hexToRgb(blackColor) +\r\n        \", 0.12), 0 8px 10px -5px rgba(\" +\r\n        hexToRgb(grayColor[0]) +\r\n        \", 0.2)\"\r\n    },\r\n    \"& .fab,& .fas,& .far,& .fal, &.material-icons\": {\r\n      position: \"relative\",\r\n      display: \"inline-block\",\r\n      top: \"0\",\r\n      marginTop: \"-1em\",\r\n      marginBottom: \"-1em\",\r\n      fontSize: \"1.1rem\",\r\n      marginRight: \"4px\",\r\n      verticalAlign: \"middle\"\r\n    },\r\n    \"& svg\": {\r\n      position: \"relative\",\r\n      display: \"inline-block\",\r\n      top: \"0\",\r\n      width: \"18px\",\r\n      height: \"18px\",\r\n      marginRight: \"4px\",\r\n      verticalAlign: \"middle\"\r\n    },\r\n    \"&$justIcon\": {\r\n      \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\r\n        marginTop: \"0px\",\r\n        position: \"absolute\",\r\n        width: \"100%\",\r\n        transform: \"none\",\r\n        left: \"0px\",\r\n        top: \"0px\",\r\n        height: \"100%\",\r\n        lineHeight: \"41px\",\r\n        fontSize: \"20px\"\r\n      }\r\n    }\r\n  },\r\n  white: {\r\n    \"&,&:focus,&:hover\": {\r\n      backgroundColor: whiteColor,\r\n      color: grayColor[0]\r\n    }\r\n  },\r\n  rose: {\r\n    backgroundColor: roseColor[0],\r\n    boxShadow:\r\n      \"0 2px 2px 0 rgba(\" +\r\n      hexToRgb(roseColor[0]) +\r\n      \", 0.14), 0 3px 1px -2px rgba(\" +\r\n      hexToRgb(roseColor[0]) +\r\n      \", 0.2), 0 1px 5px 0 rgba(\" +\r\n      hexToRgb(roseColor[0]) +\r\n      \", 0.12)\",\r\n    \"&:hover,&:focus\": {\r\n      backgroundColor: roseColor[0],\r\n      boxShadow:\r\n        \"0 14px 26px -12px rgba(\" +\r\n        hexToRgb(roseColor[0]) +\r\n        \", 0.42), 0 4px 23px 0px rgba(\" +\r\n        hexToRgb(blackColor) +\r\n        \", 0.12), 0 8px 10px -5px rgba(\" +\r\n        hexToRgb(roseColor[0]) +\r\n        \", 0.2)\"\r\n    }\r\n  },\r\n  primary: {\r\n    backgroundColor: primaryColor[0],\r\n    boxShadow:\r\n      \"0 2px 2px 0 rgba(\" +\r\n      hexToRgb(primaryColor[0]) +\r\n      \", 0.14), 0 3px 1px -2px rgba(\" +\r\n      hexToRgb(primaryColor[0]) +\r\n      \", 0.2), 0 1px 5px 0 rgba(\" +\r\n      hexToRgb(primaryColor[0]) +\r\n      \", 0.12)\",\r\n    \"&:hover,&:focus\": {\r\n      backgroundColor: primaryColor[0],\r\n      boxShadow:\r\n        \"0 14px 26px -12px rgba(\" +\r\n        hexToRgb(primaryColor[0]) +\r\n        \", 0.42), 0 4px 23px 0px rgba(\" +\r\n        hexToRgb(blackColor) +\r\n        \", 0.12), 0 8px 10px -5px rgba(\" +\r\n        hexToRgb(primaryColor[0]) +\r\n        \", 0.2)\"\r\n    }\r\n  },\r\n  info: {\r\n    backgroundColor: infoColor[0],\r\n    boxShadow:\r\n      \"0 2px 2px 0 rgba(\" +\r\n      hexToRgb(infoColor[0]) +\r\n      \", 0.14), 0 3px 1px -2px rgba(\" +\r\n      hexToRgb(infoColor[0]) +\r\n      \", 0.2), 0 1px 5px 0 rgba(\" +\r\n      hexToRgb(infoColor[0]) +\r\n      \", 0.12)\",\r\n    \"&:hover,&:focus\": {\r\n      backgroundColor: infoColor[0],\r\n      boxShadow:\r\n        \"0 14px 26px -12px rgba(\" +\r\n        hexToRgb(infoColor[0]) +\r\n        \", 0.42), 0 4px 23px 0px rgba(\" +\r\n        hexToRgb(blackColor) +\r\n        \", 0.12), 0 8px 10px -5px rgba(\" +\r\n        hexToRgb(infoColor[0]) +\r\n        \", 0.2)\"\r\n    }\r\n  },\r\n  success: {\r\n    backgroundColor: successColor[0],\r\n    boxShadow:\r\n      \"0 2px 2px 0 rgba(\" +\r\n      hexToRgb(successColor[0]) +\r\n      \", 0.14), 0 3px 1px -2px rgba(\" +\r\n      hexToRgb(successColor[0]) +\r\n      \", 0.2), 0 1px 5px 0 rgba(\" +\r\n      hexToRgb(successColor[0]) +\r\n      \", 0.12)\",\r\n    \"&:hover,&:focus\": {\r\n      backgroundColor: successColor[0],\r\n      boxShadow:\r\n        \"0 14px 26px -12px rgba(\" +\r\n        hexToRgb(successColor[0]) +\r\n        \", 0.42), 0 4px 23px 0px rgba(\" +\r\n        hexToRgb(blackColor) +\r\n        \", 0.12), 0 8px 10px -5px rgba(\" +\r\n        hexToRgb(successColor[0]) +\r\n        \", 0.2)\"\r\n    }\r\n  },\r\n  warning: {\r\n    backgroundColor: warningColor[0],\r\n    boxShadow:\r\n      \"0 2px 2px 0 rgba(\" +\r\n      hexToRgb(warningColor[0]) +\r\n      \", 0.14), 0 3px 1px -2px rgba(\" +\r\n      hexToRgb(warningColor[0]) +\r\n      \", 0.2), 0 1px 5px 0 rgba(\" +\r\n      hexToRgb(warningColor[0]) +\r\n      \", 0.12)\",\r\n    \"&:hover,&:focus\": {\r\n      backgroundColor: warningColor[0],\r\n      boxShadow:\r\n        \"0 14px 26px -12px rgba(\" +\r\n        hexToRgb(warningColor[0]) +\r\n        \", 0.42), 0 4px 23px 0px rgba(\" +\r\n        hexToRgb(blackColor) +\r\n        \", 0.12), 0 8px 10px -5px rgba(\" +\r\n        hexToRgb(warningColor[0]) +\r\n        \", 0.2)\"\r\n    }\r\n  },\r\n  danger: {\r\n    backgroundColor: dangerColor[0],\r\n    boxShadow:\r\n      \"0 2px 2px 0 rgba(\" +\r\n      hexToRgb(dangerColor[0]) +\r\n      \", 0.14), 0 3px 1px -2px rgba(\" +\r\n      hexToRgb(dangerColor[0]) +\r\n      \", 0.2), 0 1px 5px 0 rgba(\" +\r\n      hexToRgb(dangerColor[0]) +\r\n      \", 0.12)\",\r\n    \"&:hover,&:focus\": {\r\n      backgroundColor: dangerColor[0],\r\n      boxShadow:\r\n        \"0 14px 26px -12px rgba(\" +\r\n        hexToRgb(dangerColor[0]) +\r\n        \", 0.42), 0 4px 23px 0px rgba(\" +\r\n        hexToRgb(blackColor) +\r\n        \", 0.12), 0 8px 10px -5px rgba(\" +\r\n        hexToRgb(dangerColor[0]) +\r\n        \", 0.2)\"\r\n    }\r\n  },\r\n  simple: {\r\n    \"&,&:focus,&:hover\": {\r\n      color: whiteColor,\r\n      background: \"transparent\",\r\n      boxShadow: \"none\"\r\n    },\r\n    \"&$rose\": {\r\n      \"&,&:focus,&:hover,&:visited\": {\r\n        color: roseColor[0]\r\n      }\r\n    },\r\n    \"&$primary\": {\r\n      \"&,&:focus,&:hover,&:visited\": {\r\n        color: primaryColor[0]\r\n      }\r\n    },\r\n    \"&$info\": {\r\n      \"&,&:focus,&:hover,&:visited\": {\r\n        color: infoColor[0]\r\n      }\r\n    },\r\n    \"&$success\": {\r\n      \"&,&:focus,&:hover,&:visited\": {\r\n        color: successColor[0]\r\n      }\r\n    },\r\n    \"&$warning\": {\r\n      \"&,&:focus,&:hover,&:visited\": {\r\n        color: warningColor[0]\r\n      }\r\n    },\r\n    \"&$danger\": {\r\n      \"&,&:focus,&:hover,&:visited\": {\r\n        color: dangerColor[0]\r\n      }\r\n    }\r\n  },\r\n  transparent: {\r\n    \"&,&:focus,&:hover\": {\r\n      color: \"inherit\",\r\n      background: \"transparent\",\r\n      boxShadow: \"none\"\r\n    }\r\n  },\r\n  disabled: {\r\n    opacity: \"0.65\",\r\n    pointerEvents: \"none\"\r\n  },\r\n  lg: {\r\n    padding: \"1.125rem 2.25rem\",\r\n    fontSize: \"0.875rem\",\r\n    lineHeight: \"1.333333\",\r\n    borderRadius: \"0.2rem\"\r\n  },\r\n  sm: {\r\n    padding: \"0.40625rem 1.25rem\",\r\n    fontSize: \"0.6875rem\",\r\n    lineHeight: \"1.5\",\r\n    borderRadius: \"0.2rem\"\r\n  },\r\n  round: {\r\n    borderRadius: \"30px\"\r\n  },\r\n  block: {\r\n    width: \"100% !important\"\r\n  },\r\n  link: {\r\n    \"&,&:hover,&:focus\": {\r\n      backgroundColor: \"transparent\",\r\n      color: grayColor[0],\r\n      boxShadow: \"none\"\r\n    }\r\n  },\r\n  justIcon: {\r\n    paddingLeft: \"12px\",\r\n    paddingRight: \"12px\",\r\n    fontSize: \"20px\",\r\n    height: \"41px\",\r\n    minWidth: \"41px\",\r\n    width: \"41px\",\r\n    \"& .fab,& .fas,& .far,& .fal,& svg,& .material-icons\": {\r\n      marginRight: \"0px\"\r\n    },\r\n    \"&$lg\": {\r\n      height: \"57px\",\r\n      minWidth: \"57px\",\r\n      width: \"57px\",\r\n      lineHeight: \"56px\",\r\n      \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\r\n        fontSize: \"32px\",\r\n        lineHeight: \"56px\"\r\n      },\r\n      \"& svg\": {\r\n        width: \"32px\",\r\n        height: \"32px\"\r\n      }\r\n    },\r\n    \"&$sm\": {\r\n      height: \"30px\",\r\n      minWidth: \"30px\",\r\n      width: \"30px\",\r\n      \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\r\n        fontSize: \"17px\",\r\n        lineHeight: \"29px\"\r\n      },\r\n      \"& svg\": {\r\n        width: \"17px\",\r\n        height: \"17px\"\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport default buttonStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n\r\n// material-ui components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport styles from \"assets/jss/material-dashboard-react/components/buttonStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function RegularButton(props) {\r\n  const classes = useStyles();\r\n  const {\r\n    color,\r\n    round,\r\n    children,\r\n    disabled,\r\n    simple,\r\n    size,\r\n    block,\r\n    link,\r\n    justIcon,\r\n    className,\r\n    muiClasses,\r\n    ...rest\r\n  } = props;\r\n  const btnClasses = classNames({\r\n    [classes.button]: true,\r\n    [classes[size]]: size,\r\n    [classes[color]]: color,\r\n    [classes.round]: round,\r\n    [classes.disabled]: disabled,\r\n    [classes.simple]: simple,\r\n    [classes.block]: block,\r\n    [classes.link]: link,\r\n    [classes.justIcon]: justIcon,\r\n    [className]: className\r\n  });\r\n  return (\r\n    <Button {...rest} classes={muiClasses} className={btnClasses}>\r\n      {children}\r\n    </Button>\r\n  );\r\n}\r\n\r\nRegularButton.propTypes = {\r\n  color: PropTypes.oneOf([\r\n    \"primary\",\r\n    \"info\",\r\n    \"success\",\r\n    \"warning\",\r\n    \"danger\",\r\n    \"rose\",\r\n    \"white\",\r\n    \"transparent\"\r\n  ]),\r\n  size: PropTypes.oneOf([\"sm\", \"lg\"]),\r\n  simple: PropTypes.bool,\r\n  round: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  block: PropTypes.bool,\r\n  link: PropTypes.bool,\r\n  justIcon: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  // use this to pass the classes props from Material-UI\r\n  muiClasses: PropTypes.object,\r\n  children: PropTypes.node\r\n};\r\n","import {\r\n  primaryColor,\r\n  dangerColor,\r\n  successColor,\r\n  grayColor,\r\n  defaultFont\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst customInputStyle = {\r\n  disabled: {\r\n    \"&:before\": {\r\n      backgroundColor: \"transparent !important\"\r\n    }\r\n  },\r\n  underline: {\r\n    \"&:hover:not($disabled):before,&:before\": {\r\n      borderColor: grayColor[4] + \" !important\",\r\n      borderWidth: \"1px !important\"\r\n    },\r\n    \"&:after\": {\r\n      borderColor: primaryColor[0]\r\n    }\r\n  },\r\n  underlineError: {\r\n    \"&:after\": {\r\n      borderColor: dangerColor[0]\r\n    }\r\n  },\r\n  underlineSuccess: {\r\n    \"&:after\": {\r\n      borderColor: successColor[0]\r\n    }\r\n  },\r\n  labelRoot: {\r\n    ...defaultFont,\r\n    color: grayColor[3] + \" !important\",\r\n    fontWeight: \"400\",\r\n    fontSize: \"14px\",\r\n    lineHeight: \"1.42857\",\r\n    letterSpacing: \"unset\"\r\n  },\r\n  labelRootError: {\r\n    color: dangerColor[0]\r\n  },\r\n  labelRootSuccess: {\r\n    color: successColor[0]\r\n  },\r\n  feedback: {\r\n    position: \"absolute\",\r\n    top: \"18px\",\r\n    right: \"0\",\r\n    zIndex: \"2\",\r\n    display: \"block\",\r\n    width: \"24px\",\r\n    height: \"24px\",\r\n    textAlign: \"center\",\r\n    pointerEvents: \"none\"\r\n  },\r\n  marginTop: {\r\n    marginTop: \"16px\"\r\n  },\r\n  formControl: {\r\n    paddingBottom: \"10px\",\r\n    margin: \"27px 0 0 0\",\r\n    position: \"relative\",\r\n    verticalAlign: \"unset\"\r\n  }\r\n};\r\n\r\nexport default customInputStyle;\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Input from \"@material-ui/core/Input\";\r\n// @material-ui/icons\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport Check from \"@material-ui/icons/Check\";\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/customInputStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function CustomInput(props) {\r\n  const classes = useStyles();\r\n  const {\r\n    formControlProps,\r\n    labelText,\r\n    id,\r\n    labelProps,\r\n    inputProps,\r\n    error,\r\n    success\r\n  } = props;\r\n\r\n  const labelClasses = classNames({\r\n    [\" \" + classes.labelRootError]: error,\r\n    [\" \" + classes.labelRootSuccess]: success && !error\r\n  });\r\n  const underlineClasses = classNames({\r\n    [classes.underlineError]: error,\r\n    [classes.underlineSuccess]: success && !error,\r\n    [classes.underline]: true\r\n  });\r\n  const marginTop = classNames({\r\n    [classes.marginTop]: labelText === undefined\r\n  });\r\n  return (\r\n    <FormControl\r\n      {...formControlProps}\r\n      className={formControlProps.className + \" \" + classes.formControl}\r\n    >\r\n      {labelText !== undefined ? (\r\n        <InputLabel\r\n          className={classes.labelRoot + labelClasses}\r\n          htmlFor={id}\r\n          {...labelProps}\r\n        >\r\n          {labelText}\r\n        </InputLabel>\r\n      ) : null}\r\n      <Input\r\n        classes={{\r\n          root: marginTop,\r\n          disabled: classes.disabled,\r\n          underline: underlineClasses\r\n        }}\r\n        id={id}\r\n        {...inputProps}\r\n      />\r\n      {error ? (\r\n        <Clear className={classes.feedback + \" \" + classes.labelRootError} />\r\n      ) : success ? (\r\n        <Check className={classes.feedback + \" \" + classes.labelRootSuccess} />\r\n      ) : null}\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nCustomInput.propTypes = {\r\n  labelText: PropTypes.node,\r\n  labelProps: PropTypes.object,\r\n  id: PropTypes.string,\r\n  inputProps: PropTypes.object,\r\n  formControlProps: PropTypes.object,\r\n  error: PropTypes.bool,\r\n  success: PropTypes.bool\r\n};\r\n","import ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Grow from \"@material-ui/core/Grow\";\r\nimport Hidden from \"@material-ui/core/Hidden\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport MenuList from \"@material-ui/core/MenuList\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Poppers from \"@material-ui/core/Popper\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Dashboard from \"@material-ui/icons/Dashboard\";\r\nimport Notifications from \"@material-ui/icons/Notifications\";\r\n// @material-ui/icons\r\nimport Person from \"@material-ui/icons/Person\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport styles from \"assets/jss/material-dashboard-react/components/headerLinksStyle.js\";\r\nimport classNames from \"classnames\";\r\nimport Button from \"components/CustomButtons/Button.js\";\r\n// core components\r\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function AdminNavbarLinks() {\r\n  const classes = useStyles();\r\n  const [openNotification, setOpenNotification] = React.useState(null);\r\n  const [openProfile, setOpenProfile] = React.useState(null);\r\n  const handleClickNotification = event => {\r\n    if (openNotification && openNotification.contains(event.target)) {\r\n      setOpenNotification(null);\r\n    } else {\r\n      setOpenNotification(event.currentTarget);\r\n    }\r\n  };\r\n  const handleCloseNotification = () => {\r\n    setOpenNotification(null);\r\n  };\r\n  const handleClickProfile = event => {\r\n    if (openProfile && openProfile.contains(event.target)) {\r\n      setOpenProfile(null);\r\n    } else {\r\n      setOpenProfile(event.currentTarget);\r\n    }\r\n  };\r\n  const handleCloseProfile = () => {\r\n    setOpenProfile(null);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className={classes.searchWrapper}>\r\n        <CustomInput\r\n          formControlProps={{\r\n            className: classes.margin + \" \" + classes.search\r\n          }}\r\n          inputProps={{\r\n            placeholder: \"Search\",\r\n            inputProps: {\r\n              \"aria-label\": \"Search\"\r\n            }\r\n          }}\r\n        />\r\n        <Button color=\"white\" aria-label=\"edit\" justIcon round>\r\n          <Search />\r\n        </Button>\r\n      </div>\r\n      <Button\r\n        to=\"/dashboard\"\r\n        color={window.innerWidth > 959 ? \"transparent\" : \"white\"}\r\n        justIcon={window.innerWidth > 959}\r\n        simple={!(window.innerWidth > 959)}\r\n        aria-label=\"Dashboard\"\r\n        className={classes.buttonLink}\r\n      >\r\n        <Dashboard className={classes.icons} />\r\n        <Hidden mdUp implementation=\"css\">\r\n          <p className={classes.linkText}>Dashboard</p>\r\n        </Hidden>\r\n      </Button>\r\n      <div className={classes.manager}>\r\n        <Button\r\n          color={window.innerWidth > 959 ? \"transparent\" : \"white\"}\r\n          justIcon={window.innerWidth > 959}\r\n          simple={!(window.innerWidth > 959)}\r\n          aria-owns={openNotification ? \"notification-menu-list-grow\" : null}\r\n          aria-haspopup=\"true\"\r\n          onClick={handleClickNotification}\r\n          className={classes.buttonLink}\r\n        >\r\n          <Notifications className={classes.icons} />\r\n          <span className={classes.notifications}>5</span>\r\n          <Hidden mdUp implementation=\"css\">\r\n            <p onClick={handleCloseNotification} className={classes.linkText}>\r\n              Notification\r\n            </p>\r\n          </Hidden>\r\n        </Button>\r\n        <Poppers\r\n          open={Boolean(openNotification)}\r\n          anchorEl={openNotification}\r\n          transition\r\n          disablePortal\r\n          className={\r\n            classNames({ [classes.popperClose]: !openNotification }) +\r\n            \" \" +\r\n            classes.popperNav\r\n          }\r\n        >\r\n          {({ TransitionProps, placement }) => (\r\n            <Grow\r\n              {...TransitionProps}\r\n              id=\"notification-menu-list-grow\"\r\n              style={{\r\n                transformOrigin:\r\n                  placement === \"bottom\" ? \"center top\" : \"center bottom\"\r\n              }}\r\n            >\r\n              <Paper>\r\n                <ClickAwayListener onClickAway={handleCloseNotification}>\r\n                  <MenuList role=\"menu\">\r\n                    <MenuItem\r\n                      onClick={handleCloseNotification}\r\n                      className={classes.dropdownItem}\r\n                    >\r\n                      Mike John responded to your email\r\n                    </MenuItem>\r\n                    <MenuItem\r\n                      onClick={handleCloseNotification}\r\n                      className={classes.dropdownItem}\r\n                    >\r\n                      You have 5 new tasks\r\n                    </MenuItem>\r\n                    <MenuItem\r\n                      onClick={handleCloseNotification}\r\n                      className={classes.dropdownItem}\r\n                    >\r\n                      You{\"'\"}re now friend with Andrew\r\n                    </MenuItem>\r\n                    <MenuItem\r\n                      onClick={handleCloseNotification}\r\n                      className={classes.dropdownItem}\r\n                    >\r\n                      Another Notification\r\n                    </MenuItem>\r\n                    <MenuItem\r\n                      onClick={handleCloseNotification}\r\n                      className={classes.dropdownItem}\r\n                    >\r\n                      Another One\r\n                    </MenuItem>\r\n                  </MenuList>\r\n                </ClickAwayListener>\r\n              </Paper>\r\n            </Grow>\r\n          )}\r\n        </Poppers>\r\n      </div>\r\n      <div className={classes.manager}>\r\n        <Button\r\n          color={window.innerWidth > 959 ? \"transparent\" : \"white\"}\r\n          justIcon={window.innerWidth > 959}\r\n          simple={!(window.innerWidth > 959)}\r\n          aria-owns={openProfile ? \"profile-menu-list-grow\" : null}\r\n          aria-haspopup=\"true\"\r\n          onClick={handleClickProfile}\r\n          className={classes.buttonLink}\r\n        >\r\n          <Person className={classes.icons} />\r\n          <Hidden mdUp implementation=\"css\">\r\n            <p className={classes.linkText}>Profile</p>\r\n          </Hidden>\r\n        </Button>\r\n        <Poppers\r\n          open={Boolean(openProfile)}\r\n          anchorEl={openProfile}\r\n          transition\r\n          disablePortal\r\n          className={\r\n            classNames({ [classes.popperClose]: !openProfile }) +\r\n            \" \" +\r\n            classes.popperNav\r\n          }\r\n        >\r\n          {({ TransitionProps, placement }) => (\r\n            <Grow\r\n              {...TransitionProps}\r\n              id=\"profile-menu-list-grow\"\r\n              style={{\r\n                transformOrigin:\r\n                  placement === \"bottom\" ? \"center top\" : \"center bottom\"\r\n              }}\r\n            >\r\n              <Paper>\r\n                <ClickAwayListener onClickAway={handleCloseProfile}>\r\n                  <MenuList role=\"menu\">\r\n                    <MenuItem\r\n                      onClick={handleCloseProfile}\r\n                      className={classes.dropdownItem}\r\n                    >\r\n                      Profile\r\n                    </MenuItem>\r\n                    <MenuItem\r\n                      onClick={handleCloseProfile}\r\n                      className={classes.dropdownItem}\r\n                    >\r\n                      Settings\r\n                    </MenuItem>\r\n                    <Divider light />\r\n                    <MenuItem\r\n                      onClick={handleCloseProfile}\r\n                      className={classes.dropdownItem}\r\n                    >\r\n                      Logout\r\n                    </MenuItem>\r\n                  </MenuList>\r\n                </ClickAwayListener>\r\n              </Paper>\r\n            </Grow>\r\n          )}\r\n        </Poppers>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {\r\n  drawerWidth,\r\n  transition,\r\n  boxShadow,\r\n  defaultFont,\r\n  primaryColor,\r\n  primaryBoxShadow,\r\n  infoColor,\r\n  successColor,\r\n  warningColor,\r\n  dangerColor,\r\n  whiteColor,\r\n  grayColor,\r\n  blackColor,\r\n  hexToRgb\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst sidebarStyle = theme => ({\r\n  drawerPaper: {\r\n    border: \"none\",\r\n    position: \"fixed\",\r\n    top: \"0\",\r\n    bottom: \"0\",\r\n    left: \"0\",\r\n    zIndex: \"1\",\r\n    backgroundColor: \"rgba(\" + hexToRgb(grayColor[8]) + \", 0.2)\",\r\n    ...boxShadow,\r\n    width: drawerWidth,\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: drawerWidth,\r\n      position: \"fixed\",\r\n      top: \"9vh\",\r\n      height: \"95%\"\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: drawerWidth,\r\n      ...boxShadow,\r\n      position: \"fixed\",\r\n      display: \"block\",\r\n      top: \"0\",\r\n      height: \"100vh\",\r\n      right: \"0\",\r\n      left: \"auto\",\r\n      zIndex: \"1032\",\r\n      visibility: \"visible\",\r\n      overflowY: \"visible\",\r\n      borderTop: \"none\",\r\n      textAlign: \"left\",\r\n      paddingRight: \"0px\",\r\n      paddingLeft: \"0\",\r\n      transform: `translate3d(${drawerWidth}px, 0, 0)`,\r\n      ...transition\r\n    }\r\n  },\r\n  drawerPaperRTL: {\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      left: \"auto !important\",\r\n      right: \"0 !important\"\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      left: \"0  !important\",\r\n      right: \"auto !important\"\r\n    }\r\n  },\r\n  logo: {\r\n    position: \"relative\",\r\n    padding: \"15px 15px\",\r\n    zIndex: \"4\",\r\n    \"&:after\": {\r\n      content: '\"\"',\r\n      position: \"absolute\",\r\n      bottom: \"0\",\r\n\r\n      height: \"1px\",\r\n      right: \"15px\",\r\n      width: \"calc(100% - 30px)\",\r\n      backgroundColor: \"rgba(\" + hexToRgb(grayColor[6]) + \", 0.3)\"\r\n    }\r\n  },\r\n  logoLink: {\r\n    ...defaultFont,\r\n    textTransform: \"uppercase\",\r\n    padding: \"5px 0\",\r\n    display: \"block\",\r\n    fontSize: \"18px\",\r\n    textAlign: \"left\",\r\n    fontWeight: \"300\",\r\n    lineHeight: \"30px\",\r\n    textDecoration: \"none\",\r\n    backgroundColor: \"transparent\",\r\n    \"&,&:hover\": {\r\n      color: whiteColor\r\n    }\r\n  },\r\n  logoLinkRTL: {\r\n    textAlign: \"right\"\r\n  },\r\n  logoImage: {\r\n    width: \"30px\",\r\n    display: \"inline-block\",\r\n    maxHeight: \"30px\",\r\n    marginLeft: \"10px\",\r\n    marginRight: \"15px\"\r\n  },\r\n  img: {\r\n    width: \"35px\",\r\n    top: \"22px\",\r\n    position: \"absolute\",\r\n    verticalAlign: \"middle\",\r\n    border: \"0\"\r\n  },\r\n  background: {\r\n    position: \"absolute\",\r\n    zIndex: \"1\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    display: \"block\",\r\n    top: \"0\",\r\n    left: \"0\",\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center center\",\r\n    \"&:after\": {\r\n      position: \"absolute\",\r\n      zIndex: \"3\",\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      content: '\"\"',\r\n      display: \"block\",\r\n      background: blackColor,\r\n      opacity: \".8\"\r\n    }\r\n  },\r\n  list: {\r\n    marginTop: \"20px\",\r\n    paddingLeft: \"0\",\r\n    paddingTop: \"0\",\r\n    paddingBottom: \"0\",\r\n    marginBottom: \"0\",\r\n    listStyle: \"none\",\r\n    position: \"unset\"\r\n  },\r\n  item: {\r\n    position: \"relative\",\r\n    display: \"block\",\r\n    textDecoration: \"none\",\r\n    width: drawerWidth,\r\n    \"&:hover,&:focus,&:visited,&\": {\r\n      color: whiteColor\r\n    }\r\n  },\r\n  itemLink: {\r\n    width: \"auto\",\r\n    transition: \"all 300ms linear\",\r\n    margin: \"10px 15px 0\",\r\n    borderRadius: \"3px\",\r\n    position: \"relative\",\r\n    display: \"block\",\r\n    padding: \"10px 15px\",\r\n    backgroundColor: \"transparent\",\r\n    ...defaultFont\r\n  },\r\n  itemIcon: {\r\n    width: \"24px\",\r\n    height: \"30px\",\r\n    fontSize: \"24px\",\r\n    lineHeight: \"30px\",\r\n    float: \"left\",\r\n    marginRight: \"15px\",\r\n    textAlign: \"center\",\r\n    verticalAlign: \"middle\",\r\n    color: \"rgba(\" + hexToRgb(whiteColor) + \", 0.8)\"\r\n  },\r\n  itemIconRTL: {\r\n    marginRight: \"3px\",\r\n    marginLeft: \"15px\",\r\n    float: \"right\"\r\n  },\r\n  itemText: {\r\n    ...defaultFont,\r\n    margin: \"0\",\r\n    lineHeight: \"30px\",\r\n    fontSize: \"14px\",\r\n    color: whiteColor\r\n  },\r\n  itemTextRTL: {\r\n    textAlign: \"right\"\r\n  },\r\n  whiteFont: {\r\n    color: whiteColor\r\n  },\r\n  purple: {\r\n    backgroundColor: primaryColor[0],\r\n    ...primaryBoxShadow,\r\n    \"&:hover,&:focus\": {\r\n      backgroundColor: primaryColor[0],\r\n      ...primaryBoxShadow\r\n    }\r\n  },\r\n  blue: {\r\n    backgroundColor: infoColor[0],\r\n    boxShadow:\r\n      \"0 12px 20px -10px rgba(\" +\r\n      hexToRgb(infoColor[0]) +\r\n      \",.28), 0 4px 20px 0 rgba(\" +\r\n      hexToRgb(blackColor) +\r\n      \",.12), 0 7px 8px -5px rgba(\" +\r\n      hexToRgb(infoColor[0]) +\r\n      \",.2)\",\r\n    \"&:hover,&:focus\": {\r\n      backgroundColor: infoColor[0],\r\n      boxShadow:\r\n        \"0 12px 20px -10px rgba(\" +\r\n        hexToRgb(infoColor[0]) +\r\n        \",.28), 0 4px 20px 0 rgba(\" +\r\n        hexToRgb(blackColor) +\r\n        \",.12), 0 7px 8px -5px rgba(\" +\r\n        hexToRgb(infoColor[0]) +\r\n        \",.2)\"\r\n    }\r\n  },\r\n  green: {\r\n    backgroundColor: successColor[0],\r\n    boxShadow:\r\n      \"0 12px 20px -10px rgba(\" +\r\n      hexToRgb(successColor[0]) +\r\n      \",.28), 0 4px 20px 0 rgba(\" +\r\n      hexToRgb(blackColor) +\r\n      \",.12), 0 7px 8px -5px rgba(\" +\r\n      hexToRgb(successColor[0]) +\r\n      \",.2)\",\r\n    \"&:hover,&:focus\": {\r\n      backgroundColor: successColor[0],\r\n      boxShadow:\r\n        \"0 12px 20px -10px rgba(\" +\r\n        hexToRgb(successColor[0]) +\r\n        \",.28), 0 4px 20px 0 rgba(\" +\r\n        hexToRgb(blackColor) +\r\n        \",.12), 0 7px 8px -5px rgba(\" +\r\n        hexToRgb(successColor[0]) +\r\n        \",.2)\"\r\n    }\r\n  },\r\n  orange: {\r\n    backgroundColor: warningColor[0],\r\n    boxShadow:\r\n      \"0 12px 20px -10px rgba(\" +\r\n      hexToRgb(warningColor[0]) +\r\n      \",.28), 0 4px 20px 0 rgba(\" +\r\n      hexToRgb(blackColor) +\r\n      \",.12), 0 7px 8px -5px rgba(\" +\r\n      hexToRgb(warningColor[0]) +\r\n      \",.2)\",\r\n    \"&:hover,&:focus\": {\r\n      backgroundColor: warningColor[0],\r\n      boxShadow:\r\n        \"0 12px 20px -10px rgba(\" +\r\n        hexToRgb(warningColor[0]) +\r\n        \",.28), 0 4px 20px 0 rgba(\" +\r\n        hexToRgb(blackColor) +\r\n        \",.12), 0 7px 8px -5px rgba(\" +\r\n        hexToRgb(warningColor[0]) +\r\n        \",.2)\"\r\n    }\r\n  },\r\n  red: {\r\n    backgroundColor: dangerColor[0],\r\n    boxShadow:\r\n      \"0 12px 20px -10px rgba(\" +\r\n      hexToRgb(dangerColor[0]) +\r\n      \",.28), 0 4px 20px 0 rgba(\" +\r\n      hexToRgb(blackColor) +\r\n      \",.12), 0 7px 8px -5px rgba(\" +\r\n      hexToRgb(dangerColor[0]) +\r\n      \",.2)\",\r\n    \"&:hover,&:focus\": {\r\n      backgroundColor: dangerColor[0],\r\n      boxShadow:\r\n        \"0 12px 20px -10px rgba(\" +\r\n        hexToRgb(dangerColor[0]) +\r\n        \",.28), 0 4px 20px 0 rgba(\" +\r\n        hexToRgb(blackColor) +\r\n        \",.12), 0 7px 8px -5px rgba(\" +\r\n        hexToRgb(dangerColor[0]) +\r\n        \",.2)\"\r\n    }\r\n  },\r\n  sidebarWrapper: {\r\n    position: \"relative\",\r\n    height: \"calc(100vh - 75px)\",\r\n    overflow: \"auto\",\r\n    width: \"260px\",\r\n    zIndex: \"4\",\r\n    overflowScrolling: \"touch\"\r\n  },\r\n  activePro: {\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      position: \"absolute\",\r\n      width: \"100%\",\r\n      bottom: \"13px\"\r\n    }\r\n  }\r\n});\r\n\r\nexport default sidebarStyle;\r\n","/*eslint-disable*/\r\nimport React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Hidden from \"@material-ui/core/Hidden\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\n// core components\r\nimport AdminNavbarLinks from \"components/Navbars/AdminNavbarLinks.js\";\r\nimport styles from \"assets/jss/material-dashboard-react/components/sidebarStyle.js\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nfunction Sidebar(props) {\r\n  const classes = useStyles();\r\n  // verifies if routeName is the one active (in browser input)\r\n  function activeRoute(routeName) {\r\n    return window.location.href.indexOf(routeName) > -1 ? true : false;\r\n  }\r\n  const token = localStorage.usertoken;\r\n  const decoded = jwt_decode(token);\r\n  const user = decoded;\r\n\r\n  const checkIsAuthorized = () => {\r\n    props.routes.map((el) => {\r\n      if (el.layout + el.path === props.location.pathname) {\r\n        if (el.access > user.access) {\r\n          props.history.push(\"/noaccess\");\r\n        }\r\n      }\r\n    });\r\n  };\r\n  checkIsAuthorized();\r\n\r\n  const { color, logo, image, logoText, routes } = props;\r\n  var links = (\r\n    <List className={classes.list}>\r\n      {routes.map((prop, key) => {\r\n        const token = localStorage.usertoken;\r\n        const decoded = jwt_decode(token);\r\n        const user = decoded;\r\n\r\n        var activePro = \" \";\r\n        var listItemClasses;\r\n        if (prop.path === \"/\") {\r\n          listItemClasses = classNames({\r\n            [\" \" + classes[color]]: true,\r\n          });\r\n        } else {\r\n          listItemClasses = classNames({\r\n            [\" \" + classes[color]]: activeRoute(prop.layout + prop.path),\r\n          });\r\n        }\r\n        const whiteFontClasses = classNames({\r\n          [\" \" + classes.whiteFont]: activeRoute(prop.layout + prop.path),\r\n        });\r\n        if (prop.access <= user.access && !prop.hidden) {\r\n          return (\r\n            <NavLink\r\n              to={prop.layout + prop.path}\r\n              className={activePro + classes.item}\r\n              activeClassName=\"active\"\r\n              key={key}\r\n            >\r\n              <ListItem button className={classes.itemLink + listItemClasses}>\r\n                {typeof prop.icon === \"string\" ? (\r\n                  <Icon\r\n                    className={classNames(classes.itemIcon, whiteFontClasses)}\r\n                  >\r\n                    {prop.icon}\r\n                  </Icon>\r\n                ) : (\r\n                  <prop.icon\r\n                    className={classNames(classes.itemIcon, whiteFontClasses)}\r\n                  />\r\n                )}\r\n                <ListItemText\r\n                  primary={props.rtlActive ? prop.rtlName : prop.name}\r\n                  className={classNames(classes.itemText, whiteFontClasses)}\r\n                  disableTypography={true}\r\n                />\r\n              </ListItem>\r\n            </NavLink>\r\n          );\r\n        }\r\n      })}\r\n    </List>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Hidden mdUp implementation=\"css\">\r\n        <Drawer\r\n          variant=\"temporary\"\r\n          anchor=\"left\"\r\n          open={props.open}\r\n          classes={{\r\n            paper: classNames(classes.drawerPaper),\r\n          }}\r\n          onClose={props.handleDrawerToggle}\r\n          ModalProps={{\r\n            keepMounted: true, // Better open performance on mobile.\r\n          }}\r\n        >\r\n          <div className={classes.sidebarWrapper}>\r\n            <AdminNavbarLinks />\r\n            {links}\r\n          </div>\r\n        </Drawer>\r\n      </Hidden>\r\n      <Hidden smDown implementation=\"css\">\r\n        <Drawer\r\n          variant=\"permanent\"\r\n          open\r\n          classes={{\r\n            paper: classNames(classes.drawerPaper),\r\n          }}\r\n        >\r\n          <div className={classes.sidebarWrapper}>{links}</div>\r\n          {image !== undefined ? <div className={classes.background} /> : null}\r\n        </Drawer>\r\n      </Hidden>\r\n    </div>\r\n  );\r\n}\r\n\r\nSidebar.propTypes = {\r\n  handleDrawerToggle: PropTypes.func,\r\n  bgColor: PropTypes.oneOf([\"purple\", \"blue\", \"green\", \"orange\", \"red\"]),\r\n  logo: PropTypes.string,\r\n  image: PropTypes.string,\r\n  logoText: PropTypes.string,\r\n  routes: PropTypes.arrayOf(PropTypes.object),\r\n  open: PropTypes.bool,\r\n};\r\nexport default withRouter(Sidebar);\r\n","// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport logo from \"assets/img/egg.png\";\r\nimport bgImage from \"assets/img/sidebar-2.jpg\";\r\nimport styles from \"assets/jss/material-dashboard-react/layouts/adminStyle.js\";\r\nimport Footer from \"components/Footer/Footer.js\";\r\n// core components\r\n// import Navbar from \"components/Navbars/Navbar.js\";\r\nimport Sidebar from \"components/Sidebar/Sidebar.js\";\r\n// creates a beautiful scrollbar\r\nimport React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport routes from \"routes.js\";\r\nimport UserNavbar from \"components/Users/UserNavbar\";\r\n\r\nconst switchRoutes = (\r\n  <Switch>\r\n    {routes.map((prop, key) => {\r\n      if (prop.layout === \"/admin\") {\r\n        return (\r\n          <Route\r\n            path={prop.layout + prop.path}\r\n            component={prop.component}\r\n            key={key}\r\n          />\r\n        );\r\n      }\r\n      return null;\r\n    })}\r\n    <Redirect from=\"/admin\" to=\"/admin/live-em-status\" />\r\n  </Switch>\r\n);\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function Admin({ ...rest }) {\r\n  // styles\r\n  const classes = useStyles();\r\n  // ref to help us initialize PerfectScrollbar on windows devices\r\n  const mainPanel = React.createRef();\r\n  // states and functions\r\n  const [image] = React.useState(bgImage);\r\n  const [color] = React.useState(\"blue\");\r\n  const [mobileOpen, setMobileOpen] = React.useState(false);\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n  const getRoute = () => {\r\n    return window.location.pathname !== \"/admin/maps\";\r\n  };\r\n  const resizeFunction = () => {\r\n    if (window.innerWidth >= 960) {\r\n      setMobileOpen(false);\r\n    }\r\n  };\r\n\r\n  // initialize and destroy the PerfectScrollbar plugin\r\n  React.useEffect(() => {\r\n    if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      document.body.style.overflow = \"hidden\";\r\n    }\r\n    window.addEventListener(\"resize\", resizeFunction);\r\n    // Specify how to clean up after this effect:\r\n    return function cleanup() {\r\n      if (navigator.platform.indexOf(\"Win\") > -1) {\r\n      }\r\n      window.removeEventListener(\"resize\", resizeFunction);\r\n    };\r\n  }, [mainPanel]);\r\n\r\n  //check if user is authenticated\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <Sidebar\r\n        routes={routes}\r\n        logoText={\"\"}\r\n        logo={logo}\r\n        image={image}\r\n        handleDrawerToggle={handleDrawerToggle}\r\n        open={mobileOpen}\r\n        color={color}\r\n        {...rest}\r\n      />\r\n      <div className={classes.mainPanel} ref={mainPanel}>\r\n        <UserNavbar />\r\n\r\n        {getRoute() ? (\r\n          <div className={classes.content}>\r\n            <div className={classes.container}>{switchRoutes}</div>\r\n          </div>\r\n        ) : (\r\n          <div className={classes.map}>{switchRoutes}</div>\r\n        )}\r\n        {getRoute() ? <Footer /> : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { login, loginVar } from \"./UserFunctions\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport UserNavbar from \"./UserNavbar\";\r\nimport { Animate } from \"react-simple-animate\";\r\n\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      message: \"\",\r\n      play: \"\",\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const user = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n    };\r\n\r\n    login(user).then((res) => {\r\n      if (res) {\r\n        this.props.history.push(\"/admin/live-em-status\");\r\n      } else {\r\n        this.setState({ message: loginVar, play: true });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <UserNavbar />\r\n        <div className=\"container\" style={{ marginTop: \"50px\" }}>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6 mt-5 mx-auto\">\r\n              <form noValidate onSubmit={this.onSubmit}>\r\n                <h1 className=\"h3 mb-3 font-weight-normal\">Sign in</h1>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"email\">Email address</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    name=\"email\"\r\n                    placeholder=\"Enter email\"\r\n                    value={this.state.email}\r\n                    onChange={this.onChange}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"password\">Password</label>\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    name=\"password\"\r\n                    placeholder=\"Password\"\r\n                    value={this.state.password}\r\n                    onChange={this.onChange}\r\n                  />\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-lg btn-primary btn-block\"\r\n                >\r\n                  Sign in\r\n                </button>\r\n              </form>\r\n              <Animate\r\n                play={this.state.play} // Toggle when animation should start\r\n                duration={0.5}\r\n                start={{\r\n                  backgroundColor: \"transparent\",\r\n                  opacity: \"0\",\r\n                }}\r\n                end={{\r\n                  opacity: \"0.9\",\r\n                  backgroundColor: \"red\",\r\n                  borderRadius: \"5px\",\r\n                }}\r\n              >\r\n                <p\r\n                  style={{\r\n                    marginTop: \"25px\",\r\n                    textAlign: \"center\",\r\n                    color: \"white\",\r\n                    fontSize: \"1.5em\",\r\n                  }}\r\n                >\r\n                  {this.state.message}\r\n                </p>\r\n              </Animate>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Login);\r\n","// import { makeStyles } from \"@material-ui/core/styles\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\n// core components\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport React from \"react\";\r\nimport Login from \"components/Users/Login\";\r\n\r\nexport default function LoginPage() {\r\n  // const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <GridContainer>\r\n        <GridItem xs={12} sm={12} md={12}>\r\n          <Login />\r\n        </GridItem>\r\n      </GridContainer>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\n// import {createBrowserHistory} from \"history\";\r\nimport { Route, Switch, Redirect, Router } from \"react-router-dom\";\r\n// import { Router } from \"react-router-dom\";\r\n// import { useHistory } from \"react-router\";\r\nimport PropTypes from \"prop-types\";\r\n// import Error from \"components/ErrorBoundary/Error\";\r\n\r\n// core components\r\nimport Admin from \"layouts/Admin.js\";\r\nimport Guest from \"layouts/Guest.js\";\r\nimport LoginPage from \"views/LoginPage/LoginPage\";\r\nimport NotAuthorized from \"views/Notauthorized/Notauthorized\";\r\n// import RegisterPage from \"views/RegisterPage/RegisterPage\";\r\nimport \"typeface-roboto\";\r\nimport decode from \"jwt-decode\";\r\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\r\n\r\nconst hist = createBrowserHistory({\r\n  basename: \"#\",\r\n});\r\n//http://34.252.71.170:5000\r\n//http://63.32.97.125:5000\r\nglobal.BASE_URL = \"http://63.32.97.125:5000\";\r\nglobal.intervalCheck = false;\r\nglobal.SEND_TOPIC = \"DEVCOMSP\";\r\n\r\nconst checkAuth = () => {\r\n  const token = localStorage.getItem(\"usertoken\");\r\n\r\n  if (!token) {\r\n    return false;\r\n  }\r\n\r\n  try {\r\n    const { exp } = decode(token);\r\n\r\n    // console.log(dToken);\r\n    // console.log(exp);\r\n    // console.log(new Date().getTime());\r\n\r\n    //check if token not expired\r\n    if (exp < new Date().getTime() / 1000) {\r\n      return false;\r\n    }\r\n\r\n    //check if token expiry var defined\r\n    if (!exp) {\r\n      return false;\r\n    }\r\n    // if (alg != )\r\n  } catch (err) {\r\n    return <h1>Error: {err}</h1>;\r\n  }\r\n  return true;\r\n};\r\n\r\nconst CheckAuthInterval = () => {\r\n  if (global.intervalCheck === false) {\r\n    global.intervalCheck = true;\r\n    const interval = setInterval(() => {\r\n      if (checkAuth() === false) {\r\n        hist.push(\"/noaccess\");\r\n        console.log(\"Authorized:\", checkAuth());\r\n        global.intervalCheck = false;\r\n        clearInterval(interval);\r\n      }\r\n    }, 10000);\r\n  }\r\n  return null;\r\n};\r\n\r\nconst AuthRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      checkAuth() ? (\r\n        <div>\r\n          <CheckAuthInterval />\r\n          <Component {...props} />\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <Redirect to={{ exact: \"/#/login\" }} />\r\n          <p>Session Expired</p>\r\n        </div>\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nAuthRoute.propTypes = {\r\n  component: PropTypes.func.isRequired,\r\n};\r\n\r\nReactDOM.render(\r\n  <Router history={hist}>\r\n    <Switch>\r\n      <Route path=\"/guest\" component={Guest} />\r\n      <AuthRoute path=\"/admin\" component={Admin} />\r\n      <Route exact path=\"/login\" component={LoginPage} />\r\n      <Route exact path=\"/noaccess\" component={NotAuthorized} />\r\n      {/* <Route path=\"/register\" component={RegisterPage} /> */}\r\n      <Redirect from=\"/\" to=\"/login\" />\r\n    </Switch>\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport { Icon, IconButton } from \"@material-ui/core\";\r\n\r\nexport default function NewBuilding(props) {\r\n  //eslint-disable-next-line\r\n\r\n  let textInput = null;\r\n  useEffect(() => {\r\n    textInput.focus();\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <GridContainer\r\n      style={{\r\n        border: \"1px solid lightblue\",\r\n        padding: \"5px\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          margin: \"-5px\",\r\n        }}\r\n      >\r\n        <input\r\n          ref={(input) => {\r\n            textInput = input;\r\n          }}\r\n          label=\"Name\"\r\n          placeholder=\"Building name\"\r\n          className=\"form-control\"\r\n          style={{ margin: \"15px\", width: \"31%\", display: \"inline-block\" }}\r\n          onChange={(e) => props.setBuildingName(e)}\r\n        />\r\n        <div\r\n          style={{\r\n            height: \"100%\",\r\n            width: \"1px\",\r\n            backgroundColor: \"#DDE2E6\",\r\n            display: \"inline-block\",\r\n          }}\r\n        />\r\n        <input\r\n          label=\"Address\"\r\n          placeholder=\"Building address\"\r\n          className=\"form-control\"\r\n          style={{ margin: \"15px\", width: \"31%\", display: \"inline-block\" }}\r\n          onChange={(e) => props.setBuildingAddress(e)}\r\n        />\r\n\r\n        <IconButton\r\n          style={{ float: \"right\", textAlign: \"center\" }}\r\n          color=\"primary\"\r\n          onClick={() => props.saveNewBuilding()}\r\n        >\r\n          <Icon style={{ fontSize: \"1.3em\" }}>check_circle</Icon>\r\n        </IconButton>\r\n      </div>\r\n    </GridContainer>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport { Icon, IconButton } from \"@material-ui/core\";\r\n\r\nexport default function NewBuilding(props) {\r\n  //eslint-disable-next-line\r\n\r\n  let textInput = null;\r\n  useEffect(() => {\r\n    textInput.focus();\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <GridContainer\r\n      style={{\r\n        border: \"1px solid lightblue\",\r\n        padding: \"5px\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          margin: \"-5px\",\r\n        }}\r\n      >\r\n        <input\r\n          ref={(input) => {\r\n            textInput = input;\r\n          }}\r\n          label=\"Name\"\r\n          placeholder=\"Name\"\r\n          className=\"form-control\"\r\n          style={{ margin: \"15px\", width: \"31%\", display: \"inline-block\" }}\r\n          onChange={(e) => props.setLevelName(e)}\r\n        />\r\n\r\n        <IconButton\r\n          style={{ float: \"right\", textAlign: \"center\" }}\r\n          color=\"primary\"\r\n          onClick={() => props.saveNewLevel()}\r\n        >\r\n          <Icon style={{ fontSize: \"1.3em\" }}>check_circle</Icon>\r\n        </IconButton>\r\n      </div>\r\n    </GridContainer>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport GroupsTable from \"components/Data/GroupsTable.js\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport CardIcon from \"components/Card/CardIcon.js\";\r\nimport CardFooter from \"components/Card/CardFooter.js\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport cellEditFactory from \"react-bootstrap-table2-editor\";\r\nimport Snackbar from \"components/Snackbar/Snackbar\";\r\nimport AddAlert from \"@material-ui/icons/AddAlert\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport Floorplan from \"components/Data/Floorplan\";\r\nimport OverwatchFloorplan from \"components/Test/OverwatchFloorplanWrapper\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\n// import Maps from \"components/Maps/Maps\";\r\n\r\n// import styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\r\n\r\n// const textWhite = {\r\n//   color: \"white\",\r\n// };\r\n\r\n// const capitalize = {\r\n//   textTransform: \"capitalize\"\r\n// };\r\n\r\n// const textAlign = {\r\n//   textAlign: \"center\",\r\n// };\r\n\r\nconst crumbleContainer = {\r\n  textDecoration: \"none\",\r\n  fontSize: \"1.3em\",\r\n  color: \"grey\",\r\n  display: \"flex\",\r\n  marginTop: \"20px\",\r\n};\r\n\r\nconst styles = {\r\n  root: {\r\n    backgroundColor: \"transparent\",\r\n    boxShadow: \"none\",\r\n    paddingTop: \"0px\",\r\n    padding: \"20px\",\r\n    marginBottom: \"0px\",\r\n  },\r\n  \"@keyframes opacity\": {\r\n    \"100%\": { opacity: 1 },\r\n  },\r\n  modalRoot: {\r\n    background: \"rgba(255,255,255,0)\",\r\n  },\r\n  buildingStyle: {\r\n    transition: \"0.3s\",\r\n    \"&:hover\": {\r\n      transition: \"0.3s\",\r\n      backgroundColor: \"#e8e8e8\",\r\n    },\r\n    cursor: \"pointer\",\r\n    backgroundColor: \"white\",\r\n  },\r\n  crumbleNavigation: {\r\n    transition: \"0.3s\",\r\n    \"&:hover\": {\r\n      transition: \"0.3s\",\r\n      color: \"black\",\r\n      textDecoration: \"underline\",\r\n      cursor: \"pointer\",\r\n    },\r\n  },\r\n  gwStatus: {\r\n    transition: \"0.3s\",\r\n    \"&:hover\": {\r\n      transition: \"0.3s\",\r\n      color: \"black\",\r\n      textDecoration: \"none\",\r\n      cursor: \"pointer\",\r\n    },\r\n  },\r\n  tableFadeIn: {\r\n    opacity: \"0\",\r\n    margin: \"15px\",\r\n    animationName: \"$opacity\",\r\n    animationDuration: \"0.3s\",\r\n    animationTimingFunction: \"linear\",\r\n    animationFillMode: \"forwards\",\r\n  },\r\n  cardTitleWhite: {\r\n    color: \"#FFFFFF\",\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: \"#777\",\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\",\r\n    },\r\n  },\r\n  paper: {\r\n    position: \"absolute\",\r\n    maxWidth: \"485px\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: \"5px 5px 3px #333333\",\r\n    padding: \"20px\",\r\n  },\r\n};\r\n\r\nlet insertCounter = 0;\r\n\r\nclass groups extends Component {\r\n  state = {\r\n    sites: [],\r\n    clickedSite: null,\r\n    siteName: \"\",\r\n    buildings: [],\r\n    buildingsFiltered: [],\r\n    clickedBuilding: null,\r\n    isClickedBuilding: false,\r\n    buildingName: \"\",\r\n    levels: [],\r\n    groups: [],\r\n    groupsFiltered: [],\r\n    lights: [],\r\n    lights: [],\r\n    lastId: null,\r\n    lightCount: null,\r\n    isClickedGroup: false,\r\n    groupName: \"\",\r\n    isClickedLevel: false,\r\n    levelName: \"\",\r\n    levels_id: null,\r\n    clickedEdit: \"\",\r\n    isOpenEdit: false,\r\n    lgt_groups_id: null,\r\n    showPopup: false,\r\n    showInsertPopup: false,\r\n    group_name: \"\",\r\n    newRows: [],\r\n    clickedGroup: null,\r\n    showSnackBarCancel: false,\r\n    showSnackbarSuccess: false,\r\n    modalOpen: false,\r\n    levelModalOpen: false,\r\n    modalstyle: {},\r\n    newBuildingName: \"\",\r\n    newLevelCount: 1,\r\n    gwState: \"Wait...\",\r\n    levelColumns: [\r\n      {\r\n        dataField: \"id\",\r\n        text: \"ID\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"level\",\r\n        text: \"Level\",\r\n        sort: true,\r\n        headerStyle: () => {\r\n          return { width: \"180px\" };\r\n        },\r\n        formatter: (cell) => {\r\n          return \"Level \" + cell;\r\n        },\r\n      },\r\n      {\r\n        dataField: \"devices\",\r\n        text: \"Devices\",\r\n        sort: true,\r\n        editable: false,\r\n        events: {\r\n          onClick: (e, column, columnIndex, row, rowIndex) => {\r\n            this.state.levels.forEach((level) => {\r\n              if (level.id === row.id) {\r\n                this.setState({\r\n                  levelName: level.level,\r\n                });\r\n              }\r\n            });\r\n            this.setState(\r\n              {\r\n                isClickedLevel: true,\r\n                levels_id: row.id,\r\n                lgt_groups_id: row.group_id,\r\n                groupsFiltered: this.state.groups.filter((group) => {\r\n                  if (group.levels_id === row.id) {\r\n                    return group;\r\n                  } else return null;\r\n                }),\r\n                lights: this.state.lights.filter((light) => {\r\n                  if (light.levels_id === row.id) {\r\n                    return light;\r\n                  } else {\r\n                    return null;\r\n                  }\r\n                }),\r\n              },\r\n              () => {\r\n                console.log(this.state.lgt_groups_id);\r\n              }\r\n            );\r\n          },\r\n        },\r\n      },\r\n      {\r\n        dataField: \"lights_count\",\r\n        text: \"Devices count\",\r\n        sort: true,\r\n        editable: false,\r\n        headerStyle: () => {\r\n          return { width: \"100px\" };\r\n        },\r\n        events: {\r\n          onClick: (e, column, columnIndex, row, rowIndex) => {\r\n            this.state.levels.forEach((level) => {\r\n              if (level.id === row.id) {\r\n                this.setState({\r\n                  levelName: level.level,\r\n                });\r\n              }\r\n            });\r\n            this.setState(\r\n              {\r\n                isClickedLevel: true,\r\n                levels_id: row.id,\r\n                lgt_groups_id: row.group_id,\r\n                groupsFiltered: this.state.groups.filter((group) => {\r\n                  if (group.levels_id === row.id) {\r\n                    return group;\r\n                  } else return null;\r\n                }),\r\n              },\r\n              () => {\r\n                if (this.state.lights.length > 0) {\r\n                  this.setState({\r\n                    lgt_groups_id: this.state.lights[0].lgt_groups_id,\r\n                  });\r\n                }\r\n              }\r\n            );\r\n          },\r\n        },\r\n      },\r\n      {\r\n        dataField: \"id\",\r\n        text: \"\",\r\n        editable: false,\r\n        headerStyle: (colum, colIndex) => {\r\n          return { width: \"75px\", textAlign: \"center\" };\r\n        },\r\n        formatter: (cellContent, row, rowId, rowIndex, e) => {\r\n          return (\r\n            <IconButton\r\n              color=\"secondary\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                this.deleteLevel(row);\r\n              }}\r\n            >\r\n              <Icon style={{ fontSize: \"1.2em\" }}>delete</Icon>\r\n            </IconButton>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    groupcolumns: [\r\n      {\r\n        dataField: \"id\",\r\n        text: \"Location ID\",\r\n        sort: true,\r\n        hidden: true,\r\n      },\r\n      {\r\n        dataField: \"group_name\",\r\n        text: \"Location\",\r\n        sort: true,\r\n        editable: true,\r\n        headerStyle: () => {\r\n          return { width: \"180px\" };\r\n        },\r\n      },\r\n      {\r\n        dataField: \"device\",\r\n        text: \"Devices\",\r\n        sort: true,\r\n        editable: false,\r\n        events: {\r\n          onClick: (e, column, columnIndex, row, rowIndex) => {\r\n            this.state.groupsFiltered.forEach((group) => {\r\n              if (group.id === row.id) {\r\n                this.setState({ groupName: group.group_name });\r\n              }\r\n            });\r\n\r\n            this.setState({\r\n              isClickedGroup: true,\r\n              isClickedLevel: false,\r\n              lgt_groups_id: row.id,\r\n            });\r\n          },\r\n        },\r\n      },\r\n      {\r\n        dataField: \"id\",\r\n        text: \"\",\r\n        editable: false,\r\n        headerStyle: (colum, colIndex) => {\r\n          return { width: \"75px\", textAlign: \"center\" };\r\n        },\r\n        formatter: (cellContent, row, rowId, rowIndex, e) => {\r\n          return (\r\n            <IconButton\r\n              color=\"secondary\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                this.deleteGroup(row);\r\n              }}\r\n            >\r\n              <Icon style={{ fontSize: \"1.2em\" }}>delete</Icon>\r\n            </IconButton>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n  };\r\n\r\n  callSites = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const usersId = decoded.id;\r\n\r\n    axios\r\n      .get(global.BASE_URL + \"/api/sites/\" + usersId, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.length) {\r\n          this.setState(\r\n            {\r\n              sites: response.data,\r\n              clickedSite: response.data[0].sites_id,\r\n              siteName: response.data[0].name,\r\n            },\r\n            () => {\r\n              this.checkStatus(this.state.sites[0].socket_name);\r\n              this.callBuildings();\r\n            }\r\n          );\r\n        }\r\n      });\r\n  };\r\n\r\n  callBuildings = () => {\r\n    axios\r\n      .get(global.BASE_URL + \"/api/buildings\", {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        this.callLevels();\r\n        this.setState({\r\n          buildings: response.data,\r\n          buildingsFiltered: response.data.filter((building) => {\r\n            if (building.sites_id === this.state.clickedSite) {\r\n              return building;\r\n            } else return null;\r\n          }),\r\n        });\r\n      });\r\n  };\r\n\r\n  callLevels = () => {\r\n    axios\r\n      //route to lights of group id = this.state.rowId\r\n      .get(global.BASE_URL + \"/api/levels/\", {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        this.callGroups();\r\n        this.setState(\r\n          {\r\n            levels: response.data,\r\n          },\r\n          () => {\r\n            this.setState({\r\n              levelsFiltered: this.state.levels.filter((level) => {\r\n                if (level.buildings_id === this.state.clickedBuilding) {\r\n                  return level;\r\n                } else return null;\r\n              }),\r\n            });\r\n          }\r\n        );\r\n      });\r\n  };\r\n\r\n  callGroups = () => {\r\n    axios\r\n      .get(global.BASE_URL + \"/api/groups/\", {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        this.callLights();\r\n        this.setState(\r\n          {\r\n            groups: response.data,\r\n          },\r\n          () => {\r\n            this.setState({\r\n              groupsFiltered: this.state.groups.filter((group) => {\r\n                if (group.levels_id === this.state.levels_id) {\r\n                  return group;\r\n                } else return null;\r\n              }),\r\n            });\r\n          }\r\n        );\r\n      });\r\n  };\r\n\r\n  callLights = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n\r\n    axios\r\n      //route to lights of group id = this.state.rowId\r\n      .get(global.BASE_URL + \"/api/lights/level/\" + this.props.levelID, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.some((rows) => rows.last_id)) {\r\n          this.setState({\r\n            lights: [],\r\n            lights: [],\r\n          });\r\n        }\r\n\r\n        this.setState({\r\n          lights: response.data,\r\n        });\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.callSites();\r\n    this.setState({ modalStyle: this.getModalStyle });\r\n  }\r\n\r\n  handleClickBuilding = (clickedBuilding) => {\r\n    this.setState({ isClickedBuilding: true }, () => {\r\n      this.setState({\r\n        buildingName: this.state.buildings.find((x) => x.id === clickedBuilding)\r\n          .building,\r\n        clickedBuilding: clickedBuilding,\r\n\r\n        levelsFiltered: this.state.levels.filter((level) => {\r\n          if (level.buildings_id === clickedBuilding) {\r\n            return level;\r\n          } else return null;\r\n        }),\r\n      });\r\n    });\r\n  };\r\n\r\n  checkStatus = (socketName) => {\r\n    console.log(\"checkStatus of\", socketName);\r\n    this.setState({ gwState: \"Wait...\" });\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/sockets/status\",\r\n      data: {\r\n        socket: socketName,\r\n      },\r\n      timeout: 0,\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        let gwStatus = res.data.message.gwStatus;\r\n        let siteCheck = this.state.sites.find(\r\n          (el) => el.sites_id === this.state.clickedSite\r\n        );\r\n\r\n        console.log(siteCheck);\r\n        if (gwStatus.includes(\"NO RESPONSE\"))\r\n          gwStatus = `${gwStatus} - Please contact the administrator`;\r\n        if (siteCheck.socket_name === socketName)\r\n          this.setState({ gwState: gwStatus });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  handleChangeSite = (event, site) => {\r\n    if (this.state.sites.find((x) => x.sites_id === site)) {\r\n      this.checkStatus(\r\n        this.state.sites.find((x) => x.sites_id === site).socket_name\r\n      );\r\n      this.setState({\r\n        siteName: this.state.sites.find((x) => x.sites_id === site).name,\r\n        isClickedBuilding: false,\r\n        isClickedGroup: false,\r\n        isClickedLevel: false,\r\n        levels_id: null,\r\n        clickedSite: site,\r\n        buildingsFiltered: this.state.buildings.filter((building) => {\r\n          if (building.sites_id === site) {\r\n            return building;\r\n          } else return null;\r\n        }),\r\n      });\r\n    }\r\n  };\r\n\r\n  openModal = () => {\r\n    this.setState({ modalOpen: true });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ modalOpen: false });\r\n  };\r\n\r\n  levelOpenModal = () => {\r\n    this.setState({ levelModalOpen: true });\r\n  };\r\n\r\n  levelCloseModal = () => {\r\n    this.setState({ levelModalOpen: false });\r\n  };\r\n\r\n  getModalStyle = () => {\r\n    const top = 50;\r\n    const left = 50;\r\n\r\n    return {\r\n      top: `${top}%`,\r\n      left: `${left}%`,\r\n      transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n  };\r\n\r\n  handleCreateBuilding = () => {\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/buildings/new\",\r\n      data: {\r\n        name: this.state.newBuildingName,\r\n        sites_id: this.state.clickedSite,\r\n        levels_count: this.state.newLevelCount,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n        this.callBuildings();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  handleCreateLevel = () => {\r\n    axios({\r\n      //Axios POST request\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/levels\",\r\n      data: {\r\n        buildings_id: this.state.clickedBuilding,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n        this.levelCloseModal();\r\n        this.callSites();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  deleteLevel = (row) => {\r\n    var value = \"\";\r\n    if (\r\n      window.prompt(\r\n        \"Enter name of the level eg.'Sixth' (case sensitive) to delete. ONLY DELETE IF YOU KNOW WHAT YOU ARE DOING\",\r\n        value\r\n      ) === row.level\r\n    ) {\r\n      axios\r\n        .delete(global.BASE_URL + \"/api/levels/\" + row.id, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.callLevels();\r\n          console.log(response);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else this.setState({ showSnackBarCancel: true });\r\n  };\r\n\r\n  deleteGroup = (row) => {\r\n    if (window.confirm(\"Are you sure?\")) {\r\n      axios\r\n        .delete(global.BASE_URL + \"/api/groups/\" + row.id, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.callGroups();\r\n          console.log(response);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  deleteDevice = (rowId) => {\r\n    this.setState({\r\n      newRows: this.state.newRows.filter((x) => {\r\n        return x.id !== rowId;\r\n      }),\r\n    });\r\n    this.setState({\r\n      lights: this.state.lights.filter((device) => {\r\n        return device.id !== rowId;\r\n      }),\r\n    });\r\n    this.setState({\r\n      lights: this.state.lights.filter((device) => {\r\n        return device.id !== rowId;\r\n      }),\r\n    });\r\n  };\r\n\r\n  removePeople(e) {\r\n    this.setState({\r\n      people: this.state.people.filter(function(person) {\r\n        return person !== e.target.value;\r\n      }),\r\n    });\r\n  }\r\n\r\n  moveHandle = (light) => {\r\n    axios\r\n      .post(\r\n        global.BASE_URL + \"/api/lights/move/\" + light.id,\r\n        { levels_id: this.state.levels_id },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        this.callSites();\r\n        this.setState({ showSnackbarSuccess: true });\r\n        console.log(response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  insertHandle = () => {\r\n    let lightsCopy = this.state.lights;\r\n    let newRows = this.state.newRows;\r\n\r\n    insertCounter++;\r\n\r\n    axios\r\n      //route to lights of group id = this.state.rowId\r\n      .get(global.BASE_URL + \"/api/lights/lastid\", {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        this.setState({ lastId: response.data.last_id }, () => {\r\n          console.log(this.state.lastId);\r\n          lightsCopy.push({\r\n            id: this.state.lastId + insertCounter,\r\n            group_name: this.state.groupName,\r\n            lgt_groups_id: this.state.clickedGroup,\r\n            levels_id: this.state.levels_id,\r\n            node_id: null,\r\n            type: null,\r\n            device_id: null,\r\n          });\r\n          newRows.push({\r\n            id: this.state.lastId + insertCounter,\r\n            group_name: this.state.groupName,\r\n            lgt_groups_id: this.state.lgt_groups_id,\r\n          });\r\n        });\r\n\r\n        this.setState({ newRows: newRows });\r\n      });\r\n    this.setState({ lights: lightsCopy });\r\n  };\r\n\r\n  clearNewRows = () => {\r\n    this.setState({ newRows: [] });\r\n  };\r\n\r\n  clearInsertCounter = () => {\r\n    insertCounter = 0;\r\n  };\r\n\r\n  insertGroup = () => {\r\n    axios\r\n      .post(\r\n        global.BASE_URL + \"/api/groups/new\",\r\n        { levels_id: this.state.levels_id, group_name: \"New location\" },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + localStorage.usertoken,\r\n          },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        console.log(response);\r\n        this.callGroups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  changeHandler = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  closeSnackbar = (stateObject, setStateObject, time) => {\r\n    if (stateObject === true) {\r\n      setTimeout(() => {\r\n        this.setState({ [setStateObject]: !stateObject });\r\n      }, time);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    this.closeSnackbar(\r\n      this.state.showSnackBarCancel,\r\n      \"showSnackBarCancel\",\r\n      5000\r\n    );\r\n    this.closeSnackbar(\r\n      this.state.showSnackbarSuccess,\r\n      \"showSnackbarSuccess\",\r\n      5000\r\n    );\r\n\r\n    const afterSaveCellLevels = (oldValue, newValue, row, column, done) => {\r\n      const colName = column.dataField;\r\n\r\n      if (newValue && newValue !== oldValue) {\r\n        if (\r\n          window.confirm(\r\n            `Are you sure you want to edit this cell with new value of ${newValue}?`\r\n          )\r\n        ) {\r\n          axios({\r\n            //Axios POST request\r\n            method: \"post\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json;charset=UTF-8\",\r\n              Authorization: \"Bearer \" + localStorage.usertoken,\r\n            },\r\n            url: global.BASE_URL + \"/api/levels/edit/\" + parseInt(row.id),\r\n            data: {\r\n              colName: colName,\r\n              level: newValue,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              console.log(response);\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n            });\r\n        } else {\r\n          this.setState({ showSnackBarCancel: true });\r\n          this.callLevels();\r\n        }\r\n      } else this.callLevels();\r\n    };\r\n\r\n    // const afterSaveCell = (oldValue, newValue, row, column, done) => {\r\n    //   const colName = column.dataField;\r\n\r\n    //   if (newValue) {\r\n    //     if (\r\n    //       window.confirm(\r\n    //         `Are you sure you want to edit this cell with new value of ${newValue}?`\r\n    //       )\r\n    //     ) {\r\n    //       axios({\r\n    //         //Axios POST request\r\n    //         method: \"post\",\r\n    //         headers: {\r\n    //           \"Content-Type\": \"application/json;charset=UTF-8\",\r\n    //           Authorization: \"Bearer \" + localStorage.usertoken,\r\n    //         },\r\n    //         url: global.BASE_URL + \"/api/groups/edit/\" + parseInt(row.id),\r\n    //         data: {\r\n    //           colName: colName,\r\n    //           newValue: newValue,\r\n    //         },\r\n    //       })\r\n    //         .then((response) => {\r\n    //           this.callLevels();\r\n    //           console.log(response);\r\n    //         })\r\n    //         .catch((error) => {\r\n    //           console.log(error);\r\n    //         });\r\n    //     } else {\r\n    //       this.setState({ showSnackBarCancel: true });\r\n    //       this.callGroups();\r\n    //     }\r\n    //   } else this.callGroups();\r\n    // };\r\n\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.tableFadeIn}>\r\n        <GroupsTable\r\n          lights={this.state.lights}\r\n          callLights={this.callLights}\r\n          callGroups={this.callGroups}\r\n          callSites={this.callSites}\r\n          selectOptions={this.state.groups}\r\n          deleteDevice={this.deleteDevice}\r\n          newRows={this.state.newRows}\r\n          clearNewRows={this.clearNewRows}\r\n          clearInsertCounter={this.clearInsertCounter}\r\n        />\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => this.setState({ showInsertPopup: true })}\r\n        >\r\n          Move Existing Device\r\n        </Button>\r\n        <Button color=\"primary\" onClick={this.insertHandle}>\r\n          New device\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(groups);\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport Draggable from \"react-draggable\";\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\n\r\nconst styles = {\r\n  typography: {\r\n    padding: \"15px\",\r\n    width: \"100%\",\r\n  },\r\n};\r\n\r\nclass Floorplan extends Component {\r\n  state = {\r\n    selectedFile: null,\r\n    objectURL: \"\",\r\n    activeDrags: 0,\r\n    id: null,\r\n    devices: [],\r\n    anchorEl: null,\r\n    openedPopoverId: null,\r\n    success: false,\r\n    deltaPosition: {\r\n      x: 0,\r\n      y: 0,\r\n    },\r\n    controlledPosition: {\r\n      x: -400,\r\n      y: 200,\r\n    },\r\n  };\r\n\r\n  handleDrag = (e, ui, index, id) => {\r\n    let { devices } = this.props;\r\n    devices[index].fp_coordinates_bot =\r\n      devices[index].fp_coordinates_bot + ui.deltaY;\r\n    devices[index].fp_coordinates_left =\r\n      devices[index].fp_coordinates_left + ui.deltaX;\r\n    this.setState({\r\n      devices: devices,\r\n      test: id,\r\n    });\r\n  };\r\n\r\n  onStart = () => {\r\n    this.setState({ activeDrags: this.state.activeDrags + 1 });\r\n  };\r\n\r\n  onStop = () => {\r\n    this.setState({ activeDrags: this.state.activeDrags - 1 });\r\n  };\r\n\r\n  // For controlled component\r\n  adjustXPos = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const { x, y } = this.state.controlledPosition;\r\n    this.setState({ controlledPosition: { x: x - 10, y } });\r\n  };\r\n\r\n  adjustYPos = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const { controlledPosition } = this.state;\r\n    const { x, y } = controlledPosition;\r\n    this.setState({ controlledPosition: { x, y: y - 10 } });\r\n  };\r\n\r\n  onControlledDrag = (e, position) => {\r\n    const { x, y } = position;\r\n    this.setState({ controlledPosition: { x, y } });\r\n  };\r\n\r\n  onControlledDragStop = (e, position) => {\r\n    this.onControlledDrag(e, position);\r\n    this.onStop();\r\n  };\r\n\r\n  onChangeHandler = (event) => {\r\n    const selectedFile = event.target.files[0];\r\n    var idxDot = selectedFile.name.lastIndexOf(\".\") + 1;\r\n    var extFile = selectedFile.name\r\n      .substr(idxDot, selectedFile.name.length)\r\n      .toLowerCase();\r\n    // eslint-disable-next-line\r\n    if (extFile == \"jpg\" || extFile == \"jpeg\") {\r\n      //do whatever want to do\r\n\r\n      this.setState(\r\n        {\r\n          selectedFile: event.target.files[0],\r\n        },\r\n        () => {\r\n          const data = new FormData();\r\n          data.append(\"level\", this.props.clickedLvl);\r\n          data.append(\"file\", this.state.selectedFile);\r\n\r\n          axios\r\n            .post(global.BASE_URL + \"/api/levels/testUpload\", data, {\r\n              headers: {\r\n                \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                Authorization: \"Bearer \" + localStorage.usertoken,\r\n              },\r\n              responseType: \"blob\",\r\n            })\r\n            .then((response) => {\r\n              this.setState({\r\n                objectURL: URL.createObjectURL(response.data),\r\n              });\r\n            });\r\n        }\r\n      );\r\n    } else {\r\n      alert(\"Only jpg/jpeg files are allowed\");\r\n    }\r\n  };\r\n\r\n  handleSavePositions = () => {\r\n    axios({\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + localStorage.usertoken,\r\n      },\r\n      url: global.BASE_URL + \"/api/lights/edit/many\",\r\n      data: { devices: this.state.devices },\r\n    }).then((res) => {\r\n      console.log(res);\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(global.BASE_URL + \"/api/levels/floorplan/\" + this.props.clickedLvl, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n        responseType: \"blob\",\r\n      })\r\n      .catch((err) => {\r\n        throw err;\r\n      })\r\n      .then((response) => {\r\n        this.setState({\r\n          objectURL: URL.createObjectURL(response.data),\r\n        });\r\n      });\r\n    const { devices } = this.props;\r\n    this.setState({ devices: devices });\r\n  }\r\n\r\n  handleClick = (event, deviceId) => {\r\n    this.setState({ anchorEl: event.currentTarget, openedPopoverId: deviceId });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null, openedPopoverId: null });\r\n  };\r\n\r\n  render() {\r\n    const open = Boolean(this.state.anchorEl);\r\n    const id = open ? \"simple-popover\" : undefined;\r\n    const dragHandlers = { onStart: this.onStart, onStop: this.onStop };\r\n    const { classes } = this.props;\r\n    let devicesWhenUpdate = this.props.devices;\r\n\r\n    return (\r\n      <div>\r\n        {this.state.test}\r\n        {this.state.objectURL ? (\r\n          <div>\r\n            <div style={{ overflowX: \"scroll\", maxWidth: \"65vw\" }}>\r\n              <div\r\n                // src={this.state.objectURL}\r\n                style={{\r\n                  height: \"550px\",\r\n                  width: \"1200px\",\r\n                  border: \"1pt solid black\",\r\n                  backgroundRepeat: \"no-repeat\",\r\n                  backgroundSize: \"contain\",\r\n                  backgroundImage: `url(${this.state.objectURL})`,\r\n                }}\r\n                alt=\"Third Level\"\r\n              >\r\n                {devicesWhenUpdate.map((el, index) => {\r\n                  let color;\r\n                  if (el.status === \"OK\") {\r\n                    color = \"primary\";\r\n                  } else color = \"secondary\";\r\n\r\n                  return (\r\n                    <Draggable\r\n                      key={el.id}\r\n                      grid={[5, 5]}\r\n                      bounds={\"parent\"}\r\n                      position={{\r\n                        x: el.fp_coordinates_left,\r\n                        y: el.fp_coordinates_bot,\r\n                      }}\r\n                      onDrag={(e, ui) => this.handleDrag(e, ui, index, el.id)}\r\n                      {...dragHandlers}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          width: \"0px\",\r\n                          height: \"0px\",\r\n                          position: \"relative\",\r\n                        }}\r\n                      >\r\n                        <Icon\r\n                          color={color}\r\n                          style={{\r\n                            fontSize: \"4em\",\r\n                            position: \"absolute\",\r\n                            cursor: \"move\",\r\n                          }}\r\n                          onMouseEnter={(e) => this.handleClick(e, el.id)}\r\n                          onMouseLeave={this.handleClose}\r\n                        >\r\n                          location_on\r\n                        </Icon>\r\n                        <Popover\r\n                          id={id}\r\n                          open={this.state.openedPopoverId === el.id}\r\n                          anchorEl={this.state.anchorEl}\r\n                          style={{ pointerEvents: \"none\" }} //important\r\n                          anchorOrigin={{\r\n                            vertical: \"bottom\",\r\n                            horizontal: \"center\",\r\n                          }}\r\n                          transformOrigin={{\r\n                            vertical: \"top\",\r\n                            horizontal: \"center\",\r\n                          }}\r\n                        >\r\n                          <div>\r\n                            <Typography className={classes.typography}>\r\n                              {`${el.device_id} - ${el.type} - ${el.node_id}`}\r\n                            </Typography>\r\n                          </div>\r\n                          <div>\r\n                            <Typography className={classes.typography}>\r\n                              Status: {el.status}\r\n                            </Typography>\r\n                          </div>\r\n                        </Popover>\r\n                      </div>\r\n                    </Draggable>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n            {this.state.success ? <h5>Saved successfuly</h5> : null}\r\n\r\n            <Button color=\"primary\" onClick={this.handleSavePositions}>\r\n              Save device positions\r\n            </Button>\r\n            <Button\r\n              color=\"primary\"\r\n              onClick={() => {\r\n                if (window.confirm(\"Are you sure?\"))\r\n                  this.setState({ objectURL: \"\" });\r\n              }}\r\n            >\r\n              Change floorplan\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Upload (only .jpg file extension)\r\n            </Typography>\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              accept=\".jpg\"\r\n              onChange={this.onChangeHandler}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Floorplan);\r\n","import React, { Component } from \"react\";\r\nimport _ from \"lodash\";\r\nimport OverwatchFloorplan from \"components/Test/LiveLights\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport axios from \"axios\";\r\n\r\nexport default class LiveFloorplanWrapper extends Component {\r\n  lightsInterval = 0;\r\n  state = {\r\n    lights: [],\r\n  };\r\n\r\n  callLightsFloorplans = () => {\r\n    const token = localStorage.usertoken;\r\n    const decoded = jwt_decode(token);\r\n    const user = decoded.id;\r\n\r\n    axios\r\n      //route to lights of group id = this.state.rowId\r\n      .get(global.BASE_URL + \"/api/lights/\" + user, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        this.setState({\r\n          lights: response.data.filter((light) => {\r\n            if (light.buildings_id === this.props.clickedBuilding) {\r\n              return light;\r\n            } else return null;\r\n          }),\r\n        });\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.callLightsFloorplans();\r\n    this.lightsInterval = setInterval(() => {\r\n      this.callLightsFloorplans();\r\n    }, 20000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.lightsInterval);\r\n  }\r\n\r\n  addComment = (id, comment) => {\r\n    this.setState((prevState) => ({\r\n      lights: prevState.lights.map((obj) =>\r\n        obj.id === id ? Object.assign(obj, { comment: comment }) : obj\r\n      ),\r\n    }));\r\n\r\n    axios\r\n      //route to lights of group id = this.state.rowId\r\n      .post(global.BASE_URL + \"/api/lights/edit/\" + id, [\"comment\", comment], {\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + localStorage.usertoken,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    let devicesGrouped = _.groupBy(this.state.lights, \"levels_id\");\r\n    return (\r\n      <div>\r\n        {_.map(devicesGrouped, (subArr, i) => {\r\n          return (\r\n            <OverwatchFloorplan\r\n              key={i}\r\n              liveDevices={subArr}\r\n              addComment={this.addComment}\r\n            />\r\n          ); //map those devices and return LiveFloorPlan component which will display floorplans\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import {\r\n  blackColor,\r\n  whiteColor,\r\n  hexToRgb\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst cardStyle = {\r\n  card: {\r\n    border: \"0\",\r\n    marginBottom: \"30px\",\r\n    marginTop: \"30px\",\r\n    borderRadius: \"6px\",\r\n    color: \"rgba(\" + hexToRgb(blackColor) + \", 0.87)\",\r\n    background: whiteColor,\r\n    width: \"100%\",\r\n    boxShadow: \"0 1px 4px 0 rgba(\" + hexToRgb(blackColor) + \", 0.14)\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    minWidth: \"0\",\r\n    wordWrap: \"break-word\",\r\n    fontSize: \".875rem\"\r\n  },\r\n  cardPlain: {\r\n    background: \"transparent\",\r\n    boxShadow: \"none\"\r\n  },\r\n  cardProfile: {\r\n    marginTop: \"30px\",\r\n    textAlign: \"center\"\r\n  },\r\n  cardChart: {\r\n    \"& p\": {\r\n      marginTop: \"0px\",\r\n      paddingTop: \"0px\"\r\n    }\r\n  }\r\n};\r\n\r\nexport default cardStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/cardStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function Card(props) {\r\n  const classes = useStyles();\r\n  const { className, children, plain, profile, chart, ...rest } = props;\r\n  const cardClasses = classNames({\r\n    [classes.card]: true,\r\n    [classes.cardPlain]: plain,\r\n    [classes.cardProfile]: profile,\r\n    [classes.cardChart]: chart,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCard.propTypes = {\r\n  className: PropTypes.string,\r\n  plain: PropTypes.bool,\r\n  profile: PropTypes.bool,\r\n  chart: PropTypes.bool,\r\n  children: PropTypes.node\r\n};\r\n","const cardBodyStyle = {\r\n  cardBody: {\r\n    padding: \"0.9375rem 20px\",\r\n    flex: \"1 1 auto\",\r\n    WebkitBoxFlex: \"1\",\r\n    position: \"relative\"\r\n  },\r\n  cardBodyPlain: {\r\n    paddingLeft: \"5px\",\r\n    paddingRight: \"5px\"\r\n  },\r\n  cardBodyProfile: {\r\n    marginTop: \"15px\"\r\n  }\r\n};\r\n\r\nexport default cardBodyStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/cardBodyStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function CardBody(props) {\r\n  const classes = useStyles();\r\n  const { className, children, plain, profile, ...rest } = props;\r\n  const cardBodyClasses = classNames({\r\n    [classes.cardBody]: true,\r\n    [classes.cardBodyPlain]: plain,\r\n    [classes.cardBodyProfile]: profile,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardBodyClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardBody.propTypes = {\r\n  className: PropTypes.string,\r\n  plain: PropTypes.bool,\r\n  profile: PropTypes.bool,\r\n  children: PropTypes.node\r\n};\r\n","import {\r\n  warningCardHeader,\r\n  successCardHeader,\r\n  dangerCardHeader,\r\n  infoCardHeader,\r\n  primaryCardHeader,\r\n  roseCardHeader,\r\n  whiteColor\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst cardHeaderStyle = {\r\n  cardHeader: {\r\n    padding: \"0.75rem 1.25rem\",\r\n    marginBottom: \"0\",\r\n    borderBottom: \"none\",\r\n    background: \"transparent\",\r\n    zIndex: \"3 !important\",\r\n    \"&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\r\n      margin: \"0 15px\",\r\n      padding: \"0\",\r\n      position: \"relative\",\r\n      color: whiteColor\r\n    },\r\n    \"&:first-child\": {\r\n      borderRadius: \"calc(.25rem - 1px) calc(.25rem - 1px) 0 0\"\r\n    },\r\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\r\n      \"&:not($cardHeaderIcon)\": {\r\n        borderRadius: \"3px\",\r\n        marginTop: \"-20px\",\r\n        padding: \"15px\"\r\n      }\r\n    },\r\n    \"&$cardHeaderStats svg\": {\r\n      fontSize: \"36px\",\r\n      lineHeight: \"56px\",\r\n      textAlign: \"center\",\r\n      width: \"36px\",\r\n      height: \"36px\",\r\n      margin: \"10px 10px 4px\"\r\n    },\r\n    \"&$cardHeaderStats i,&$cardHeaderStats .material-icons\": {\r\n      fontSize: \"36px\",\r\n      lineHeight: \"56px\",\r\n      width: \"56px\",\r\n      height: \"56px\",\r\n      textAlign: \"center\",\r\n      overflow: \"unset\",\r\n      marginBottom: \"1px\"\r\n    },\r\n    \"&$cardHeaderStats$cardHeaderIcon\": {\r\n      textAlign: \"right\"\r\n    }\r\n  },\r\n  cardHeaderPlain: {\r\n    marginLeft: \"0px !important\",\r\n    marginRight: \"0px !important\"\r\n  },\r\n  cardHeaderStats: {\r\n    \"& $cardHeaderIcon\": {\r\n      textAlign: \"right\"\r\n    },\r\n    \"& h1,& h2,& h3,& h4,& h5,& h6\": {\r\n      margin: \"0 !important\"\r\n    }\r\n  },\r\n  cardHeaderIcon: {\r\n    \"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader\": {\r\n      background: \"transparent\",\r\n      boxShadow: \"none\"\r\n    },\r\n    \"& i,& .material-icons\": {\r\n      width: \"33px\",\r\n      height: \"33px\",\r\n      textAlign: \"center\",\r\n      lineHeight: \"33px\"\r\n    },\r\n    \"& svg\": {\r\n      width: \"24px\",\r\n      height: \"24px\",\r\n      textAlign: \"center\",\r\n      lineHeight: \"33px\",\r\n      margin: \"5px 4px 0px\"\r\n    }\r\n  },\r\n  warningCardHeader: {\r\n    color: whiteColor,\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...warningCardHeader\r\n    }\r\n  },\r\n  successCardHeader: {\r\n    color: whiteColor,\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...successCardHeader\r\n    }\r\n  },\r\n  dangerCardHeader: {\r\n    color: whiteColor,\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...dangerCardHeader\r\n    }\r\n  },\r\n  infoCardHeader: {\r\n    color: whiteColor,\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...infoCardHeader\r\n    }\r\n  },\r\n  primaryCardHeader: {\r\n    color: whiteColor,\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...primaryCardHeader\r\n    }\r\n  },\r\n  roseCardHeader: {\r\n    color: whiteColor,\r\n    \"&:not($cardHeaderIcon)\": {\r\n      ...roseCardHeader\r\n    }\r\n  }\r\n};\r\n\r\nexport default cardHeaderStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/cardHeaderStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function CardHeader(props) {\r\n  const classes = useStyles();\r\n  const { className, children, color, plain, stats, icon, ...rest } = props;\r\n  const cardHeaderClasses = classNames({\r\n    [classes.cardHeader]: true,\r\n    [classes[color + \"CardHeader\"]]: color,\r\n    [classes.cardHeaderPlain]: plain,\r\n    [classes.cardHeaderStats]: stats,\r\n    [classes.cardHeaderIcon]: icon,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardHeaderClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardHeader.propTypes = {\r\n  className: PropTypes.string,\r\n  color: PropTypes.oneOf([\r\n    \"warning\",\r\n    \"success\",\r\n    \"danger\",\r\n    \"info\",\r\n    \"primary\",\r\n    \"rose\"\r\n  ]),\r\n  plain: PropTypes.bool,\r\n  stats: PropTypes.bool,\r\n  icon: PropTypes.bool,\r\n  children: PropTypes.node\r\n};\r\n"],"sourceRoot":""}